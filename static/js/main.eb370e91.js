/*! For license information please see main.eb370e91.js.LICENSE.txt */
!function(){var e={9948:function(e){"use strict";var t=function(e){return function(e){return!!e&&"object"===typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===n}(e)}(e)};var n="function"===typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(e,t){return!1!==t.clone&&t.isMergeableObject(e)?u((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function i(e,t,n){return e.concat(t).map((function(e){return r(e,n)}))}function a(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function o(e,t){try{return t in e}catch(n){return!1}}function s(e,t,n){var i={};return n.isMergeableObject(e)&&a(e).forEach((function(t){i[t]=r(e[t],n)})),a(t).forEach((function(a){(function(e,t){return o(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,a)||(o(e,a)&&n.isMergeableObject(t[a])?i[a]=function(e,t){if(!t.customMerge)return u;var n=t.customMerge(e);return"function"===typeof n?n:u}(a,n)(e[a],t[a],n):i[a]=r(t[a],n))})),i}function u(e,n,a){(a=a||{}).arrayMerge=a.arrayMerge||i,a.isMergeableObject=a.isMergeableObject||t,a.cloneUnlessOtherwiseSpecified=r;var o=Array.isArray(n);return o===Array.isArray(e)?o?a.arrayMerge(e,n,a):s(e,n,a):r(n,a)}u.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return u(e,n,t)}),{})};var c=u;e.exports=c},2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var s=u(t),v=u(n),y=0;y<o.length;++y){var m=o[y];if(!a[m]&&(!r||!r[m])&&(!v||!v[m])&&(!s||!s[m])){var g=h(n,m);try{c(t,m,g)}catch(b){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,k=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case s:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case y:case v:case u:return e;default:return t}}case i:return t}}}function _(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=y,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return _(e)||w(e)===l},t.isConcurrentMode=_,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===y},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===s||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===b||e.$$typeof===k||e.$$typeof===m)},t.typeOf=w},8309:function(e,t,n){"use strict";e.exports=n(746)},5102:function(e){function t(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function n(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}e.exports=function(e,r,i){var a=document.head||document.getElementsByTagName("head")[0],o=document.createElement("script");"function"===typeof r&&(i=r,r={}),r=r||{},i=i||function(){},o.type=r.type||"text/javascript",o.charset=r.charset||"utf8",o.async=!("async"in r)||!!r.async,o.src=e,r.attrs&&function(e,t){for(var n in t)e.setAttribute(n,t[n])}(o,r.attrs),r.text&&(o.text=""+r.text),("onload"in o?t:n)(o,i),o.onload||t(o,i),a.appendChild(o)}},5781:function(e,t,n){"use strict";n.r(t);var r=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function i(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(i=e[n],a=t[n],!(i===a||r(i)&&r(a)))return!1;var i,a;return!0}t.default=function(e,t){var n;void 0===t&&(t=i);var r,a=[],o=!1;return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return o&&n===this&&t(i,a)||(r=e.apply(this,i),o=!0,n=this,a=i),r}}},2426:function(e,t,n){(e=n.nmd(e)).exports=function(){"use strict";var t,n;function r(){return t.apply(null,arguments)}function i(e){t=e}function a(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function o(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(s(e,t))return!1;return!0}function c(e){return void 0===e}function l(e){return"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e)}function f(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function h(e,t){var n,r=[],i=e.length;for(n=0;n<i;++n)r.push(t(e[n],n));return r}function d(e,t){for(var n in t)s(t,n)&&(e[n]=t[n]);return s(t,"toString")&&(e.toString=t.toString),s(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,n,r){return Yn(e,t,n,r,!0).utc()}function v(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function y(e){return null==e._pf&&(e._pf=v()),e._pf}function m(e){if(null==e._isValid){var t=y(e),r=n.call(t.parsedDateParts,(function(e){return null!=e})),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function g(e){var t=p(NaN);return null!=e?d(y(t),e):y(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),r=n.length>>>0;for(t=0;t<r;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var b=r.momentProperties=[],k=!1;function w(e,t){var n,r,i,a=b.length;if(c(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),c(t._i)||(e._i=t._i),c(t._f)||(e._f=t._f),c(t._l)||(e._l=t._l),c(t._strict)||(e._strict=t._strict),c(t._tzm)||(e._tzm=t._tzm),c(t._isUTC)||(e._isUTC=t._isUTC),c(t._offset)||(e._offset=t._offset),c(t._pf)||(e._pf=y(t)),c(t._locale)||(e._locale=t._locale),a>0)for(n=0;n<a;n++)c(i=t[r=b[n]])||(e[r]=i);return e}function _(e){w(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===k&&(k=!0,r.updateOffset(this),k=!1)}function x(e){return e instanceof _||null!=e&&null!=e._isAMomentObject}function S(e){!1===r.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function E(e,t){var n=!0;return d((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){var i,a,o,u=[],c=arguments.length;for(a=0;a<c;a++){if(i="","object"===typeof arguments[a]){for(o in i+="\n["+a+"] ",arguments[0])s(arguments[0],o)&&(i+=o+": "+arguments[0][o]+", ");i=i.slice(0,-2)}else i=arguments[a];u.push(i)}S(e+"\nArguments: "+Array.prototype.slice.call(u).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var T,I={};function C(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),I[e]||(S(t),I[e]=!0)}function P(e){return"undefined"!==typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function O(e){var t,n;for(n in e)s(e,n)&&(P(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function R(e,t){var n,r=d({},e);for(n in t)s(t,n)&&(o(e[n])&&o(t[n])?(r[n]={},d(r[n],e[n]),d(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)s(e,n)&&!s(t,n)&&o(e[n])&&(r[n]=d({},r[n]));return r}function D(e){null!=e&&this.set(e)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,T=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)s(e,t)&&n.push(t);return n};var N={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function A(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return P(r)?r.call(t,n):r}function j(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var M=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,L=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,F={},U={};function V(e,t,n,r){var i=r;"string"===typeof r&&(i=function(){return this[r]()}),e&&(U[e]=i),t&&(U[t[0]]=function(){return j(i.apply(this,arguments),t[1],t[2])}),n&&(U[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function z(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function q(e){var t,n,r=e.match(M);for(t=0,n=r.length;t<n;t++)U[r[t]]?r[t]=U[r[t]]:r[t]=z(r[t]);return function(t){var i,a="";for(i=0;i<n;i++)a+=P(r[i])?r[i].call(t,e):r[i];return a}}function B(e,t){return e.isValid()?(t=W(t,e.localeData()),F[t]=F[t]||q(t),F[t](e)):e.localeData().invalidDate()}function W(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(L.lastIndex=0;n>=0&&L.test(e);)e=e.replace(L,r),L.lastIndex=0,n-=1;return e}var H={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function G(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(M).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])}var K="Invalid date";function Y(){return this._invalidDate}var Q="%d",$=/\d{1,2}/;function X(e){return this._ordinal.replace("%d",e)}var J={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Z(e,t,n,r){var i=this._relativeTime[n];return P(i)?i(e,t,n,r):i.replace(/%d/i,e)}function ee(e,t){var n=this._relativeTime[e>0?"future":"past"];return P(n)?n(t):n.replace(/%s/i,t)}var te={};function ne(e,t){var n=e.toLowerCase();te[n]=te[n+"s"]=te[t]=e}function re(e){return"string"===typeof e?te[e]||te[e.toLowerCase()]:void 0}function ie(e){var t,n,r={};for(n in e)s(e,n)&&(t=re(n))&&(r[t]=e[n]);return r}var ae={};function oe(e,t){ae[e]=t}function se(e){var t,n=[];for(t in e)s(e,t)&&n.push({unit:t,priority:ae[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}function ue(e){return e%4===0&&e%100!==0||e%400===0}function ce(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function le(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=ce(t)),n}function fe(e,t){return function(n){return null!=n?(de(this,e,n),r.updateOffset(this,t),this):he(this,e)}}function he(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function de(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&ue(e.year())&&1===e.month()&&29===e.date()?(n=le(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Ze(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function pe(e){return P(this[e=re(e)])?this[e]():this}function ve(e,t){if("object"===typeof e){var n,r=se(e=ie(e)),i=r.length;for(n=0;n<i;n++)this[r[n].unit](e[r[n].unit])}else if(P(this[e=re(e)]))return this[e](t);return this}var ye,me=/\d/,ge=/\d\d/,be=/\d{3}/,ke=/\d{4}/,we=/[+-]?\d{6}/,_e=/\d\d?/,xe=/\d\d\d\d?/,Se=/\d\d\d\d\d\d?/,Ee=/\d{1,3}/,Te=/\d{1,4}/,Ie=/[+-]?\d{1,6}/,Ce=/\d+/,Pe=/[+-]?\d+/,Oe=/Z|[+-]\d\d:?\d\d/gi,Re=/Z|[+-]\d\d(?::?\d\d)?/gi,De=/[+-]?\d+(\.\d{1,3})?/,Ne=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function Ae(e,t,n){ye[e]=P(t)?t:function(e,r){return e&&n?n:t}}function je(e,t){return s(ye,e)?ye[e](t._strict,t._locale):new RegExp(Me(e))}function Me(e){return Le(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,i){return t||n||r||i})))}function Le(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}ye={};var Fe={};function Ue(e,t){var n,r,i=t;for("string"===typeof e&&(e=[e]),l(t)&&(i=function(e,n){n[t]=le(e)}),r=e.length,n=0;n<r;n++)Fe[e[n]]=i}function Ve(e,t){Ue(e,(function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)}))}function ze(e,t,n){null!=t&&s(Fe,e)&&Fe[e](t,n._a,n,e)}var qe,Be=0,We=1,He=2,Ge=3,Ke=4,Ye=5,Qe=6,$e=7,Xe=8;function Je(e,t){return(e%t+t)%t}function Ze(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=Je(t,12);return e+=(t-n)/12,1===n?ue(e)?29:28:31-n%7%2}qe=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},V("M",["MM",2],"Mo",(function(){return this.month()+1})),V("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),V("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),ne("month","M"),oe("month",8),Ae("M",_e),Ae("MM",_e,ge),Ae("MMM",(function(e,t){return t.monthsShortRegex(e)})),Ae("MMMM",(function(e,t){return t.monthsRegex(e)})),Ue(["M","MM"],(function(e,t){t[We]=le(e)-1})),Ue(["MMM","MMMM"],(function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[We]=i:y(n).invalidMonth=e}));var et="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),tt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),nt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,rt=Ne,it=Ne;function at(e,t){return e?a(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||nt).test(t)?"format":"standalone"][e.month()]:a(this._months)?this._months:this._months.standalone}function ot(e,t){return e?a(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[nt.test(t)?"format":"standalone"][e.month()]:a(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function st(e,t,n){var r,i,a,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)a=p([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(a,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=qe.call(this._shortMonthsParse,o))?i:null:-1!==(i=qe.call(this._longMonthsParse,o))?i:null:"MMM"===t?-1!==(i=qe.call(this._shortMonthsParse,o))||-1!==(i=qe.call(this._longMonthsParse,o))?i:null:-1!==(i=qe.call(this._longMonthsParse,o))||-1!==(i=qe.call(this._shortMonthsParse,o))?i:null}function ut(e,t,n){var r,i,a;if(this._monthsParseExact)return st.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=p([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(a="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(a.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function ct(e,t){var n;if(!e.isValid())return e;if("string"===typeof t)if(/^\d+$/.test(t))t=le(t);else if(!l(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Ze(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function lt(e){return null!=e?(ct(this,e),r.updateOffset(this,!0),this):he(this,"Month")}function ft(){return Ze(this.year(),this.month())}function ht(e){return this._monthsParseExact?(s(this,"_monthsRegex")||pt.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=rt),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function dt(e){return this._monthsParseExact?(s(this,"_monthsRegex")||pt.call(this),e?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=it),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function pt(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],a=[];for(t=0;t<12;t++)n=p([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),a.push(this.months(n,"")),a.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),a.sort(e),t=0;t<12;t++)r[t]=Le(r[t]),i[t]=Le(i[t]);for(t=0;t<24;t++)a[t]=Le(a[t]);this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function vt(e){return ue(e)?366:365}V("Y",0,0,(function(){var e=this.year();return e<=9999?j(e,4):"+"+e})),V(0,["YY",2],0,(function(){return this.year()%100})),V(0,["YYYY",4],0,"year"),V(0,["YYYYY",5],0,"year"),V(0,["YYYYYY",6,!0],0,"year"),ne("year","y"),oe("year",1),Ae("Y",Pe),Ae("YY",_e,ge),Ae("YYYY",Te,ke),Ae("YYYYY",Ie,we),Ae("YYYYYY",Ie,we),Ue(["YYYYY","YYYYYY"],Be),Ue("YYYY",(function(e,t){t[Be]=2===e.length?r.parseTwoDigitYear(e):le(e)})),Ue("YY",(function(e,t){t[Be]=r.parseTwoDigitYear(e)})),Ue("Y",(function(e,t){t[Be]=parseInt(e,10)})),r.parseTwoDigitYear=function(e){return le(e)+(le(e)>68?1900:2e3)};var yt=fe("FullYear",!0);function mt(){return ue(this.year())}function gt(e,t,n,r,i,a,o){var s;return e<100&&e>=0?(s=new Date(e+400,t,n,r,i,a,o),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,r,i,a,o),s}function bt(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function kt(e,t,n){var r=7+t-n;return-(7+bt(e,0,r).getUTCDay()-t)%7+r-1}function wt(e,t,n,r,i){var a,o,s=1+7*(t-1)+(7+n-r)%7+kt(e,r,i);return s<=0?o=vt(a=e-1)+s:s>vt(e)?(a=e+1,o=s-vt(e)):(a=e,o=s),{year:a,dayOfYear:o}}function _t(e,t,n){var r,i,a=kt(e.year(),t,n),o=Math.floor((e.dayOfYear()-a-1)/7)+1;return o<1?r=o+xt(i=e.year()-1,t,n):o>xt(e.year(),t,n)?(r=o-xt(e.year(),t,n),i=e.year()+1):(i=e.year(),r=o),{week:r,year:i}}function xt(e,t,n){var r=kt(e,t,n),i=kt(e+1,t,n);return(vt(e)-r+i)/7}function St(e){return _t(e,this._week.dow,this._week.doy).week}V("w",["ww",2],"wo","week"),V("W",["WW",2],"Wo","isoWeek"),ne("week","w"),ne("isoWeek","W"),oe("week",5),oe("isoWeek",5),Ae("w",_e),Ae("ww",_e,ge),Ae("W",_e),Ae("WW",_e,ge),Ve(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=le(e)}));var Et={dow:0,doy:6};function Tt(){return this._week.dow}function It(){return this._week.doy}function Ct(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Pt(e){var t=_t(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Ot(e,t){return"string"!==typeof e?e:isNaN(e)?"number"===typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function Rt(e,t){return"string"===typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Dt(e,t){return e.slice(t,7).concat(e.slice(0,t))}V("d",0,"do","day"),V("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),V("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),V("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),V("e",0,0,"weekday"),V("E",0,0,"isoWeekday"),ne("day","d"),ne("weekday","e"),ne("isoWeekday","E"),oe("day",11),oe("weekday",11),oe("isoWeekday",11),Ae("d",_e),Ae("e",_e),Ae("E",_e),Ae("dd",(function(e,t){return t.weekdaysMinRegex(e)})),Ae("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),Ae("dddd",(function(e,t){return t.weekdaysRegex(e)})),Ve(["dd","ddd","dddd"],(function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:y(n).invalidWeekday=e})),Ve(["d","e","E"],(function(e,t,n,r){t[r]=le(e)}));var Nt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),At="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),jt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Mt=Ne,Lt=Ne,Ft=Ne;function Ut(e,t){var n=a(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Dt(n,this._week.dow):e?n[e.day()]:n}function Vt(e){return!0===e?Dt(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function zt(e){return!0===e?Dt(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function qt(e,t,n){var r,i,a,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)a=p([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(a,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=qe.call(this._weekdaysParse,o))?i:null:"ddd"===t?-1!==(i=qe.call(this._shortWeekdaysParse,o))?i:null:-1!==(i=qe.call(this._minWeekdaysParse,o))?i:null:"dddd"===t?-1!==(i=qe.call(this._weekdaysParse,o))||-1!==(i=qe.call(this._shortWeekdaysParse,o))||-1!==(i=qe.call(this._minWeekdaysParse,o))?i:null:"ddd"===t?-1!==(i=qe.call(this._shortWeekdaysParse,o))||-1!==(i=qe.call(this._weekdaysParse,o))||-1!==(i=qe.call(this._minWeekdaysParse,o))?i:null:-1!==(i=qe.call(this._minWeekdaysParse,o))||-1!==(i=qe.call(this._weekdaysParse,o))||-1!==(i=qe.call(this._shortWeekdaysParse,o))?i:null}function Bt(e,t,n){var r,i,a;if(this._weekdaysParseExact)return qt.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=p([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(a="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(a.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Wt(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Ot(e,this.localeData()),this.add(e-t,"d")):t}function Ht(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Gt(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Rt(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Kt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||$t.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=Mt),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Yt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||$t.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Lt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Qt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||$t.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ft),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function $t(){function e(e,t){return t.length-e.length}var t,n,r,i,a,o=[],s=[],u=[],c=[];for(t=0;t<7;t++)n=p([2e3,1]).day(t),r=Le(this.weekdaysMin(n,"")),i=Le(this.weekdaysShort(n,"")),a=Le(this.weekdays(n,"")),o.push(r),s.push(i),u.push(a),c.push(r),c.push(i),c.push(a);o.sort(e),s.sort(e),u.sort(e),c.sort(e),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function Xt(){return this.hours()%12||12}function Jt(){return this.hours()||24}function Zt(e,t){V(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function en(e,t){return t._meridiemParse}function tn(e){return"p"===(e+"").toLowerCase().charAt(0)}V("H",["HH",2],0,"hour"),V("h",["hh",2],0,Xt),V("k",["kk",2],0,Jt),V("hmm",0,0,(function(){return""+Xt.apply(this)+j(this.minutes(),2)})),V("hmmss",0,0,(function(){return""+Xt.apply(this)+j(this.minutes(),2)+j(this.seconds(),2)})),V("Hmm",0,0,(function(){return""+this.hours()+j(this.minutes(),2)})),V("Hmmss",0,0,(function(){return""+this.hours()+j(this.minutes(),2)+j(this.seconds(),2)})),Zt("a",!0),Zt("A",!1),ne("hour","h"),oe("hour",13),Ae("a",en),Ae("A",en),Ae("H",_e),Ae("h",_e),Ae("k",_e),Ae("HH",_e,ge),Ae("hh",_e,ge),Ae("kk",_e,ge),Ae("hmm",xe),Ae("hmmss",Se),Ae("Hmm",xe),Ae("Hmmss",Se),Ue(["H","HH"],Ge),Ue(["k","kk"],(function(e,t,n){var r=le(e);t[Ge]=24===r?0:r})),Ue(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),Ue(["h","hh"],(function(e,t,n){t[Ge]=le(e),y(n).bigHour=!0})),Ue("hmm",(function(e,t,n){var r=e.length-2;t[Ge]=le(e.substr(0,r)),t[Ke]=le(e.substr(r)),y(n).bigHour=!0})),Ue("hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[Ge]=le(e.substr(0,r)),t[Ke]=le(e.substr(r,2)),t[Ye]=le(e.substr(i)),y(n).bigHour=!0})),Ue("Hmm",(function(e,t,n){var r=e.length-2;t[Ge]=le(e.substr(0,r)),t[Ke]=le(e.substr(r))})),Ue("Hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[Ge]=le(e.substr(0,r)),t[Ke]=le(e.substr(r,2)),t[Ye]=le(e.substr(i))}));var nn=/[ap]\.?m?\.?/i,rn=fe("Hours",!0);function an(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var on,sn={calendar:N,longDateFormat:H,invalidDate:K,ordinal:Q,dayOfMonthOrdinalParse:$,relativeTime:J,months:et,monthsShort:tt,week:Et,weekdays:Nt,weekdaysMin:jt,weekdaysShort:At,meridiemParse:nn},un={},cn={};function ln(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function fn(e){return e?e.toLowerCase().replace("_","-"):e}function hn(e){for(var t,n,r,i,a=0;a<e.length;){for(t=(i=fn(e[a]).split("-")).length,n=(n=fn(e[a+1]))?n.split("-"):null;t>0;){if(r=pn(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&ln(i,n)>=t-1)break;t--}a++}return on}function dn(e){return null!=e.match("^[^/\\\\]*$")}function pn(t){var n=null;if(void 0===un[t]&&e&&e.exports&&dn(t))try{n=on._abbr,Object(function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}()),vn(n)}catch(r){un[t]=null}return un[t]}function vn(e,t){var n;return e&&((n=c(t)?gn(e):yn(e,t))?on=n:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),on._abbr}function yn(e,t){if(null!==t){var n,r=sn;if(t.abbr=e,null!=un[e])C("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=un[e]._config;else if(null!=t.parentLocale)if(null!=un[t.parentLocale])r=un[t.parentLocale]._config;else{if(null==(n=pn(t.parentLocale)))return cn[t.parentLocale]||(cn[t.parentLocale]=[]),cn[t.parentLocale].push({name:e,config:t}),null;r=n._config}return un[e]=new D(R(r,t)),cn[e]&&cn[e].forEach((function(e){yn(e.name,e.config)})),vn(e),un[e]}return delete un[e],null}function mn(e,t){if(null!=t){var n,r,i=sn;null!=un[e]&&null!=un[e].parentLocale?un[e].set(R(un[e]._config,t)):(null!=(r=pn(e))&&(i=r._config),t=R(i,t),null==r&&(t.abbr=e),(n=new D(t)).parentLocale=un[e],un[e]=n),vn(e)}else null!=un[e]&&(null!=un[e].parentLocale?(un[e]=un[e].parentLocale,e===vn()&&vn(e)):null!=un[e]&&delete un[e]);return un[e]}function gn(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return on;if(!a(e)){if(t=pn(e))return t;e=[e]}return hn(e)}function bn(){return T(un)}function kn(e){var t,n=e._a;return n&&-2===y(e).overflow&&(t=n[We]<0||n[We]>11?We:n[He]<1||n[He]>Ze(n[Be],n[We])?He:n[Ge]<0||n[Ge]>24||24===n[Ge]&&(0!==n[Ke]||0!==n[Ye]||0!==n[Qe])?Ge:n[Ke]<0||n[Ke]>59?Ke:n[Ye]<0||n[Ye]>59?Ye:n[Qe]<0||n[Qe]>999?Qe:-1,y(e)._overflowDayOfYear&&(t<Be||t>He)&&(t=He),y(e)._overflowWeeks&&-1===t&&(t=$e),y(e)._overflowWeekday&&-1===t&&(t=Xe),y(e).overflow=t),e}var wn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_n=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,xn=/Z|[+-]\d\d(?::?\d\d)?/,Sn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],En=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Tn=/^\/?Date\((-?\d+)/i,In=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Cn={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Pn(e){var t,n,r,i,a,o,s=e._i,u=wn.exec(s)||_n.exec(s),c=Sn.length,l=En.length;if(u){for(y(e).iso=!0,t=0,n=c;t<n;t++)if(Sn[t][1].exec(u[1])){i=Sn[t][0],r=!1!==Sn[t][2];break}if(null==i)return void(e._isValid=!1);if(u[3]){for(t=0,n=l;t<n;t++)if(En[t][1].exec(u[3])){a=(u[2]||" ")+En[t][0];break}if(null==a)return void(e._isValid=!1)}if(!r&&null!=a)return void(e._isValid=!1);if(u[4]){if(!xn.exec(u[4]))return void(e._isValid=!1);o="Z"}e._f=i+(a||"")+(o||""),zn(e)}else e._isValid=!1}function On(e,t,n,r,i,a){var o=[Rn(e),tt.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return a&&o.push(parseInt(a,10)),o}function Rn(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Dn(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Nn(e,t,n){return!e||At.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(y(n).weekdayMismatch=!0,n._isValid=!1,!1)}function An(e,t,n){if(e)return Cn[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}function jn(e){var t,n=In.exec(Dn(e._i));if(n){if(t=On(n[4],n[3],n[2],n[5],n[6],n[7]),!Nn(n[1],t,e))return;e._a=t,e._tzm=An(n[8],n[9],n[10]),e._d=bt.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),y(e).rfc2822=!0}else e._isValid=!1}function Mn(e){var t=Tn.exec(e._i);null===t?(Pn(e),!1===e._isValid&&(delete e._isValid,jn(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:r.createFromInputFallback(e)))):e._d=new Date(+t[1])}function Ln(e,t,n){return null!=e?e:null!=t?t:n}function Fn(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Un(e){var t,n,r,i,a,o=[];if(!e._d){for(r=Fn(e),e._w&&null==e._a[He]&&null==e._a[We]&&Vn(e),null!=e._dayOfYear&&(a=Ln(e._a[Be],r[Be]),(e._dayOfYear>vt(a)||0===e._dayOfYear)&&(y(e)._overflowDayOfYear=!0),n=bt(a,0,e._dayOfYear),e._a[We]=n.getUTCMonth(),e._a[He]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=r[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Ge]&&0===e._a[Ke]&&0===e._a[Ye]&&0===e._a[Qe]&&(e._nextDay=!0,e._a[Ge]=0),e._d=(e._useUTC?bt:gt).apply(null,o),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Ge]=24),e._w&&"undefined"!==typeof e._w.d&&e._w.d!==i&&(y(e).weekdayMismatch=!0)}}function Vn(e){var t,n,r,i,a,o,s,u,c;null!=(t=e._w).GG||null!=t.W||null!=t.E?(a=1,o=4,n=Ln(t.GG,e._a[Be],_t(Qn(),1,4).year),r=Ln(t.W,1),((i=Ln(t.E,1))<1||i>7)&&(u=!0)):(a=e._locale._week.dow,o=e._locale._week.doy,c=_t(Qn(),a,o),n=Ln(t.gg,e._a[Be],c.year),r=Ln(t.w,c.week),null!=t.d?((i=t.d)<0||i>6)&&(u=!0):null!=t.e?(i=t.e+a,(t.e<0||t.e>6)&&(u=!0)):i=a),r<1||r>xt(n,a,o)?y(e)._overflowWeeks=!0:null!=u?y(e)._overflowWeekday=!0:(s=wt(n,r,i,a,o),e._a[Be]=s.year,e._dayOfYear=s.dayOfYear)}function zn(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],y(e).empty=!0;var t,n,i,a,o,s,u,c=""+e._i,l=c.length,f=0;for(u=(i=W(e._f,e._locale).match(M)||[]).length,t=0;t<u;t++)a=i[t],(n=(c.match(je(a,e))||[])[0])&&((o=c.substr(0,c.indexOf(n))).length>0&&y(e).unusedInput.push(o),c=c.slice(c.indexOf(n)+n.length),f+=n.length),U[a]?(n?y(e).empty=!1:y(e).unusedTokens.push(a),ze(a,n,e)):e._strict&&!n&&y(e).unusedTokens.push(a);y(e).charsLeftOver=l-f,c.length>0&&y(e).unusedInput.push(c),e._a[Ge]<=12&&!0===y(e).bigHour&&e._a[Ge]>0&&(y(e).bigHour=void 0),y(e).parsedDateParts=e._a.slice(0),y(e).meridiem=e._meridiem,e._a[Ge]=qn(e._locale,e._a[Ge],e._meridiem),null!==(s=y(e).era)&&(e._a[Be]=e._locale.erasConvertYear(s,e._a[Be])),Un(e),kn(e)}else jn(e);else Pn(e)}function qn(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function Bn(e){var t,n,r,i,a,o,s=!1,u=e._f.length;if(0===u)return y(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<u;i++)a=0,o=!1,t=w({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],zn(t),m(t)&&(o=!0),a+=y(t).charsLeftOver,a+=10*y(t).unusedTokens.length,y(t).score=a,s?a<r&&(r=a,n=t):(null==r||a<r||o)&&(r=a,n=t,o&&(s=!0));d(e,n||t)}function Wn(e){if(!e._d){var t=ie(e._i),n=void 0===t.day?t.date:t.day;e._a=h([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),Un(e)}}function Hn(e){var t=new _(kn(Gn(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Gn(e){var t=e._i,n=e._f;return e._locale=e._locale||gn(e._l),null===t||void 0===n&&""===t?g({nullInput:!0}):("string"===typeof t&&(e._i=t=e._locale.preparse(t)),x(t)?new _(kn(t)):(f(t)?e._d=t:a(n)?Bn(e):n?zn(e):Kn(e),m(e)||(e._d=null),e))}function Kn(e){var t=e._i;c(t)?e._d=new Date(r.now()):f(t)?e._d=new Date(t.valueOf()):"string"===typeof t?Mn(e):a(t)?(e._a=h(t.slice(0),(function(e){return parseInt(e,10)})),Un(e)):o(t)?Wn(e):l(t)?e._d=new Date(t):r.createFromInputFallback(e)}function Yn(e,t,n,r,i){var s={};return!0!==t&&!1!==t||(r=t,t=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(o(e)&&u(e)||a(e)&&0===e.length)&&(e=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=n,s._i=e,s._f=t,s._strict=r,Hn(s)}function Qn(e,t,n,r){return Yn(e,t,n,r,!1)}r.createFromInputFallback=E("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var $n=E("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Qn.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:g()})),Xn=E("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Qn.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:g()}));function Jn(e,t){var n,r;if(1===t.length&&a(t[0])&&(t=t[0]),!t.length)return Qn();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}function Zn(){return Jn("isBefore",[].slice.call(arguments,0))}function er(){return Jn("isAfter",[].slice.call(arguments,0))}var tr=function(){return Date.now?Date.now():+new Date},nr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function rr(e){var t,n,r=!1,i=nr.length;for(t in e)if(s(e,t)&&(-1===qe.call(nr,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<i;++n)if(e[nr[n]]){if(r)return!1;parseFloat(e[nr[n]])!==le(e[nr[n]])&&(r=!0)}return!0}function ir(){return this._isValid}function ar(){return Cr(NaN)}function or(e){var t=ie(e),n=t.year||0,r=t.quarter||0,i=t.month||0,a=t.week||t.isoWeek||0,o=t.day||0,s=t.hour||0,u=t.minute||0,c=t.second||0,l=t.millisecond||0;this._isValid=rr(t),this._milliseconds=+l+1e3*c+6e4*u+1e3*s*60*60,this._days=+o+7*a,this._months=+i+3*r+12*n,this._data={},this._locale=gn(),this._bubble()}function sr(e){return e instanceof or}function ur(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function cr(e,t,n){var r,i=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),o=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&le(e[r])!==le(t[r]))&&o++;return o+a}function lr(e,t){V(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+j(~~(e/60),2)+t+j(~~e%60,2)}))}lr("Z",":"),lr("ZZ",""),Ae("Z",Re),Ae("ZZ",Re),Ue(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=hr(Re,e)}));var fr=/([\+\-]|\d\d)/gi;function hr(e,t){var n,r,i=(t||"").match(e);return null===i?null:0===(r=60*(n=((i[i.length-1]||[])+"").match(fr)||["-",0,0])[1]+le(n[2]))?0:"+"===n[0]?r:-r}function dr(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(x(e)||f(e)?e.valueOf():Qn(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),r.updateOffset(n,!1),n):Qn(e).local()}function pr(e){return-Math.round(e._d.getTimezoneOffset())}function vr(e,t,n){var i,a=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"===typeof e){if(null===(e=hr(Re,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(i=pr(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),a!==e&&(!t||this._changeInProgress?Nr(this,Cr(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?a:pr(this)}function yr(e,t){return null!=e?("string"!==typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function mr(e){return this.utcOffset(0,e)}function gr(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(pr(this),"m")),this}function br(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var e=hr(Oe,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function kr(e){return!!this.isValid()&&(e=e?Qn(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function wr(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function _r(){if(!c(this._isDSTShifted))return this._isDSTShifted;var e,t={};return w(t,this),(t=Gn(t))._a?(e=t._isUTC?p(t._a):Qn(t._a),this._isDSTShifted=this.isValid()&&cr(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function xr(){return!!this.isValid()&&!this._isUTC}function Sr(){return!!this.isValid()&&this._isUTC}function Er(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Tr=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Ir=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Cr(e,t){var n,r,i,a=e,o=null;return sr(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:l(e)||!isNaN(+e)?(a={},t?a[t]=+e:a.milliseconds=+e):(o=Tr.exec(e))?(n="-"===o[1]?-1:1,a={y:0,d:le(o[He])*n,h:le(o[Ge])*n,m:le(o[Ke])*n,s:le(o[Ye])*n,ms:le(ur(1e3*o[Qe]))*n}):(o=Ir.exec(e))?(n="-"===o[1]?-1:1,a={y:Pr(o[2],n),M:Pr(o[3],n),w:Pr(o[4],n),d:Pr(o[5],n),h:Pr(o[6],n),m:Pr(o[7],n),s:Pr(o[8],n)}):null==a?a={}:"object"===typeof a&&("from"in a||"to"in a)&&(i=Rr(Qn(a.from),Qn(a.to)),(a={}).ms=i.milliseconds,a.M=i.months),r=new or(a),sr(e)&&s(e,"_locale")&&(r._locale=e._locale),sr(e)&&s(e,"_isValid")&&(r._isValid=e._isValid),r}function Pr(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Or(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Rr(e,t){var n;return e.isValid()&&t.isValid()?(t=dr(t,e),e.isBefore(t)?n=Or(e,t):((n=Or(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Dr(e,t){return function(n,r){var i;return null===r||isNaN(+r)||(C(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Nr(this,Cr(n,r),e),this}}function Nr(e,t,n,i){var a=t._milliseconds,o=ur(t._days),s=ur(t._months);e.isValid()&&(i=null==i||i,s&&ct(e,he(e,"Month")+s*n),o&&de(e,"Date",he(e,"Date")+o*n),a&&e._d.setTime(e._d.valueOf()+a*n),i&&r.updateOffset(e,o||s))}Cr.fn=or.prototype,Cr.invalid=ar;var Ar=Dr(1,"add"),jr=Dr(-1,"subtract");function Mr(e){return"string"===typeof e||e instanceof String}function Lr(e){return x(e)||f(e)||Mr(e)||l(e)||Ur(e)||Fr(e)||null===e||void 0===e}function Fr(e){var t,n,r=o(e)&&!u(e),i=!1,a=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],c=a.length;for(t=0;t<c;t+=1)n=a[t],i=i||s(e,n);return r&&i}function Ur(e){var t=a(e),n=!1;return t&&(n=0===e.filter((function(t){return!l(t)&&Mr(e)})).length),t&&n}function Vr(e){var t,n,r=o(e)&&!u(e),i=!1,a=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<a.length;t+=1)n=a[t],i=i||s(e,n);return r&&i}function zr(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function qr(e,t){1===arguments.length&&(arguments[0]?Lr(arguments[0])?(e=arguments[0],t=void 0):Vr(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Qn(),i=dr(n,this).startOf("day"),a=r.calendarFormat(this,i)||"sameElse",o=t&&(P(t[a])?t[a].call(this,n):t[a]);return this.format(o||this.localeData().calendar(a,this,Qn(n)))}function Br(){return new _(this)}function Wr(e,t){var n=x(e)?e:Qn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function Hr(e,t){var n=x(e)?e:Qn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function Gr(e,t,n,r){var i=x(e)?e:Qn(e),a=x(t)?t:Qn(t);return!!(this.isValid()&&i.isValid()&&a.isValid())&&("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(a,n):!this.isAfter(a,n))}function Kr(e,t){var n,r=x(e)?e:Qn(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function Yr(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Qr(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function $r(e,t,n){var r,i,a;if(!this.isValid())return NaN;if(!(r=dr(e,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=re(t)){case"year":a=Xr(this,r)/12;break;case"month":a=Xr(this,r);break;case"quarter":a=Xr(this,r)/3;break;case"second":a=(this-r)/1e3;break;case"minute":a=(this-r)/6e4;break;case"hour":a=(this-r)/36e5;break;case"day":a=(this-r-i)/864e5;break;case"week":a=(this-r-i)/6048e5;break;default:a=this-r}return n?a:ce(a)}function Xr(e,t){if(e.date()<t.date())return-Xr(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function Jr(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Zr(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?B(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):P(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",B(n,"Z")):B(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function ei(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,r,i="moment",a="";return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",a="Z"),e="["+i+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",r=a+'[")]',this.format(e+t+n+r)}function ti(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=B(this,e);return this.localeData().postformat(t)}function ni(e,t){return this.isValid()&&(x(e)&&e.isValid()||Qn(e).isValid())?Cr({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ri(e){return this.from(Qn(),e)}function ii(e,t){return this.isValid()&&(x(e)&&e.isValid()||Qn(e).isValid())?Cr({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ai(e){return this.to(Qn(),e)}function oi(e){var t;return void 0===e?this._locale._abbr:(null!=(t=gn(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var si=E("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function ui(){return this._locale}var ci=1e3,li=60*ci,fi=60*li,hi=3506328*fi;function di(e,t){return(e%t+t)%t}function pi(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-hi:new Date(e,t,n).valueOf()}function vi(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-hi:Date.UTC(e,t,n)}function yi(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?vi:pi,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=di(t+(this._isUTC?0:this.utcOffset()*li),fi);break;case"minute":t=this._d.valueOf(),t-=di(t,li);break;case"second":t=this._d.valueOf(),t-=di(t,ci)}return this._d.setTime(t),r.updateOffset(this,!0),this}function mi(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?vi:pi,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=fi-di(t+(this._isUTC?0:this.utcOffset()*li),fi)-1;break;case"minute":t=this._d.valueOf(),t+=li-di(t,li)-1;break;case"second":t=this._d.valueOf(),t+=ci-di(t,ci)-1}return this._d.setTime(t),r.updateOffset(this,!0),this}function gi(){return this._d.valueOf()-6e4*(this._offset||0)}function bi(){return Math.floor(this.valueOf()/1e3)}function ki(){return new Date(this.valueOf())}function wi(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function _i(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function xi(){return this.isValid()?this.toISOString():null}function Si(){return m(this)}function Ei(){return d({},y(this))}function Ti(){return y(this).overflow}function Ii(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Ci(e,t){var n,i,a,o=this._eras||gn("en")._eras;for(n=0,i=o.length;n<i;++n)switch("string"===typeof o[n].since&&(a=r(o[n].since).startOf("day"),o[n].since=a.valueOf()),typeof o[n].until){case"undefined":o[n].until=1/0;break;case"string":a=r(o[n].until).startOf("day").valueOf(),o[n].until=a.valueOf()}return o}function Pi(e,t,n){var r,i,a,o,s,u=this.eras();for(e=e.toUpperCase(),r=0,i=u.length;r<i;++r)if(a=u[r].name.toUpperCase(),o=u[r].abbr.toUpperCase(),s=u[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(o===e)return u[r];break;case"NNNN":if(a===e)return u[r];break;case"NNNNN":if(s===e)return u[r]}else if([a,o,s].indexOf(e)>=0)return u[r]}function Oi(e,t){var n=e.since<=e.until?1:-1;return void 0===t?r(e.since).year():r(e.since).year()+(t-e.offset)*n}function Ri(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].name;if(r[e].until<=n&&n<=r[e].since)return r[e].name}return""}function Di(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].narrow;if(r[e].until<=n&&n<=r[e].since)return r[e].narrow}return""}function Ni(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].abbr;if(r[e].until<=n&&n<=r[e].since)return r[e].abbr}return""}function Ai(){var e,t,n,i,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(n=a[e].since<=a[e].until?1:-1,i=this.clone().startOf("day").valueOf(),a[e].since<=i&&i<=a[e].until||a[e].until<=i&&i<=a[e].since)return(this.year()-r(a[e].since).year())*n+a[e].offset;return this.year()}function ji(e){return s(this,"_erasNameRegex")||qi.call(this),e?this._erasNameRegex:this._erasRegex}function Mi(e){return s(this,"_erasAbbrRegex")||qi.call(this),e?this._erasAbbrRegex:this._erasRegex}function Li(e){return s(this,"_erasNarrowRegex")||qi.call(this),e?this._erasNarrowRegex:this._erasRegex}function Fi(e,t){return t.erasAbbrRegex(e)}function Ui(e,t){return t.erasNameRegex(e)}function Vi(e,t){return t.erasNarrowRegex(e)}function zi(e,t){return t._eraYearOrdinalRegex||Ce}function qi(){var e,t,n=[],r=[],i=[],a=[],o=this.eras();for(e=0,t=o.length;e<t;++e)r.push(Le(o[e].name)),n.push(Le(o[e].abbr)),i.push(Le(o[e].narrow)),a.push(Le(o[e].name)),a.push(Le(o[e].abbr)),a.push(Le(o[e].narrow));this._erasRegex=new RegExp("^("+a.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+r.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}function Bi(e,t){V(0,[e,e.length],0,t)}function Wi(e){return $i.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Hi(e){return $i.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Gi(){return xt(this.year(),1,4)}function Ki(){return xt(this.isoWeekYear(),1,4)}function Yi(){var e=this.localeData()._week;return xt(this.year(),e.dow,e.doy)}function Qi(){var e=this.localeData()._week;return xt(this.weekYear(),e.dow,e.doy)}function $i(e,t,n,r,i){var a;return null==e?_t(this,r,i).year:(t>(a=xt(e,r,i))&&(t=a),Xi.call(this,e,t,n,r,i))}function Xi(e,t,n,r,i){var a=wt(e,t,n,r,i),o=bt(a.year,0,a.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}function Ji(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}V("N",0,0,"eraAbbr"),V("NN",0,0,"eraAbbr"),V("NNN",0,0,"eraAbbr"),V("NNNN",0,0,"eraName"),V("NNNNN",0,0,"eraNarrow"),V("y",["y",1],"yo","eraYear"),V("y",["yy",2],0,"eraYear"),V("y",["yyy",3],0,"eraYear"),V("y",["yyyy",4],0,"eraYear"),Ae("N",Fi),Ae("NN",Fi),Ae("NNN",Fi),Ae("NNNN",Ui),Ae("NNNNN",Vi),Ue(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?y(n).era=i:y(n).invalidEra=e})),Ae("y",Ce),Ae("yy",Ce),Ae("yyy",Ce),Ae("yyyy",Ce),Ae("yo",zi),Ue(["y","yy","yyy","yyyy"],Be),Ue(["yo"],(function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[Be]=n._locale.eraYearOrdinalParse(e,i):t[Be]=parseInt(e,10)})),V(0,["gg",2],0,(function(){return this.weekYear()%100})),V(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Bi("gggg","weekYear"),Bi("ggggg","weekYear"),Bi("GGGG","isoWeekYear"),Bi("GGGGG","isoWeekYear"),ne("weekYear","gg"),ne("isoWeekYear","GG"),oe("weekYear",1),oe("isoWeekYear",1),Ae("G",Pe),Ae("g",Pe),Ae("GG",_e,ge),Ae("gg",_e,ge),Ae("GGGG",Te,ke),Ae("gggg",Te,ke),Ae("GGGGG",Ie,we),Ae("ggggg",Ie,we),Ve(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=le(e)})),Ve(["gg","GG"],(function(e,t,n,i){t[i]=r.parseTwoDigitYear(e)})),V("Q",0,"Qo","quarter"),ne("quarter","Q"),oe("quarter",7),Ae("Q",me),Ue("Q",(function(e,t){t[We]=3*(le(e)-1)})),V("D",["DD",2],"Do","date"),ne("date","D"),oe("date",9),Ae("D",_e),Ae("DD",_e,ge),Ae("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),Ue(["D","DD"],He),Ue("Do",(function(e,t){t[He]=le(e.match(_e)[0])}));var Zi=fe("Date",!0);function ea(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}V("DDD",["DDDD",3],"DDDo","dayOfYear"),ne("dayOfYear","DDD"),oe("dayOfYear",4),Ae("DDD",Ee),Ae("DDDD",be),Ue(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=le(e)})),V("m",["mm",2],0,"minute"),ne("minute","m"),oe("minute",14),Ae("m",_e),Ae("mm",_e,ge),Ue(["m","mm"],Ke);var ta=fe("Minutes",!1);V("s",["ss",2],0,"second"),ne("second","s"),oe("second",15),Ae("s",_e),Ae("ss",_e,ge),Ue(["s","ss"],Ye);var na,ra,ia=fe("Seconds",!1);for(V("S",0,0,(function(){return~~(this.millisecond()/100)})),V(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),V(0,["SSS",3],0,"millisecond"),V(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),V(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),V(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),V(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),V(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),V(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),ne("millisecond","ms"),oe("millisecond",16),Ae("S",Ee,me),Ae("SS",Ee,ge),Ae("SSS",Ee,be),na="SSSS";na.length<=9;na+="S")Ae(na,Ce);function aa(e,t){t[Qe]=le(1e3*("0."+e))}for(na="S";na.length<=9;na+="S")Ue(na,aa);function oa(){return this._isUTC?"UTC":""}function sa(){return this._isUTC?"Coordinated Universal Time":""}ra=fe("Milliseconds",!1),V("z",0,0,"zoneAbbr"),V("zz",0,0,"zoneName");var ua=_.prototype;function ca(e){return Qn(1e3*e)}function la(){return Qn.apply(null,arguments).parseZone()}function fa(e){return e}ua.add=Ar,ua.calendar=qr,ua.clone=Br,ua.diff=$r,ua.endOf=mi,ua.format=ti,ua.from=ni,ua.fromNow=ri,ua.to=ii,ua.toNow=ai,ua.get=pe,ua.invalidAt=Ti,ua.isAfter=Wr,ua.isBefore=Hr,ua.isBetween=Gr,ua.isSame=Kr,ua.isSameOrAfter=Yr,ua.isSameOrBefore=Qr,ua.isValid=Si,ua.lang=si,ua.locale=oi,ua.localeData=ui,ua.max=Xn,ua.min=$n,ua.parsingFlags=Ei,ua.set=ve,ua.startOf=yi,ua.subtract=jr,ua.toArray=wi,ua.toObject=_i,ua.toDate=ki,ua.toISOString=Zr,ua.inspect=ei,"undefined"!==typeof Symbol&&null!=Symbol.for&&(ua[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),ua.toJSON=xi,ua.toString=Jr,ua.unix=bi,ua.valueOf=gi,ua.creationData=Ii,ua.eraName=Ri,ua.eraNarrow=Di,ua.eraAbbr=Ni,ua.eraYear=Ai,ua.year=yt,ua.isLeapYear=mt,ua.weekYear=Wi,ua.isoWeekYear=Hi,ua.quarter=ua.quarters=Ji,ua.month=lt,ua.daysInMonth=ft,ua.week=ua.weeks=Ct,ua.isoWeek=ua.isoWeeks=Pt,ua.weeksInYear=Yi,ua.weeksInWeekYear=Qi,ua.isoWeeksInYear=Gi,ua.isoWeeksInISOWeekYear=Ki,ua.date=Zi,ua.day=ua.days=Wt,ua.weekday=Ht,ua.isoWeekday=Gt,ua.dayOfYear=ea,ua.hour=ua.hours=rn,ua.minute=ua.minutes=ta,ua.second=ua.seconds=ia,ua.millisecond=ua.milliseconds=ra,ua.utcOffset=vr,ua.utc=mr,ua.local=gr,ua.parseZone=br,ua.hasAlignedHourOffset=kr,ua.isDST=wr,ua.isLocal=xr,ua.isUtcOffset=Sr,ua.isUtc=Er,ua.isUTC=Er,ua.zoneAbbr=oa,ua.zoneName=sa,ua.dates=E("dates accessor is deprecated. Use date instead.",Zi),ua.months=E("months accessor is deprecated. Use month instead",lt),ua.years=E("years accessor is deprecated. Use year instead",yt),ua.zone=E("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",yr),ua.isDSTShifted=E("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",_r);var ha=D.prototype;function da(e,t,n,r){var i=gn(),a=p().set(r,t);return i[n](a,e)}function pa(e,t,n){if(l(e)&&(t=e,e=void 0),e=e||"",null!=t)return da(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=da(e,r,n,"month");return i}function va(e,t,n,r){"boolean"===typeof e?(l(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,l(t)&&(n=t,t=void 0),t=t||"");var i,a=gn(),o=e?a._week.dow:0,s=[];if(null!=n)return da(t,(n+o)%7,r,"day");for(i=0;i<7;i++)s[i]=da(t,(i+o)%7,r,"day");return s}function ya(e,t){return pa(e,t,"months")}function ma(e,t){return pa(e,t,"monthsShort")}function ga(e,t,n){return va(e,t,n,"weekdays")}function ba(e,t,n){return va(e,t,n,"weekdaysShort")}function ka(e,t,n){return va(e,t,n,"weekdaysMin")}ha.calendar=A,ha.longDateFormat=G,ha.invalidDate=Y,ha.ordinal=X,ha.preparse=fa,ha.postformat=fa,ha.relativeTime=Z,ha.pastFuture=ee,ha.set=O,ha.eras=Ci,ha.erasParse=Pi,ha.erasConvertYear=Oi,ha.erasAbbrRegex=Mi,ha.erasNameRegex=ji,ha.erasNarrowRegex=Li,ha.months=at,ha.monthsShort=ot,ha.monthsParse=ut,ha.monthsRegex=dt,ha.monthsShortRegex=ht,ha.week=St,ha.firstDayOfYear=It,ha.firstDayOfWeek=Tt,ha.weekdays=Ut,ha.weekdaysMin=zt,ha.weekdaysShort=Vt,ha.weekdaysParse=Bt,ha.weekdaysRegex=Kt,ha.weekdaysShortRegex=Yt,ha.weekdaysMinRegex=Qt,ha.isPM=tn,ha.meridiem=an,vn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===le(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),r.lang=E("moment.lang is deprecated. Use moment.locale instead.",vn),r.langData=E("moment.langData is deprecated. Use moment.localeData instead.",gn);var wa=Math.abs;function _a(){var e=this._data;return this._milliseconds=wa(this._milliseconds),this._days=wa(this._days),this._months=wa(this._months),e.milliseconds=wa(e.milliseconds),e.seconds=wa(e.seconds),e.minutes=wa(e.minutes),e.hours=wa(e.hours),e.months=wa(e.months),e.years=wa(e.years),this}function xa(e,t,n,r){var i=Cr(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function Sa(e,t){return xa(this,e,t,1)}function Ea(e,t){return xa(this,e,t,-1)}function Ta(e){return e<0?Math.floor(e):Math.ceil(e)}function Ia(){var e,t,n,r,i,a=this._milliseconds,o=this._days,s=this._months,u=this._data;return a>=0&&o>=0&&s>=0||a<=0&&o<=0&&s<=0||(a+=864e5*Ta(Pa(s)+o),o=0,s=0),u.milliseconds=a%1e3,e=ce(a/1e3),u.seconds=e%60,t=ce(e/60),u.minutes=t%60,n=ce(t/60),u.hours=n%24,o+=ce(n/24),s+=i=ce(Ca(o)),o-=Ta(Pa(i)),r=ce(s/12),s%=12,u.days=o,u.months=s,u.years=r,this}function Ca(e){return 4800*e/146097}function Pa(e){return 146097*e/4800}function Oa(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=re(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+Ca(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Pa(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function Ra(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*le(this._months/12):NaN}function Da(e){return function(){return this.as(e)}}var Na=Da("ms"),Aa=Da("s"),ja=Da("m"),Ma=Da("h"),La=Da("d"),Fa=Da("w"),Ua=Da("M"),Va=Da("Q"),za=Da("y");function qa(){return Cr(this)}function Ba(e){return e=re(e),this.isValid()?this[e+"s"]():NaN}function Wa(e){return function(){return this.isValid()?this._data[e]:NaN}}var Ha=Wa("milliseconds"),Ga=Wa("seconds"),Ka=Wa("minutes"),Ya=Wa("hours"),Qa=Wa("days"),$a=Wa("months"),Xa=Wa("years");function Ja(){return ce(this.days()/7)}var Za=Math.round,eo={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function to(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function no(e,t,n,r){var i=Cr(e).abs(),a=Za(i.as("s")),o=Za(i.as("m")),s=Za(i.as("h")),u=Za(i.as("d")),c=Za(i.as("M")),l=Za(i.as("w")),f=Za(i.as("y")),h=a<=n.ss&&["s",a]||a<n.s&&["ss",a]||o<=1&&["m"]||o<n.m&&["mm",o]||s<=1&&["h"]||s<n.h&&["hh",s]||u<=1&&["d"]||u<n.d&&["dd",u];return null!=n.w&&(h=h||l<=1&&["w"]||l<n.w&&["ww",l]),(h=h||c<=1&&["M"]||c<n.M&&["MM",c]||f<=1&&["y"]||["yy",f])[2]=t,h[3]=+e>0,h[4]=r,to.apply(null,h)}function ro(e){return void 0===e?Za:"function"===typeof e&&(Za=e,!0)}function io(e,t){return void 0!==eo[e]&&(void 0===t?eo[e]:(eo[e]=t,"s"===e&&(eo.ss=t-1),!0))}function ao(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,r,i=!1,a=eo;return"object"===typeof e&&(t=e,e=!1),"boolean"===typeof e&&(i=e),"object"===typeof t&&(a=Object.assign({},eo,t),null!=t.s&&null==t.ss&&(a.ss=t.s-1)),r=no(this,!i,a,n=this.localeData()),i&&(r=n.pastFuture(+this,r)),n.postformat(r)}var oo=Math.abs;function so(e){return(e>0)-(e<0)||+e}function uo(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r,i,a,o,s,u=oo(this._milliseconds)/1e3,c=oo(this._days),l=oo(this._months),f=this.asSeconds();return f?(e=ce(u/60),t=ce(e/60),u%=60,e%=60,n=ce(l/12),l%=12,r=u?u.toFixed(3).replace(/\.?0+$/,""):"",i=f<0?"-":"",a=so(this._months)!==so(f)?"-":"",o=so(this._days)!==so(f)?"-":"",s=so(this._milliseconds)!==so(f)?"-":"",i+"P"+(n?a+n+"Y":"")+(l?a+l+"M":"")+(c?o+c+"D":"")+(t||e||u?"T":"")+(t?s+t+"H":"")+(e?s+e+"M":"")+(u?s+r+"S":"")):"P0D"}var co=or.prototype;return co.isValid=ir,co.abs=_a,co.add=Sa,co.subtract=Ea,co.as=Oa,co.asMilliseconds=Na,co.asSeconds=Aa,co.asMinutes=ja,co.asHours=Ma,co.asDays=La,co.asWeeks=Fa,co.asMonths=Ua,co.asQuarters=Va,co.asYears=za,co.valueOf=Ra,co._bubble=Ia,co.clone=qa,co.get=Ba,co.milliseconds=Ha,co.seconds=Ga,co.minutes=Ka,co.hours=Ya,co.days=Qa,co.weeks=Ja,co.months=$a,co.years=Xa,co.humanize=ao,co.toISOString=uo,co.toString=uo,co.toJSON=uo,co.locale=oi,co.localeData=ui,co.toIsoString=E("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",uo),co.lang=si,V("X",0,0,"unix"),V("x",0,0,"valueOf"),Ae("x",Pe),Ae("X",De),Ue("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),Ue("x",(function(e,t,n){n._d=new Date(le(e))})),r.version="2.29.4",i(Qn),r.fn=ua,r.min=Zn,r.max=er,r.now=tr,r.utc=p,r.unix=ca,r.months=ya,r.isDate=f,r.locale=vn,r.invalid=g,r.duration=Cr,r.isMoment=x,r.weekdays=ga,r.parseZone=la,r.localeData=gn,r.isDuration=sr,r.monthsShort=ma,r.weekdaysMin=ka,r.defineLocale=yn,r.updateLocale=mn,r.locales=bn,r.weekdaysShort=ba,r.normalizeUnits=re,r.relativeTimeRounding=ro,r.relativeTimeThreshold=io,r.calendarFormat=zr,r.prototype=ua,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()},888:function(e,t,n){"use strict";var r=n(9047);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),I=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var N=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var A=Symbol.iterator;function j(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=A&&e[A]||e["@@iterator"])?e:null}var M,L=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case _:return"Portal";case E:return"Profiler";case S:return"StrictMode";case P:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function B(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ye(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var me=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,xe=null,Se=null;function Ee(e){if(e=bi(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),_e(e.stateNode,e.type,t))}}function Te(e){xe?Se?Se.push(e):Se=[e]:xe=e}function Ie(){if(xe){var e=xe,t=Se;if(Se=xe=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ce(e,t){return e(t)}function Pe(){}var Oe=!1;function Re(e,t,n){if(Oe)return e(t,n);Oe=!0;try{return Ce(e,t,n)}finally{Oe=!1,(null!==xe||null!==Se)&&(Pe(),Ie())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ne=!1;if(l)try{var Ae={};Object.defineProperty(Ae,"passive",{get:function(){Ne=!0}}),window.addEventListener("test",Ae,Ae),window.removeEventListener("test",Ae,Ae)}catch(le){Ne=!1}function je(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Le=null,Fe=!1,Ue=null,Ve={onError:function(e){Me=!0,Le=e}};function ze(e,t,n,r,i,a,o,s,u){Me=!1,Le=null,je.apply(Ve,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Be(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(qe(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Ye=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,$e=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function yt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,_t,xt,St,Et,Tt=!1,It=[],Ct=null,Pt=null,Ot=null,Rt=new Map,Dt=new Map,Nt=[],At="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=gi(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Be(n)))return e.blockedOn=t,void Et(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Vt(){Tt=!1,null!==Ct&&Ft(Ct)&&(Ct=null),null!==Pt&&Ft(Pt)&&(Pt=null),null!==Ot&&Ft(Ot)&&(Ot=null),Rt.forEach(Ut),Dt.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function qt(e){function t(t){return zt(t,e)}if(0<It.length){zt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==Pt&&zt(Pt,e),null!==Ot&&zt(Ot,e),Rt.forEach(t),Dt.forEach(t),n=0;n<Nt.length;n++)(r=Nt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Nt.length&&null===(n=Nt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Nt.shift()}var Bt=k.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,r){var i=bt,a=Bt.transition;Bt.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=i,Bt.transition=a}}function Gt(e,t,n,r){var i=bt,a=Bt.transition;Bt.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=i,Bt.transition=a}}function Kt(e,t,n,r){if(Wt){var i=Qt(e,t,n,r);if(null===i)Wr(e,t,r,Yt,n),jt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return Pt=Mt(Pt,e,t,n,r,i),!0;case"mouseover":return Ot=Mt(Ot,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Rt.set(a,Mt(Rt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Dt.set(a,Mt(Dt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(jt(e,r),4&t&&-1<At.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&wt(a),null===(a=Qt(e,t,n,r))&&Wr(e,t,r,Yt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Yt=null;function Qt(e,t,n,r){if(Yt=null,null!==(e=gi(e=we(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Be(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=L({},cn,{view:0,detail:0}),hn=an(fn),dn=L({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(L({},dn,{dataTransfer:0})),yn=an(L({},fn,{relatedTarget:0})),mn=an(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(gn),kn=an(L({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function En(){return Sn}var Tn=L({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=an(Tn),Cn=an(L({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=an(L({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),On=an(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=L({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=an(Rn),Nn=[9,13,27,32],An=l&&"CompositionEvent"in window,jn=null;l&&"documentMode"in document&&(jn=document.documentMode);var Mn=l&&"TextEvent"in window&&!jn,Ln=l&&(!An||jn&&8<jn&&11>=jn),Fn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Nn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function Hn(e,t,n,r){Te(r),0<(t=Gr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Kn=null;function Yn(e){Fr(e,0)}function Qn(e){if(K(ki(e)))return e}function $n(e,t){if("change"===e)return t}var Xn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Kn=Gn=null)}function nr(e){if("value"===e.propertyName&&Qn(Kn)){var t=[];Hn(t,Kn,e,we(e)),Re(Yn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Kn)}function ar(e,t){if("click"===e)return Qn(t)}function or(e,t){if("input"===e||"change"===e)return Qn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,yr=null,mr=null,gr=null,br=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==yr||yr!==Y(r)||("selectionStart"in(r=yr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ur(gr,r)||(gr=r,0<(r=Gr(mr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},xr={},Sr={};function Er(e){if(xr[e])return xr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return xr[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Tr=Er("animationend"),Ir=Er("animationiteration"),Cr=Er("animationstart"),Pr=Er("transitionend"),Or=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Or.set(e,t),u(t,[e])}for(var Nr=0;Nr<Rr.length;Nr++){var Ar=Rr[Nr];Dr(Ar.toLowerCase(),"on"+(Ar[0].toUpperCase()+Ar.slice(1)))}Dr(Tr,"onAnimationEnd"),Dr(Ir,"onAnimationIteration"),Dr(Cr,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Pr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(jr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(ze.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Le;Me=!1,Le=null,Fe||(Fe=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Lr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Lr(i,s,c),a=u}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(Br(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),Br(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function Br(e,t,n,r){switch($t(t)){case 1:var i=Ht;break;case 4:i=Gt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Ne||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=gi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Re((function(){var r=a,i=we(n),o=[];e:{var s=Or.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=In;break;case"focusin":c="focus",u=yn;break;case"focusout":c="blur",u=yn;break;case"beforeblur":case"afterblur":u=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Pn;break;case Tr:case Ir:case Cr:u=mn;break;case Pr:u=On;break;case"scroll":u=hn;break;case"wheel":u=Dn;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=De(p,h))&&l.push(Hr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===ke||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ki(u),d=null==c?s:ki(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Kr(d))p++;for(d=0,v=h;v;v=Kr(v))d++;for(;0<p-d;)l=Kr(l),p--;for(;0<d-p;)h=Kr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Kr(l),h=Kr(h)}l=null}else l=null;null!==u&&Yr(o,s,u,l,!1),null!==c&&null!==f&&Yr(o,f,c,l,!0)}if("select"===(u=(s=r?ki(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var y=$n;else if(Wn(s))if(Xn)y=or;else{y=ir;var m=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(y=ar);switch(y&&(y=y(e,r))?Hn(o,y,n,i):(m&&m(e,s,r),"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&ee(s,"number",s.value)),m=r?ki(r):window,e){case"focusin":(Wn(m)||"true"===m.contentEditable)&&(yr=m,mr=r,gr=null);break;case"focusout":gr=mr=yr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,kr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":kr(o,n,i)}var g;if(An)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else qn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(qn||"onCompositionStart"!==b?"onCompositionEnd"===b&&qn&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,qn=!0)),0<(m=Gr(r,b)).length&&(b=new kn(b,e,null,n,i),o.push({event:b,listeners:m}),g?b.data=g:null!==(g=zn(n))&&(b.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!An&&Vn(e,t)?(e=en(),Zt=Jt=Xt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Fr(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=De(e,n))&&r.unshift(Hr(e,a,i)),null!=(a=De(e,t))&&r.push(Hr(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=De(n,a))&&o.unshift(Hr(n,u,s)):i||null!=(u=De(n,a))&&o.push(Hr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Qr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace($r,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);qt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,yi="__reactListeners$"+fi,mi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ki(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var _i=[],xi=-1;function Si(e){return{current:e}}function Ei(e){0>xi||(e.current=_i[xi],_i[xi]=null,xi--)}function Ti(e,t){xi++,_i[xi]=e.current,e.current=t}var Ii={},Ci=Si(Ii),Pi=Si(!1),Oi=Ii;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ni(){Ei(Pi),Ei(Ci)}function Ai(e,t,n){if(Ci.current!==Ii)throw Error(a(168));Ti(Ci,t),Ti(Pi,n)}function ji(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,B(e)||"Unknown",i));return L({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Oi=Ci.current,Ti(Ci,e),Ti(Pi,Pi.current),!0}function Li(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=ji(e,t,Oi),r.__reactInternalMemoizedMergedChildContext=e,Ei(Pi),Ei(Ci),Ti(Ci,e)):Ei(Pi),Ti(Pi,n)}var Fi=null,Ui=!1,Vi=!1;function zi(e){null===Fi?Fi=[e]:Fi.push(e)}function qi(){if(!Vi&&null!==Fi){Vi=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ke(Ze,qi),i}finally{bt=t,Vi=!1}}return null}var Bi=[],Wi=0,Hi=null,Gi=0,Ki=[],Yi=0,Qi=null,$i=1,Xi="";function Ji(e,t){Bi[Wi++]=Gi,Bi[Wi++]=Hi,Hi=e,Gi=t}function Zi(e,t,n){Ki[Yi++]=$i,Ki[Yi++]=Xi,Ki[Yi++]=Qi,Qi=e;var r=$i;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else $i=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Hi;)Hi=Bi[--Wi],Bi[Wi]=null,Gi=Bi[--Wi],Bi[Wi]=null;for(;e===Qi;)Qi=Ki[--Yi],Ki[Yi]=null,Xi=Ki[--Yi],Ki[Yi]=null,$i=Ki[--Yi],Ki[Yi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:$i,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=k.ReactCurrentBatchConfig;function ya(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ma=Si(null),ga=null,ba=null,ka=null;function wa(){ka=ba=ga=null}function _a(e){var t=ma.current;Ei(ma),e._currentValue=t}function xa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ga=e,ka=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ks=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ga)throw Error(a(308));ba=e,ga.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var Ta=null;function Ia(e){null===Ta?Ta=[e]:Ta.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ia(t)):(n.next=i.next,i.next=n),t.interleaved=n,Pa(e,r)}function Pa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Oa=!1;function Ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Da(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Na(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Aa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Pa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ia(r)):(t.next=i.next,i.next=t),r.interleaved=t,Pa(e,n)}function ja(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function La(e,t,n,r){var i=e.updateQueue;Oa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,l=c=u=null,s=a;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=L({},f,h);break e;case 2:Oa=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=f):l=l.next=d,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Mu|=o,e.lanes=o,e.memoizedState=f}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Na(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Aa(e,a,i))&&(nc(t,e,i,r),ja(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Na(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Aa(e,a,i))&&(nc(t,e,i,r),ja(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Na(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Aa(e,i,r))&&(nc(t,e,r,n),ja(t,e,r))}};function qa(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function Ba(e,t,n){var r=!1,i=Ii,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(i=Di(t)?Oi:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Ii),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Ha(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Ra(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ea(a):(a=Di(t)?Oi:Ci.current,i.context=Ri(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),La(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ka(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ya(e){return(0,e._init)(e._payload)}function Qa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Nc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===x?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===D&&Ya(a)===t.type)?((r=i(t,n.props)).ref=Ga(e,t,n),r.return=e,r):((r=Ac(n.type,n.key,n.props,null,e.mode,r)).ref=Ga(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=jc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Ac(t.type,t.key,t.props,null,e.mode,n)).ref=Ga(e,null,t),n.return=e,n;case _:return(t=Fc(t,e.mode,n)).return=e,t;case D:return h(e,(0,t._init)(t._payload),n)}if(te(t)||j(t))return(t=jc(t,e.mode,n,null)).return=e,t;Ka(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null;case D:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||j(n))return null!==i?null:f(e,t,n,r,null);Ka(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||j(r))return f(t,e=e.get(n)||null,r,i,null);Ka(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,f=a,v=a=0,y=null;null!==f&&v<s.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var m=d(i,f,s[v],u);if(null===m){null===f&&(f=y);break}e&&f&&null===m.alternate&&t(i,f),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m,f=y}if(v===s.length)return n(i,f),ia&&Ji(i,v),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Ji(i,v),c}for(f=r(i,f);v<s.length;v++)null!==(y=p(f,i,v,s[v],u))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}function y(i,s,u,c){var l=j(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,v=s,y=s=0,m=null,g=u.next();null!==v&&!g.done;y++,g=u.next()){v.index>y?(m=v,v=null):m=v.sibling;var b=d(i,v,g.value,c);if(null===b){null===v&&(v=m);break}e&&v&&null===b.alternate&&t(i,v),s=o(b,s,y),null===f?l=b:f.sibling=b,f=b,v=m}if(g.done)return n(i,v),ia&&Ji(i,y),l;if(null===v){for(;!g.done;y++,g=u.next())null!==(g=h(i,g.value,c))&&(s=o(g,s,y),null===f?l=g:f.sibling=g,f=g);return ia&&Ji(i,y),l}for(v=r(i,v);!g.done;y++,g=u.next())null!==(g=p(v,i,y,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?y:g.key),s=o(g,s,y),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,y),l}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===x){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&Ya(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ga(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===x?((a=jc(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Ac(o.type,o.key,o.props,null,r.mode,u)).ref=Ga(r,a,o),u.return=r,r=u)}return s(r);case _:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Fc(o,r.mode,u)).return=r,r=a}return s(r);case D:return e(r,a,(l=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(j(o))return y(r,a,o,u);Ka(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Lc(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var $a=Qa(!0),Xa=Qa(!1),Ja={},Za=Si(Ja),eo=Si(Ja),to=Si(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Ti(to,t),Ti(eo,e),Ti(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Za),Ti(Za,t)}function io(){Ei(Za),Ei(eo),Ei(to)}function ao(e){no(to.current);var t=no(Za.current),n=ue(t,e.type);t!==n&&(Ti(eo,e),Ti(Za,n))}function oo(e){eo.current===e&&(Ei(Za),Ei(eo))}var so=Si(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=k.ReactCurrentDispatcher,ho=k.ReactCurrentBatchConfig,po=0,vo=null,yo=null,mo=null,go=!1,bo=!1,ko=0,wo=0;function _o(){throw Error(a(321))}function xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),bo){o=0;do{if(bo=!1,ko=0,25<=o)throw Error(a(301));o+=1,mo=yo=null,t.updateQueue=null,fo.current=cs,e=n(r,i)}while(bo)}if(fo.current=os,t=null!==yo&&null!==yo.next,po=0,mo=yo=vo=null,go=!1,t)throw Error(a(300));return e}function Eo(){var e=0!==ko;return ko=0,e}function To(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===mo?vo.memoizedState=mo=e:mo=mo.next=e,mo}function Io(){if(null===yo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=yo.next;var t=null===mo?vo.memoizedState:mo.next;if(null!==t)mo=t,yo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(yo=e).memoizedState,baseState:yo.baseState,baseQueue:yo.baseQueue,queue:yo.queue,next:null},null===mo?vo.memoizedState=mo=e:mo=mo.next=e}return mo}function Co(e,t){return"function"===typeof t?t(e):t}function Po(e){var t=Io(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=yo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=h,s=r):c=c.next=h,vo.lanes|=f,Mu|=f}l=l.next}while(null!==l&&l!==o);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(ks=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Mu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Oo(e){var t=Io(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(ks=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ro(){}function Do(e,t){var n=vo,r=Io(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,ks=!0),r=r.queue,Wo(jo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==mo&&1&mo.memoizedState.tag){if(n.flags|=2048,Uo(9,Ao.bind(null,n,r,i,t),void 0,null),null===Pu)throw Error(a(349));0!==(30&po)||No(n,t,i)}return i}function No(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ao(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Lo(e)}function jo(e,t,n){return n((function(){Mo(t)&&Lo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Lo(e){var t=Pa(e,1);null!==t&&nc(t,e,1,-1)}function Fo(e){var t=To();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return Io().memoizedState}function zo(e,t,n,r){var i=To();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function qo(e,t,n,r){var i=Io();r=void 0===r?null:r;var a=void 0;if(null!==yo){var o=yo.memoizedState;if(a=o.destroy,null!==r&&xo(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function Bo(e,t){return zo(8390656,8,e,t)}function Wo(e,t){return qo(2048,8,e,t)}function Ho(e,t){return qo(4,2,e,t)}function Go(e,t){return qo(4,4,e,t)}function Ko(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Yo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,qo(4,4,Ko.bind(null,t,e),n)}function Qo(){}function $o(e,t){var n=Io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=Io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ks=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,Mu|=n,e.baseState=!0),t)}function Zo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{bt=n,ho.transition=r}}function es(){return Io().memoizedState}function ts(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ca(e,t,n,r))){nc(n,e,r,ec()),as(n,t,r)}}function ns(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ia(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(nc(n,e,r,i=ec()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){bo=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var os={readContext:Ea,useCallback:_o,useContext:_o,useEffect:_o,useImperativeHandle:_o,useInsertionEffect:_o,useLayoutEffect:_o,useMemo:_o,useReducer:_o,useRef:_o,useState:_o,useDebugValue:_o,useDeferredValue:_o,useTransition:_o,useMutableSource:_o,useSyncExternalStore:_o,useId:_o,unstable_isNewReconciler:!1},ss={readContext:Ea,useCallback:function(e,t){return To().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:Bo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=To();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=To();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},To().memoizedState=e},useState:Fo,useDebugValue:Qo,useDeferredValue:function(e){return To().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=Zo.bind(null,e[1]),To().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=To();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Pu)throw Error(a(349));0!==(30&po)||No(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Bo(jo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Ao.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=To(),t=Pu.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=ko++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Ea,useCallback:$o,useContext:Ea,useEffect:Wo,useImperativeHandle:Yo,useInsertionEffect:Ho,useLayoutEffect:Go,useMemo:Xo,useReducer:Po,useRef:Vo,useState:function(){return Po(Co)},useDebugValue:Qo,useDeferredValue:function(e){return Jo(Io(),yo.memoizedState,e)},useTransition:function(){return[Po(Co)[0],Io().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Do,useId:es,unstable_isNewReconciler:!1},cs={readContext:Ea,useCallback:$o,useContext:Ea,useEffect:Wo,useImperativeHandle:Yo,useInsertionEffect:Ho,useLayoutEffect:Go,useMemo:Xo,useReducer:Oo,useRef:Vo,useState:function(){return Oo(Co)},useDebugValue:Qo,useDeferredValue:function(e){var t=Io();return null===yo?t.memoizedState=e:Jo(t,yo.memoizedState,e)},useTransition:function(){return[Oo(Co)[0],Io().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Do,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Na(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wu||(Wu=!0,Hu=r),hs(0,t)},n}function vs(e,t,n){(n=Na(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Gu?Gu=new Set([this]):Gu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ys(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function ms(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Na(-1,1)).tag=2,Aa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=k.ReactCurrentOwner,ks=!1;function ws(e,t,n,r){t.child=null===e?Xa(t,null,n,r):$a(t,e.child,n,r)}function _s(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=Eo(),null===e||ks?(ia&&n&&ea(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function xs(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Dc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ac(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ss(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Ws(e,t,i)}return t.flags|=1,(e=Nc(a,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(ks=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ws(e,t,i);0!==(131072&e.flags)&&(ks=!0)}}return Is(e,t,n,r,i)}function Es(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Nu,Du),Du|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Nu,Du),Du|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ti(Nu,Du),Du|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ti(Nu,Du),Du|=r;return ws(e,t,i,n),t.child}function Ts(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Is(e,t,n,r,i){var a=Di(n)?Oi:Ci.current;return a=Ri(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=Eo(),null===e||ks?(ia&&r&&ea(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function Cs(e,t,n,r,i){if(Di(n)){var a=!0;Mi(t)}else a=!1;if(Sa(t,i),null===t.stateNode)Bs(e,t),Ba(t,n,r),Ha(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ea(c):c=Ri(t,c=Di(n)?Oi:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&Wa(t,o,r,c),Oa=!1;var h=t.memoizedState;o.state=h,La(t,r,o,i),u=t.memoizedState,s!==r||h!==u||Pi.current||Oa?("function"===typeof l&&(Va(t,n,l,r),u=t.memoizedState),(s=Oa||qa(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Da(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ya(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Ea(u):u=Ri(t,u=Di(n)?Oi:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&Wa(t,o,r,u),Oa=!1,h=t.memoizedState,o.state=h,La(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||Pi.current||Oa?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(c=Oa||qa(t,n,c,r,h,p,u)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ps(e,t,n,r,a,i)}function Ps(e,t,n,r,i,a){Ts(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Li(t,n,!1),Ws(e,t,a);r=t.stateNode,bs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=$a(t,e.child,null,a),t.child=$a(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function Os(e){var t=e.stateNode;t.pendingContext?Ai(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ai(0,t.context,!1),ro(e,t.containerInfo)}function Rs(e,t,n,r,i){return da(),pa(i),t.flags|=256,ws(e,t,n,r),t.child}var Ds,Ns,As,js={dehydrated:null,treeContext:null,retryLane:0};function Ms(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ls(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ti(so,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Mc(u,i,0,null),e=jc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ms(n),t.memoizedState=js,e):Fs(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=fs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(o=jc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&$a(t,e.child,null,s),t.child.memoizedState=Ms(s),t.memoizedState=js,o);if(0===(1&t.mode))return Us(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Us(e,t,s,r=fs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),ks||u){if(null!==(r=Pu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Pa(e,i),nc(r,e,i,-1))}return vc(),Us(e,t,s,r=fs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ic.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Ki[Yi++]=$i,Ki[Yi++]=Xi,Ki[Yi++]=Qi,$i=e.id,Xi=e.overflow,Qi=t),t=Fs(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Nc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Nc(r,s):(s=jc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Ms(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=js,i}return e=(s=e.child).sibling,i=Nc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fs(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&pa(r),$a(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xa(e.return,t,n)}function zs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vs(e,n,t);else if(19===e.tag)Vs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zs(t,!0,n,null,a);break;case"together":zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ws(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Mu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Nc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Nc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hs(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ks(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(t),null;case 1:case 17:return Di(t.type)&&Ni(),Gs(t),null;case 3:return r=t.stateNode,io(),Ei(Pi),Ei(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Gs(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ns(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gs(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<jr.length;i++)Ur(jr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":$(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var u in ge(n,o),i=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Ur("scroll",r)}switch(n){case"input":G(r),Z(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[di]=r,Ds(e,t),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<jr.length;i++)Ur(jr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":$(e,r),i=Q(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=L({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?ye(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&b(e,o,l,u))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gs(t),null;case 6:if(e&&null!=t.stateNode)As(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Gs(t),null;case 13:if(Ei(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gs(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Au&&(Au=3):vc())),null!==t.updateQueue&&(t.flags|=4),Gs(t),null);case 4:return io(),null===e&&qr(t.stateNode.containerInfo),Gs(t),null;case 10:return _a(t.type._context),Gs(t),null;case 19:if(Ei(so),null===(o=t.memoizedState))return Gs(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Hs(o,!1);else{if(0!==Au||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Hs(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>qu&&(t.flags|=128,r=!0,Hs(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Gs(t),null}else 2*Xe()-o.renderingStartTime>qu&&1073741824!==n&&(t.flags|=128,r=!0,Hs(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=so.current,Ti(so,r?1&n|2:1&n),t):(Gs(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Du)&&(Gs(t),6&t.subtreeFlags&&(t.flags|=8192)):Gs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ys(e,t){switch(ta(t),t.tag){case 1:return Di(t.type)&&Ni(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Pi),Ei(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(so),null;case 4:return io(),null;case 10:return _a(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Ds=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ns=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=L({},i,{value:void 0}),r=L({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},As=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qs=!1,$s=!1,Xs="function"===typeof WeakSet?WeakSet:Set,Js=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function eu(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var tu=!1;function nu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&eu(t,n,a)}i=i.next}while(i!==r)}}function ru(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function au(e){var t=e.alternate;null!==t&&(e.alternate=null,au(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[yi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ou(e){return 5===e.tag||3===e.tag||4===e.tag}function su(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ou(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(uu(e,t,n),e=e.sibling;null!==e;)uu(e,t,n),e=e.sibling}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}var lu=null,fu=!1;function hu(e,t,n){for(n=n.child;null!==n;)du(e,t,n),n=n.sibling}function du(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:$s||Zs(n,t);case 6:var r=lu,i=fu;lu=null,hu(e,t,n),fu=i,null!==(lu=r)&&(fu?(e=lu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):lu.removeChild(n.stateNode));break;case 18:null!==lu&&(fu?(e=lu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),qt(e)):ui(lu,n.stateNode));break;case 4:r=lu,i=fu,lu=n.stateNode.containerInfo,fu=!0,hu(e,t,n),lu=r,fu=i;break;case 0:case 11:case 14:case 15:if(!$s&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&eu(n,t,o),i=i.next}while(i!==r)}hu(e,t,n);break;case 1:if(!$s&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Sc(n,t,s)}hu(e,t,n);break;case 21:hu(e,t,n);break;case 22:1&n.mode?($s=(r=$s)||null!==n.memoizedState,hu(e,t,n),$s=r):hu(e,t,n);break;default:hu(e,t,n)}}function pu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xs),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:lu=u.stateNode,fu=!1;break e;case 3:case 4:lu=u.stateNode.containerInfo,fu=!0;break e}u=u.return}if(null===lu)throw Error(a(160));du(o,s,i),lu=null,fu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Sc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yu(t,e),t=t.sibling}function yu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vu(t,e),mu(e),4&r){try{nu(3,e,e.return),ru(3,e)}catch(y){Sc(e,e.return,y)}try{nu(5,e,e.return)}catch(y){Sc(e,e.return,y)}}break;case 1:vu(t,e),mu(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(vu(t,e),mu(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(y){Sc(e,e.return,y)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===o.type&&null!=o.name&&X(i,o),be(u,s);var l=be(u,o);for(s=0;s<c.length;s+=2){var f=c[s],h=c[s+1];"style"===f?ye(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):b(i,f,h,l)}switch(u){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(y){Sc(e,e.return,y)}}break;case 6:if(vu(t,e),mu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(y){Sc(e,e.return,y)}}break;case 3:if(vu(t,e),mu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(y){Sc(e,e.return,y)}break;case 4:default:vu(t,e),mu(e);break;case 13:vu(t,e),mu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zu=Xe())),4&r&&pu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?($s=(l=$s)||f,vu(t,e),$s=l):vu(t,e),mu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Js=e,f=e.child;null!==f;){for(h=Js=f;null!==Js;){switch(p=(d=Js).child,d.tag){case 0:case 11:case 14:case 15:nu(4,d,d.return);break;case 1:Zs(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){Sc(r,n,y)}}break;case 5:Zs(d,d.return);break;case 22:if(null!==d.memoizedState){wu(h);continue}}null!==p?(p.return=d,Js=p):wu(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(y){Sc(e,e.return,y)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(y){Sc(e,e.return,y)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vu(t,e),mu(e),4&r&&pu(e);case 21:}}function mu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ou(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cu(e,su(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;uu(e,su(e),o);break;default:throw Error(a(161))}}catch(s){Sc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gu(e,t,n){Js=e,bu(e,t,n)}function bu(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var i=Js,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Qs;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||$s;s=Qs;var c=$s;if(Qs=o,($s=u)&&!c)for(Js=i;null!==Js;)u=(o=Js).child,22===o.tag&&null!==o.memoizedState?_u(i):null!==u?(u.return=o,Js=u):_u(i);for(;null!==a;)Js=a,bu(a,t,n),a=a.sibling;Js=i,Qs=s,$s=c}ku(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Js=a):ku(e)}}function ku(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$s||ru(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$s)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ya(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fa(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&qt(h)}}}break;default:throw Error(a(163))}$s||512&t.flags&&iu(t)}catch(d){Sc(t,t.return,d)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function wu(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function _u(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ru(4,t)}catch(u){Sc(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Sc(t,i,u)}}var a=t.return;try{iu(t)}catch(u){Sc(t,a,u)}break;case 5:var o=t.return;try{iu(t)}catch(u){Sc(t,o,u)}}}catch(u){Sc(t,t.return,u)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var xu,Su=Math.ceil,Eu=k.ReactCurrentDispatcher,Tu=k.ReactCurrentOwner,Iu=k.ReactCurrentBatchConfig,Cu=0,Pu=null,Ou=null,Ru=0,Du=0,Nu=Si(0),Au=0,ju=null,Mu=0,Lu=0,Fu=0,Uu=null,Vu=null,zu=0,qu=1/0,Bu=null,Wu=!1,Hu=null,Gu=null,Ku=!1,Yu=null,Qu=0,$u=0,Xu=null,Ju=-1,Zu=0;function ec(){return 0!==(6&Cu)?Xe():-1!==Ju?Ju:Ju=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cu)&&0!==Ru?Ru&-Ru:null!==va.transition?(0===Zu&&(Zu=vt()),Zu):0!==(e=bt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function nc(e,t,n,r){if(50<$u)throw $u=0,Xu=null,Error(a(185));mt(e,n,r),0!==(2&Cu)&&e===Pu||(e===Pu&&(0===(2&Cu)&&(Lu|=n),4===Au&&sc(e,Ru)),rc(e,r),1===n&&0===Cu&&0===(1&t.mode)&&(qu=Xe()+500,Ui&&qi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Pu?Ru:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){Ui=!0,zi(e)}(uc.bind(null,e)):zi(uc.bind(null,e)),oi((function(){0===(6&Cu)&&qi()})),n=null;else{switch(kt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Ju=-1,Zu=0,0!==(6&Cu))throw Error(a(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=ht(e,e===Pu?Ru:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Cu;Cu|=2;var o=pc();for(Pu===e&&Ru===t||(Bu=null,qu=Xe()+500,hc(e,t));;)try{gc();break}catch(u){dc(e,u)}wa(),Eu.current=o,Cu=i,null!==Ou?t=0:(Pu=null,Ru=0,t=Au)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=ju,hc(e,0),sc(e,r),rc(e,Xe()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=ju,hc(e,0),sc(e,r),rc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Vu,Bu);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=zu+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Vu,Bu),t);break}wc(e,Vu,Bu);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Su(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Vu,Bu),r);break}wc(e,Vu,Bu);break;default:throw Error(a(329))}}}return rc(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Uu;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Vu,Vu=n,null!==t&&oc(t)),e}function oc(e){null===Vu?Vu=e:Vu.push.apply(Vu,e)}function sc(e,t){for(t&=~Fu,t&=~Lu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(0!==(6&Cu))throw Error(a(327));_c();var t=ht(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=ju,hc(e,0),sc(e,t),rc(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Vu,Bu),rc(e,Xe()),null}function cc(e,t){var n=Cu;Cu|=1;try{return e(t)}finally{0===(Cu=n)&&(qu=Xe()+500,Ui&&qi())}}function lc(e){null!==Yu&&0===Yu.tag&&0===(6&Cu)&&_c();var t=Cu;Cu|=1;var n=Iu.transition,r=bt;try{if(Iu.transition=null,bt=1,e)return e()}finally{bt=r,Iu.transition=n,0===(6&(Cu=t))&&qi()}}function fc(){Du=Nu.current,Ei(Nu)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ou)for(n=Ou.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ni();break;case 3:io(),Ei(Pi),Ei(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(so);break;case 10:_a(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Pu=e,Ou=e=Nc(e.current,null),Ru=Du=t,Au=0,ju=null,Fu=Lu=Mu=0,Vu=Uu=null,null!==Ta){for(t=0;t<Ta.length;t++)if(null!==(r=(n=Ta[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ta=null}return e}function dc(e,t){for(;;){var n=Ou;try{if(wa(),fo.current=os,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,mo=yo=vo=null,bo=!1,ko=0,Tu.current=null,null===n||null===n.return){Au=1,ju=t,Ou=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=Ru,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=ms(s);if(null!==p){p.flags&=-257,gs(p,s,u,0,t),1&p.mode&&ys(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var y=new Set;y.add(c),t.updateQueue=y}else v.add(c);break e}if(0===(1&t)){ys(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&u.mode){var m=ms(s);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),gs(m,s,u,0,t),pa(ls(c,u));break e}}o=c=ls(c,u),4!==Au&&(Au=2),null===Uu?Uu=[o]:Uu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,ps(0,c,t));break e;case 1:u=c;var g=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gu||!Gu.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}kc(n)}catch(k){t=k,Ou===n&&null!==n&&(Ou=n=n.return);continue}break}}function pc(){var e=Eu.current;return Eu.current=os,null===e?os:e}function vc(){0!==Au&&3!==Au&&2!==Au||(Au=4),null===Pu||0===(268435455&Mu)&&0===(268435455&Lu)||sc(Pu,Ru)}function yc(e,t){var n=Cu;Cu|=2;var r=pc();for(Pu===e&&Ru===t||(Bu=null,hc(e,t));;)try{mc();break}catch(i){dc(e,i)}if(wa(),Cu=n,Eu.current=r,null!==Ou)throw Error(a(261));return Pu=null,Ru=0,Au}function mc(){for(;null!==Ou;)bc(Ou)}function gc(){for(;null!==Ou&&!Qe();)bc(Ou)}function bc(e){var t=xu(e.alternate,e,Du);e.memoizedProps=e.pendingProps,null===t?kc(e):Ou=t,Tu.current=null}function kc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ks(n,t,Du)))return void(Ou=n)}else{if(null!==(n=Ys(n,t)))return n.flags&=32767,void(Ou=n);if(null===e)return Au=6,void(Ou=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ou=t);Ou=t=e}while(null!==t);0===Au&&(Au=5)}function wc(e,t,n){var r=bt,i=Iu.transition;try{Iu.transition=null,bt=1,function(e,t,n,r){do{_c()}while(null!==Yu);if(0!==(6&Cu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Pu&&(Ou=Pu=null,Ru=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ku||(Ku=!0,Pc(tt,(function(){return _c(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Iu.transition,Iu.transition=null;var s=bt;bt=1;var u=Cu;Cu|=4,Tu.current=null,function(e,t){if(ei=Wt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(u=s),d===o&&++f===r&&(c=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var y=v.memoizedProps,m=v.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:ya(t.type,y),m);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=t.stateNode.containerInfo;1===k.nodeType?k.textContent="":9===k.nodeType&&k.documentElement&&k.removeChild(k.documentElement);break;default:throw Error(a(163))}}catch(w){Sc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}v=tu,tu=!1}(e,n),yu(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,gu(n,e,i),$e(),Cu=u,bt=s,Iu.transition=o}else e.current=n;if(Ku&&(Ku=!1,Yu=e,Qu=i),o=e.pendingLanes,0===o&&(Gu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wu)throw Wu=!1,e=Hu,Hu=null,e;0!==(1&Qu)&&0!==e.tag&&_c(),o=e.pendingLanes,0!==(1&o)?e===Xu?$u++:($u=0,Xu=e):$u=0,qi()}(e,t,n,r)}finally{Iu.transition=i,bt=r}return null}function _c(){if(null!==Yu){var e=kt(Qu),t=Iu.transition,n=bt;try{if(Iu.transition=null,bt=16>e?16:e,null===Yu)var r=!1;else{if(e=Yu,Yu=null,Qu=0,0!==(6&Cu))throw Error(a(331));var i=Cu;for(Cu|=4,Js=e.current;null!==Js;){var o=Js,s=o.child;if(0!==(16&Js.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Js=l;null!==Js;){var f=Js;switch(f.tag){case 0:case 11:case 15:nu(8,f,o)}var h=f.child;if(null!==h)h.return=f,Js=h;else for(;null!==Js;){var d=(f=Js).sibling,p=f.return;if(au(f),f===l){Js=null;break}if(null!==d){d.return=p,Js=d;break}Js=p}}}var v=o.alternate;if(null!==v){var y=v.child;if(null!==y){v.child=null;do{var m=y.sibling;y.sibling=null,y=m}while(null!==y)}}Js=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Js=s;else e:for(;null!==Js;){if(0!==(2048&(o=Js).flags))switch(o.tag){case 0:case 11:case 15:nu(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Js=g;break e}Js=o.return}}var b=e.current;for(Js=b;null!==Js;){var k=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==k)k.return=s,Js=k;else e:for(s=b;null!==Js;){if(0!==(2048&(u=Js).flags))try{switch(u.tag){case 0:case 11:case 15:ru(9,u)}}catch(_){Sc(u,u.return,_)}if(u===s){Js=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Js=w;break e}Js=u.return}}if(Cu=i,qi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{bt=n,Iu.transition=t}}return!1}function xc(e,t,n){e=Aa(e,t=ps(0,t=ls(n,t),1),1),t=ec(),null!==e&&(mt(e,1,t),rc(e,t))}function Sc(e,t,n){if(3===e.tag)xc(e,e,n);else for(;null!==t;){if(3===t.tag){xc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gu||!Gu.has(r))){t=Aa(t,e=vs(t,e=ls(n,e),1),1),e=ec(),null!==t&&(mt(t,1,e),rc(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Pu===e&&(Ru&n)===n&&(4===Au||3===Au&&(130023424&Ru)===Ru&&500>Xe()-zu?hc(e,0):Fu|=n),rc(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Pa(e,t))&&(mt(e,t,n),rc(e,n))}function Ic(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tc(e,n)}function Pc(e,t){return Ke(e,t)}function Oc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new Oc(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Nc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ac(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Dc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case x:return jc(n.children,i,o,t);case S:s=8,i|=8;break;case E:return(e=Rc(12,n,t,2|i)).elementType=E,e.lanes=o,e;case P:return(e=Rc(13,n,t,i)).elementType=P,e.lanes=o,e;case O:return(e=Rc(19,n,t,i)).elementType=O,e.lanes=o,e;case N:return Mc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case I:s=9;break e;case C:s=11;break e;case R:s=14;break e;case D:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Rc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function jc(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=N,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yt(0),this.expirationTimes=yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,a,o,s,u){return e=new Uc(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Rc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ra(a),e}function zc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function qc(e){if(!e)return Ii;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Di(n))return ji(e,n,t)}return t}function Bc(e,t,n,r,i,a,o,s,u){return(e=Vc(n,r,!0,e,0,a,0,s,u)).context=qc(null),n=e.current,(a=Na(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Aa(n,a,i),e.current.lanes=i,mt(e,i,r),rc(e,r),e}function Wc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=qc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Na(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Aa(i,t,o))&&(nc(e,i,o,a),ja(e,i,o)),o}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}xu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pi.current)ks=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ks=!1,function(e,t,n){switch(t.tag){case 3:Os(t),da();break;case 5:ao(t);break;case 1:Di(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(ma,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ls(e,t,n):(Ti(so,1&so.current),null!==(e=Ws(e,t,n))?e.sibling:null);Ti(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return Ws(e,t,n)}(e,t,n);ks=0!==(131072&e.flags)}else ks=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Bs(e,t),e=t.pendingProps;var i=Ri(t,Ci.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ra(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Ha(t,r,e,n),t=Ps(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Bs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===R)return 14}return 2}(r),e=ya(r,e),i){case 0:t=Is(null,t,r,e,n);break e;case 1:t=Cs(null,t,r,e,n);break e;case 11:t=_s(null,t,r,e,n);break e;case 14:t=xs(null,t,r,ya(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 3:e:{if(Os(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Da(e,t),La(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Rs(e,t,r,n,i=ls(Error(a(423)),t));break e}if(r!==i){t=Rs(e,t,r,n,i=ls(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Ws(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Ts(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Ls(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$a(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_s(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ti(ma,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Pi.current){t=Ws(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Na(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),xa(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),xa(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=Ea(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ya(r=t.type,t.pendingProps),xs(e,t,r,i=ya(r.type,i),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ya(r,i),Bs(e,t),t.tag=1,Di(r)?(e=!0,Mi(t)):e=!1,Sa(t,n),Ba(t,r,i),Ha(t,r,i,n),Ps(null,t,r,!0,e,n);case 19:return qs(e,t,n);case 22:return Es(e,t,n)}throw Error(a(156,t.tag))};var Yc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Hc(o);s.call(e)}}Wc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Hc(o);a.call(e)}}var o=Bc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,qr(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Hc(u);s.call(e)}}var u=Vc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=u,e[pi]=u.current,qr(8===e.nodeType?e.parentNode:e),lc((function(){Wc(t,u,n,r)})),u}(n,t,e,i,r);return Hc(o)}$c.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wc(e,t,null,null)},$c.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Wc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Nt.length&&0!==t&&t<Nt[n].priority;n++);Nt.splice(n,0,e),0===n&&Lt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Xe()),0===(6&Cu)&&(qu=Xe()+500,qi()))}break;case 13:lc((function(){var t=Pa(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Kc(e,1)}},_t=function(e){if(13===e.tag){var t=Pa(e,134217728);if(null!==t)nc(t,e,134217728,ec());Kc(e,134217728)}},xt=function(e){if(13===e.tag){var t=tc(e),n=Pa(e,t);if(null!==n)nc(n,e,t,ec());Kc(e,t)}},St=function(){return bt},Et=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},_e=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));K(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Pe=lc;var tl={usingClientEntryPoint:!1,Events:[bi,ki,wi,Te,Ie,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return zc(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Yc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,qr(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Yc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Bc(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,qr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},77:function(e){var t="undefined"!==typeof Element,n="function"===typeof Map,r="function"===typeof Set,i="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function a(e,o){if(e===o)return!0;if(e&&o&&"object"==typeof e&&"object"==typeof o){if(e.constructor!==o.constructor)return!1;var s,u,c,l;if(Array.isArray(e)){if((s=e.length)!=o.length)return!1;for(u=s;0!==u--;)if(!a(e[u],o[u]))return!1;return!0}if(n&&e instanceof Map&&o instanceof Map){if(e.size!==o.size)return!1;for(l=e.entries();!(u=l.next()).done;)if(!o.has(u.value[0]))return!1;for(l=e.entries();!(u=l.next()).done;)if(!a(u.value[1],o.get(u.value[0])))return!1;return!0}if(r&&e instanceof Set&&o instanceof Set){if(e.size!==o.size)return!1;for(l=e.entries();!(u=l.next()).done;)if(!o.has(u.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(o)){if((s=e.length)!=o.length)return!1;for(u=s;0!==u--;)if(e[u]!==o[u])return!1;return!0}if(e.constructor===RegExp)return e.source===o.source&&e.flags===o.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===o.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===o.toString();if((s=(c=Object.keys(e)).length)!==Object.keys(o).length)return!1;for(u=s;0!==u--;)if(!Object.prototype.hasOwnProperty.call(o,c[u]))return!1;if(t&&e instanceof Element)return!1;for(u=s;0!==u--;)if(("_owner"!==c[u]&&"__v"!==c[u]&&"__o"!==c[u]||!e.$$typeof)&&!a(e[c[u]],o[c[u]]))return!1;return!0}return e!==e&&o!==o}e.exports=function(e,t){try{return a(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}},1372:function(e,t){"use strict";var n=60103,r=60106,i=60107,a=60108,o=60114,s=60109,u=60110,c=60112,l=60113,f=60120,h=60115,d=60116,p=60121,v=60122,y=60117,m=60129,g=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;n=b("react.element"),r=b("react.portal"),i=b("react.fragment"),a=b("react.strict_mode"),o=b("react.profiler"),s=b("react.provider"),u=b("react.context"),c=b("react.forward_ref"),l=b("react.suspense"),f=b("react.suspense_list"),h=b("react.memo"),d=b("react.lazy"),p=b("react.block"),v=b("react.server.block"),y=b("react.fundamental"),m=b("react.debug_trace_mode"),g=b("react.legacy_hidden")}function k(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case l:case f:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case h:case s:return e;default:return t}}case r:return t}}}t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===o||e===m||e===a||e===l||e===f||e===g||"object"===typeof e&&null!==e&&(e.$$typeof===d||e.$$typeof===h||e.$$typeof===s||e.$$typeof===u||e.$$typeof===c||e.$$typeof===y||e.$$typeof===p||e[0]===v)},t.typeOf=k},7441:function(e,t,n){"use strict";e.exports=n(1372)},9434:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(2791)),o=(i=n(77))&&i.__esModule?i:{default:i},s=n(9174),u=n(135);function c(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var i=m(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(s,e);var t,n,r,i=p(s);function s(){var e;f(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(y(e=i.call.apply(i,[this].concat(n))),"mounted",!1),g(y(e),"isReady",!1),g(y(e),"isPlaying",!1),g(y(e),"isLoading",!0),g(y(e),"loadOnReady",null),g(y(e),"startOnPlay",!0),g(y(e),"seekOnPlay",null),g(y(e),"onDurationCalled",!1),g(y(e),"handlePlayerMount",(function(t){e.player||(e.player=t,e.player.load(e.props.url)),e.progress()})),g(y(e),"getInternalPlayer",(function(t){return e.player?e.player[t]:null})),g(y(e),"progress",(function(){if(e.props.url&&e.player&&e.isReady){var t=e.getCurrentTime()||0,n=e.getSecondsLoaded(),r=e.getDuration();if(r){var i={playedSeconds:t,played:t/r};null!==n&&(i.loadedSeconds=n,i.loaded=n/r),i.playedSeconds===e.prevPlayed&&i.loadedSeconds===e.prevLoaded||e.props.onProgress(i),e.prevPlayed=i.playedSeconds,e.prevLoaded=i.loadedSeconds}}e.progressTimeout=setTimeout(e.progress,e.props.progressFrequency||e.props.progressInterval)})),g(y(e),"handleReady",(function(){if(e.mounted){e.isReady=!0,e.isLoading=!1;var t=e.props,n=t.onReady,r=t.playing,i=t.volume,a=t.muted;n(),a||null===i||e.player.setVolume(i),e.loadOnReady?(e.player.load(e.loadOnReady,!0),e.loadOnReady=null):r&&e.player.play(),e.handleDurationCheck()}})),g(y(e),"handlePlay",(function(){e.isPlaying=!0,e.isLoading=!1;var t=e.props,n=t.onStart,r=t.onPlay,i=t.playbackRate;e.startOnPlay&&(e.player.setPlaybackRate&&1!==i&&e.player.setPlaybackRate(i),n(),e.startOnPlay=!1),r(),e.seekOnPlay&&(e.seekTo(e.seekOnPlay),e.seekOnPlay=null),e.handleDurationCheck()})),g(y(e),"handlePause",(function(t){e.isPlaying=!1,e.isLoading||e.props.onPause(t)})),g(y(e),"handleEnded",(function(){var t=e.props,n=t.activePlayer,r=t.loop,i=t.onEnded;n.loopOnEnded&&r&&e.seekTo(0),r||(e.isPlaying=!1,i())})),g(y(e),"handleError",(function(){var t;e.isLoading=!1,(t=e.props).onError.apply(t,arguments)})),g(y(e),"handleDurationCheck",(function(){clearTimeout(e.durationCheckTimeout);var t=e.getDuration();t?e.onDurationCalled||(e.props.onDuration(t),e.onDurationCalled=!0):e.durationCheckTimeout=setTimeout(e.handleDurationCheck,100)})),g(y(e),"handleLoaded",(function(){e.isLoading=!1})),e}return t=s,n=[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}},{key:"componentDidUpdate",value:function(e){var t=this;if(this.player){var n=this.props,r=n.url,i=n.playing,a=n.volume,s=n.muted,c=n.playbackRate,l=n.pip,f=n.loop,h=n.activePlayer,d=n.disableDeferredLoading;if(!(0,o.default)(e.url,r)){if(this.isLoading&&!h.forceLoad&&!d&&!(0,u.isMediaStream)(r))return console.warn("ReactPlayer: the attempt to load ".concat(r," is being deferred until the player has loaded")),void(this.loadOnReady=r);this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(r,this.isReady)}e.playing||!i||this.isPlaying||this.player.play(),e.playing&&!i&&this.isPlaying&&this.player.pause(),!e.pip&&l&&this.player.enablePIP&&this.player.enablePIP(),e.pip&&!l&&this.player.disablePIP&&this.player.disablePIP(),e.volume!==a&&null!==a&&this.player.setVolume(a),e.muted!==s&&(s?this.player.mute():(this.player.unmute(),null!==a&&setTimeout((function(){return t.player.setVolume(a)})))),e.playbackRate!==c&&this.player.setPlaybackRate&&this.player.setPlaybackRate(c),e.loop!==f&&this.player.setLoop&&this.player.setLoop(f)}}},{key:"getDuration",value:function(){return this.isReady?this.player.getDuration():null}},{key:"getCurrentTime",value:function(){return this.isReady?this.player.getCurrentTime():null}},{key:"getSecondsLoaded",value:function(){return this.isReady?this.player.getSecondsLoaded():null}},{key:"seekTo",value:function(e,t){var n=this;if(this.isReady){if(t?"fraction"===t:e>0&&e<1){var r=this.player.getDuration();return r?void this.player.seekTo(r*e):void console.warn("ReactPlayer: could not seek using fraction \u2013\xa0duration not yet available")}this.player.seekTo(e)}else 0!==e&&(this.seekOnPlay=e,setTimeout((function(){n.seekOnPlay=null}),5e3))}},{key:"render",value:function(){var e=this.props.activePlayer;return e?a.default.createElement(e,l({},this.props,{onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError})):null}}],n&&h(t.prototype,n),r&&h(t,r),s}(a.Component);t.default=b,g(b,"displayName","Player"),g(b,"propTypes",s.propTypes),g(b,"defaultProps",s.defaultProps)},8275:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(2791));function a(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y="64px",m={},g=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(o,e);var t,n,r,a=f(o);function o(){var e;u(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(d(e=a.call.apply(a,[this].concat(n))),"mounted",!1),v(d(e),"state",{image:null}),v(d(e),"handleKeyPress",(function(t){"Enter"!==t.key&&" "!==t.key||e.props.onClick()})),e}return t=o,(n=[{key:"componentDidMount",value:function(){this.mounted=!0,this.fetchImage(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.url,r=t.light;e.url===n&&e.light===r||this.fetchImage(this.props)}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"fetchImage",value:function(e){var t=this,n=e.url,r=e.light,a=e.oEmbedUrl;if(!i.default.isValidElement(r))if("string"!==typeof r){if(!m[n])return this.setState({image:null}),window.fetch(a.replace("{url}",n)).then((function(e){return e.json()})).then((function(e){if(e.thumbnail_url&&t.mounted){var r=e.thumbnail_url.replace("height=100","height=480");t.setState({image:r}),m[n]=r}}));this.setState({image:m[n]})}else this.setState({image:r})}},{key:"render",value:function(){var e=this.props,t=e.light,n=e.onClick,r=e.playIcon,a=e.previewTabIndex,o=this.state.image,u=i.default.isValidElement(t),c={display:"flex",alignItems:"center",justifyContent:"center"},l={preview:s({width:"100%",height:"100%",backgroundImage:o&&!u?"url(".concat(o,")"):void 0,backgroundSize:"cover",backgroundPosition:"center",cursor:"pointer"},c),shadow:s({background:"radial-gradient(rgb(0, 0, 0, 0.3), rgba(0, 0, 0, 0) 60%)",borderRadius:y,width:y,height:y,position:u?"absolute":void 0},c),playIcon:{borderStyle:"solid",borderWidth:"16px 0 16px 26px",borderColor:"transparent transparent transparent white",marginLeft:"7px"}},f=i.default.createElement("div",{style:l.shadow,className:"react-player__shadow"},i.default.createElement("div",{style:l.playIcon,className:"react-player__play-icon"}));return i.default.createElement("div",{style:l.preview,className:"react-player__preview",onClick:n,tabIndex:a,onKeyPress:this.handleKeyPress},u?t:null,r||f)}}])&&c(t.prototype,n),r&&c(t,r),o}(i.Component);t.default=g},2646:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createReactPlayer=void 0;var r=T(n(2791)),i=l(n(9948)),a=l(n(5781)),o=l(n(77)),s=n(9174),u=n(135),c=l(n(9434));function l(e){return e&&e.__esModule?e:{default:e}}function f(e){return f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function v(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function k(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var i=x(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){return!t||"object"!==f(t)&&"function"!==typeof t?_(e):t}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return E=function(){return e},e}function T(e){if(e&&e.__esModule)return e;if(null===e||"object"!==f(e)&&"function"!==typeof e)return{default:e};var t=E();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=r?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}var I=(0,r.lazy)((function(){return Promise.resolve().then((function(){return T(n(8275))}))})),C="undefined"!==typeof window&&window.document,P="undefined"!==typeof n.g&&n.g.window&&n.g.window.document,O=Object.keys(s.propTypes),R=C||P?r.Suspense:function(){return null},D=[];t.createReactPlayer=function(e,t){var n,l;return l=n=function(n){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(w,n);var l,f,h,y=k(w);function w(){var n;m(this,w);for(var o=arguments.length,l=new Array(o),f=0;f<o;f++)l[f]=arguments[f];return S(_(n=y.call.apply(y,[this].concat(l))),"state",{showPreview:!!n.props.light}),S(_(n),"references",{wrapper:function(e){n.wrapper=e},player:function(e){n.player=e}}),S(_(n),"handleClickPreview",(function(e){n.setState({showPreview:!1}),n.props.onClickPreview(e)})),S(_(n),"showPreview",(function(){n.setState({showPreview:!0})})),S(_(n),"getDuration",(function(){return n.player?n.player.getDuration():null})),S(_(n),"getCurrentTime",(function(){return n.player?n.player.getCurrentTime():null})),S(_(n),"getSecondsLoaded",(function(){return n.player?n.player.getSecondsLoaded():null})),S(_(n),"getInternalPlayer",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"player";return n.player?n.player.getInternalPlayer(e):null})),S(_(n),"seekTo",(function(e,t){if(!n.player)return null;n.player.seekTo(e,t)})),S(_(n),"handleReady",(function(){n.props.onReady(_(n))})),S(_(n),"getActivePlayer",(0,a.default)((function(n){for(var r=0,i=[].concat(D,v(e));r<i.length;r++){var a=i[r];if(a.canPlay(n))return a}return t||null}))),S(_(n),"getConfig",(0,a.default)((function(e,t){var r=n.props.config;return i.default.all([s.defaultProps.config,s.defaultProps.config[t]||{},r,r[t]||{}])}))),S(_(n),"getAttributes",(0,a.default)((function(e){return(0,u.omit)(n.props,O)}))),S(_(n),"renderActivePlayer",(function(e){if(!e)return null;var t=n.getActivePlayer(e);if(!t)return null;var i=n.getConfig(e,t.key);return r.default.createElement(c.default,p({},n.props,{key:t.key,ref:n.references.player,config:i,activePlayer:t.lazyPlayer||t,onReady:n.handleReady}))})),n}return l=w,f=[{key:"shouldComponentUpdate",value:function(e,t){return!(0,o.default)(this.props,e)||!(0,o.default)(this.state,t)}},{key:"componentDidUpdate",value:function(e){var t=this.props.light;!e.light&&t&&this.setState({showPreview:!0}),e.light&&!t&&this.setState({showPreview:!1})}},{key:"renderPreview",value:function(e){if(!e)return null;var t=this.props,n=t.light,i=t.playIcon,a=t.previewTabIndex,o=t.oEmbedUrl;return r.default.createElement(I,{url:e,light:n,playIcon:i,previewTabIndex:a,oEmbedUrl:o,onClick:this.handleClickPreview})}},{key:"render",value:function(){var e=this.props,t=e.url,n=e.style,i=e.width,a=e.height,o=e.fallback,s=e.wrapper,u=this.state.showPreview,c=this.getAttributes(t),l="string"===typeof s?this.references.wrapper:void 0;return r.default.createElement(s,p({ref:l,style:d(d({},n),{},{width:i,height:a})},c),r.default.createElement(R,{fallback:o},u?this.renderPreview(t):this.renderActivePlayer(t)))}}],f&&g(l.prototype,f),h&&g(l,h),w}(r.Component),S(n,"displayName","ReactPlayer"),S(n,"propTypes",s.propTypes),S(n,"defaultProps",s.defaultProps),S(n,"addCustomPlayer",(function(e){D.push(e)})),S(n,"removeCustomPlayers",(function(){D.length=0})),S(n,"canPlay",(function(t){for(var n=0,r=[].concat(D,v(e));n<r.length;n++){if(r[n].canPlay(t))return!0}return!1})),S(n,"canEnablePIP",(function(t){for(var n=0,r=[].concat(D,v(e));n<r.length;n++){var i=r[n];if(i.canEnablePIP&&i.canEnablePIP(t))return!0}return!1})),l}},6710:function(e,t,n){"use strict";t.Z=void 0;var r,i=(r=n(4687))&&r.__esModule?r:{default:r},a=n(2646);var o=i.default[i.default.length-1],s=(0,a.createReactPlayer)(i.default,o);t.Z=s},365:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canPlay=t.FLV_EXTENSIONS=t.DASH_EXTENSIONS=t.HLS_EXTENSIONS=t.VIDEO_EXTENSIONS=t.AUDIO_EXTENSIONS=t.MATCH_URL_KALTURA=t.MATCH_URL_VIDYARD=t.MATCH_URL_MIXCLOUD=t.MATCH_URL_DAILYMOTION=t.MATCH_URL_TWITCH_CHANNEL=t.MATCH_URL_TWITCH_VIDEO=t.MATCH_URL_WISTIA=t.MATCH_URL_STREAMABLE=t.MATCH_URL_FACEBOOK_WATCH=t.MATCH_URL_FACEBOOK=t.MATCH_URL_VIMEO=t.MATCH_URL_SOUNDCLOUD=t.MATCH_URL_YOUTUBE=void 0;var r=n(135);function i(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var o=/(?:youtu\.be\/|youtube(?:-nocookie)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//;t.MATCH_URL_YOUTUBE=o;var s=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/;t.MATCH_URL_SOUNDCLOUD=s;var u=/vimeo\.com\/(?!progressive_redirect).+/;t.MATCH_URL_VIMEO=u;var c=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/;t.MATCH_URL_FACEBOOK=c;var l=/^https?:\/\/fb\.watch\/.+$/;t.MATCH_URL_FACEBOOK_WATCH=l;var f=/streamable\.com\/([a-z0-9]+)$/;t.MATCH_URL_STREAMABLE=f;var h=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?(.*)$/;t.MATCH_URL_WISTIA=h;var d=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/;t.MATCH_URL_TWITCH_VIDEO=d;var p=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/;t.MATCH_URL_TWITCH_CHANNEL=p;var v=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?$/;t.MATCH_URL_DAILYMOTION=v;var y=/mixcloud\.com\/([^/]+\/[^/]+)/;t.MATCH_URL_MIXCLOUD=y;var m=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/;t.MATCH_URL_VIDYARD=m;var g=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_].*)$/;t.MATCH_URL_KALTURA=g;var b=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i;t.AUDIO_EXTENSIONS=b;var k=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i;t.VIDEO_EXTENSIONS=k;var w=/\.(m3u8)($|\?)/i;t.HLS_EXTENSIONS=w;var _=/\.(mpd)($|\?)/i;t.DASH_EXTENSIONS=_;var x=/\.(flv)($|\?)/i;t.FLV_EXTENSIONS=x;var S={youtube:function(e){return e instanceof Array?e.every((function(e){return o.test(e)})):o.test(e)},soundcloud:function(e){return s.test(e)&&!b.test(e)},vimeo:function(e){return u.test(e)&&!k.test(e)&&!w.test(e)},facebook:function(e){return c.test(e)||l.test(e)},streamable:function(e){return f.test(e)},wistia:function(e){return h.test(e)},twitch:function(e){return d.test(e)||p.test(e)},dailymotion:function(e){return v.test(e)},mixcloud:function(e){return y.test(e)},vidyard:function(e){return m.test(e)},kaltura:function(e){return g.test(e)},file:function e(t){if(t instanceof Array){var n,a=i(t);try{for(a.s();!(n=a.n()).done;){var o=n.value;if("string"===typeof o&&e(o))return!0;if(e(o.src))return!0}}catch(s){a.e(s)}finally{a.f()}return!1}return!(!(0,r.isMediaStream)(t)&&!(0,r.isBlobUrl)(t))||(b.test(t)||k.test(t)||w.test(t)||_.test(t)||x.test(t))}};t.canPlay=S},4303:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(2791)),a=n(135),o=n(365);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(u){i=!0,a=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(u,e);var t,n,r,s=v(u);function u(){var e;h(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return b(m(e=s.call.apply(s,[this].concat(n))),"callPlayer",a.callPlayer),b(m(e),"onDurationChange",(function(){var t=e.getDuration();e.props.onDuration(t)})),b(m(e),"mute",(function(){e.callPlayer("setMuted",!0)})),b(m(e),"unmute",(function(){e.callPlayer("setMuted",!1)})),b(m(e),"ref",(function(t){e.container=t})),e}return t=u,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e){var t=this,n=this.props,r=n.controls,i=n.config,s=n.onError,u=n.playing,f=l(e.match(o.MATCH_URL_DAILYMOTION),2)[1];this.player?this.player.load(f,{start:(0,a.parseStartTime)(e),autoplay:u}):(0,a.getSDK)("https://api.dmcdn.net/all.js","DM","dmAsyncInit",(function(e){return e.player})).then((function(n){if(t.container){var o=n.player;t.player=new o(t.container,{width:"100%",height:"100%",video:f,params:c({controls:r,autoplay:t.props.playing,mute:t.props.muted,start:(0,a.parseStartTime)(e),origin:window.location.origin},i.params),events:{apiready:t.props.onReady,seeked:function(){return t.props.onSeek(t.player.currentTime)},video_end:t.props.onEnded,durationchange:t.onDurationChange,pause:t.props.onPause,playing:t.props.onPlay,waiting:t.props.onBuffer,error:function(e){return s(e)}}})}}),s)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(e){this.callPlayer("seek",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",e)}},{key:"getDuration",value:function(){return this.player.duration||null}},{key:"getCurrentTime",value:function(){return this.player.currentTime}},{key:"getSecondsLoaded",value:function(){return this.player.bufferedTime}},{key:"render",value:function(){var e={width:"100%",height:"100%",display:this.props.display};return i.default.createElement("div",{style:e},i.default.createElement("div",{ref:this.ref}))}}])&&d(t.prototype,n),r&&d(t,r),u}(i.Component);t.default=k,b(k,"displayName","DailyMotion"),b(k,"canPlay",o.canPlay.dailymotion),b(k,"loopOnEnded",!0)},4793:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(2791)),a=n(135),o=n(365);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var i=v(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m="https://connect.facebook.net/en_US/sdk.js",g="fbAsyncInit",b="facebook-player-",k=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(s,e);var t,n,r,o=h(s);function s(){var e;c(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return y(p(e=o.call.apply(o,[this].concat(n))),"callPlayer",a.callPlayer),y(p(e),"playerID",e.props.config.playerId||"".concat(b).concat((0,a.randomString)())),y(p(e),"mute",(function(){e.callPlayer("mute")})),y(p(e),"unmute",(function(){e.callPlayer("unmute")})),e}return t=s,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e,t){var n=this;t?(0,a.getSDK)(m,"FB",g).then((function(e){return e.XFBML.parse()})):(0,a.getSDK)(m,"FB",g).then((function(e){e.init({appId:n.props.config.appId,xfbml:!0,version:n.props.config.version}),e.Event.subscribe("xfbml.render",(function(e){n.props.onLoaded()})),e.Event.subscribe("xfbml.ready",(function(e){"video"===e.type&&e.id===n.playerID&&(n.player=e.instance,n.player.subscribe("startedPlaying",n.props.onPlay),n.player.subscribe("paused",n.props.onPause),n.player.subscribe("finishedPlaying",n.props.onEnded),n.player.subscribe("startedBuffering",n.props.onBuffer),n.player.subscribe("finishedBuffering",n.props.onBufferEnd),n.player.subscribe("error",n.props.onError),n.props.muted?n.callPlayer("mute"):n.callPlayer("unmute"),n.props.onReady(),document.getElementById(n.playerID).querySelector("iframe").style.visibility="visible")}))}))}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(e){this.callPlayer("seek",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",e)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentPosition")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var e=this.props.config.attributes;return i.default.createElement("div",u({style:{width:"100%",height:"100%"},id:this.playerID,className:"fb-video","data-href":this.props.url,"data-autoplay":this.props.playing?"true":"false","data-allowfullscreen":"true","data-controls":this.props.controls?"true":"false"},e))}}])&&l(t.prototype,n),r&&l(t,r),s}(i.Component);t.default=k,y(k,"displayName","Facebook"),y(k,"canPlay",o.canPlay.facebook),y(k,"loopOnEnded",!0)},8997:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(2791)),a=n(135),o=n(365);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var i=v(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m="undefined"!==typeof navigator,g=m&&"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,b=m&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||g)&&!window.MSStream,k=/www\.dropbox\.com\/.+/,w=/https:\/\/watch\.cloudflarestream\.com\/([a-z0-9]+)/,_=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(d,e);var t,n,r,s=h(d);function d(){var e;c(this,d);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return y(p(e=s.call.apply(s,[this].concat(n))),"onReady",(function(){var t;return(t=e.props).onReady.apply(t,arguments)})),y(p(e),"onPlay",(function(){var t;return(t=e.props).onPlay.apply(t,arguments)})),y(p(e),"onBuffer",(function(){var t;return(t=e.props).onBuffer.apply(t,arguments)})),y(p(e),"onBufferEnd",(function(){var t;return(t=e.props).onBufferEnd.apply(t,arguments)})),y(p(e),"onPause",(function(){var t;return(t=e.props).onPause.apply(t,arguments)})),y(p(e),"onEnded",(function(){var t;return(t=e.props).onEnded.apply(t,arguments)})),y(p(e),"onError",(function(){var t;return(t=e.props).onError.apply(t,arguments)})),y(p(e),"onPlayBackRateChange",(function(t){return e.props.onPlaybackRateChange(t.target.playbackRate)})),y(p(e),"onEnablePIP",(function(){var t;return(t=e.props).onEnablePIP.apply(t,arguments)})),y(p(e),"onDisablePIP",(function(t){var n=e.props,r=n.onDisablePIP,i=n.playing;r(t),i&&e.play()})),y(p(e),"onPresentationModeChange",(function(t){if(e.player&&(0,a.supportsWebKitPresentationMode)(e.player)){var n=e.player.webkitPresentationMode;"picture-in-picture"===n?e.onEnablePIP(t):"inline"===n&&e.onDisablePIP(t)}})),y(p(e),"onSeek",(function(t){e.props.onSeek(t.target.currentTime)})),y(p(e),"mute",(function(){e.player.muted=!0})),y(p(e),"unmute",(function(){e.player.muted=!1})),y(p(e),"renderSourceElement",(function(e,t){return"string"===typeof e?i.default.createElement("source",{key:t,src:e}):i.default.createElement("source",u({key:t},e))})),y(p(e),"renderTrack",(function(e,t){return i.default.createElement("track",u({key:t},e))})),y(p(e),"ref",(function(t){e.player&&(e.prevPlayer=e.player),e.player=t})),e}return t=d,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this),this.addListeners(this.player),b&&this.player.load()}},{key:"componentDidUpdate",value:function(e){this.shouldUseAudio(this.props)!==this.shouldUseAudio(e)&&(this.removeListeners(this.prevPlayer,e.url),this.addListeners(this.player)),this.props.url===e.url||(0,a.isMediaStream)(this.props.url)||(this.player.srcObject=null)}},{key:"componentWillUnmount",value:function(){this.player.src="",this.removeListeners(this.player),this.hls&&this.hls.destroy()}},{key:"addListeners",value:function(e){var t=this.props,n=t.url,r=t.playsinline;e.addEventListener("play",this.onPlay),e.addEventListener("waiting",this.onBuffer),e.addEventListener("playing",this.onBufferEnd),e.addEventListener("pause",this.onPause),e.addEventListener("seeked",this.onSeek),e.addEventListener("ended",this.onEnded),e.addEventListener("error",this.onError),e.addEventListener("ratechange",this.onPlayBackRateChange),e.addEventListener("enterpictureinpicture",this.onEnablePIP),e.addEventListener("leavepictureinpicture",this.onDisablePIP),e.addEventListener("webkitpresentationmodechanged",this.onPresentationModeChange),this.shouldUseHLS(n)||e.addEventListener("canplay",this.onReady),r&&(e.setAttribute("playsinline",""),e.setAttribute("webkit-playsinline",""),e.setAttribute("x5-playsinline",""))}},{key:"removeListeners",value:function(e,t){e.removeEventListener("canplay",this.onReady),e.removeEventListener("play",this.onPlay),e.removeEventListener("waiting",this.onBuffer),e.removeEventListener("playing",this.onBufferEnd),e.removeEventListener("pause",this.onPause),e.removeEventListener("seeked",this.onSeek),e.removeEventListener("ended",this.onEnded),e.removeEventListener("error",this.onError),e.removeEventListener("ratechange",this.onPlayBackRateChange),e.removeEventListener("enterpictureinpicture",this.onEnablePIP),e.removeEventListener("leavepictureinpicture",this.onDisablePIP),e.removeEventListener("webkitpresentationmodechanged",this.onPresentationModeChange),this.shouldUseHLS(t)||e.removeEventListener("canplay",this.onReady)}},{key:"shouldUseAudio",value:function(e){return!e.config.forceVideo&&!e.config.attributes.poster&&(o.AUDIO_EXTENSIONS.test(e.url)||e.config.forceAudio)}},{key:"shouldUseHLS",value:function(e){return!!this.props.config.forceHLS||!b&&(o.HLS_EXTENSIONS.test(e)||w.test(e))}},{key:"shouldUseDASH",value:function(e){return o.DASH_EXTENSIONS.test(e)||this.props.config.forceDASH}},{key:"shouldUseFLV",value:function(e){return o.FLV_EXTENSIONS.test(e)||this.props.config.forceFLV}},{key:"load",value:function(e){var t=this,n=this.props.config,r=n.hlsVersion,i=n.hlsOptions,o=n.dashVersion,s=n.flvVersion;if(this.hls&&this.hls.destroy(),this.dash&&this.dash.reset(),this.shouldUseHLS(e)&&(0,a.getSDK)("https://cdn.jsdelivr.net/npm/hls.js@VERSION/dist/hls.min.js".replace("VERSION",r),"Hls").then((function(n){if(t.hls=new n(i),t.hls.on(n.Events.MANIFEST_PARSED,(function(){t.props.onReady()})),t.hls.on(n.Events.ERROR,(function(e,r){t.props.onError(e,r,t.hls,n)})),w.test(e)){var r=e.match(w)[1];t.hls.loadSource("https://videodelivery.net/{id}/manifest/video.m3u8".replace("{id}",r))}else t.hls.loadSource(e);t.hls.attachMedia(t.player),t.props.onLoaded()})),this.shouldUseDASH(e)&&(0,a.getSDK)("https://cdnjs.cloudflare.com/ajax/libs/dashjs/VERSION/dash.all.min.js".replace("VERSION",o),"dashjs").then((function(n){t.dash=n.MediaPlayer().create(),t.dash.initialize(t.player,e,t.props.playing),t.dash.on("error",t.props.onError),parseInt(o)<3?t.dash.getDebug().setLogToBrowserConsole(!1):t.dash.updateSettings({debug:{logLevel:n.Debug.LOG_LEVEL_NONE}}),t.props.onLoaded()})),this.shouldUseFLV(e)&&(0,a.getSDK)("https://cdn.jsdelivr.net/npm/flv.js@VERSION/dist/flv.min.js".replace("VERSION",s),"flvjs").then((function(n){t.flv=n.createPlayer({type:"flv",url:e}),t.flv.attachMediaElement(t.player),t.flv.on(n.Events.ERROR,(function(e,r){t.props.onError(e,r,t.flv,n)})),t.flv.load(),t.props.onLoaded()})),e instanceof Array)this.player.load();else if((0,a.isMediaStream)(e))try{this.player.srcObject=e}catch(u){this.player.src=window.URL.createObjectURL(e)}}},{key:"play",value:function(){var e=this.player.play();e&&e.catch(this.props.onError)}},{key:"pause",value:function(){this.player.pause()}},{key:"stop",value:function(){this.player.removeAttribute("src"),this.dash&&this.dash.reset()}},{key:"seekTo",value:function(e){this.player.currentTime=e}},{key:"setVolume",value:function(e){this.player.volume=e}},{key:"enablePIP",value:function(){this.player.requestPictureInPicture&&document.pictureInPictureElement!==this.player?this.player.requestPictureInPicture():(0,a.supportsWebKitPresentationMode)(this.player)&&"picture-in-picture"!==this.player.webkitPresentationMode&&this.player.webkitSetPresentationMode("picture-in-picture")}},{key:"disablePIP",value:function(){document.exitPictureInPicture&&document.pictureInPictureElement===this.player?document.exitPictureInPicture():(0,a.supportsWebKitPresentationMode)(this.player)&&"inline"!==this.player.webkitPresentationMode&&this.player.webkitSetPresentationMode("inline")}},{key:"setPlaybackRate",value:function(e){try{this.player.playbackRate=e}catch(t){this.props.onError(t)}}},{key:"getDuration",value:function(){if(!this.player)return null;var e=this.player,t=e.duration,n=e.seekable;return t===1/0&&n.length>0?n.end(n.length-1):t}},{key:"getCurrentTime",value:function(){return this.player?this.player.currentTime:null}},{key:"getSecondsLoaded",value:function(){if(!this.player)return null;var e=this.player.buffered;if(0===e.length)return 0;var t=e.end(e.length-1),n=this.getDuration();return t>n?n:t}},{key:"getSource",value:function(e){var t=this.shouldUseHLS(e),n=this.shouldUseDASH(e),r=this.shouldUseFLV(e);if(!(e instanceof Array||(0,a.isMediaStream)(e)||t||n||r))return k.test(e)?e.replace("www.dropbox.com","dl.dropboxusercontent.com"):e}},{key:"render",value:function(){var e=this.props,t=e.url,n=e.playing,r=e.loop,a=e.controls,o=e.muted,s=e.config,c=e.width,l=e.height,f=this.shouldUseAudio(this.props)?"audio":"video",h={width:"auto"===c?c:"100%",height:"auto"===l?l:"100%"};return i.default.createElement(f,u({ref:this.ref,src:this.getSource(t),style:h,preload:"auto",autoPlay:n||void 0,controls:a,muted:o,loop:r},s.attributes),t instanceof Array&&t.map(this.renderSourceElement),s.tracks.map(this.renderTrack))}}])&&l(t.prototype,n),r&&l(t,r),d}(i.Component);t.default=_,y(_,"displayName","FilePlayer"),y(_,"canPlay",o.canPlay.file)},9332:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(2791)),a=n(135),o=n(365);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(s,e);var t,n,r,o=f(s);function s(){var e;u(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(d(e=o.call.apply(o,[this].concat(n))),"callPlayer",a.callPlayer),v(d(e),"duration",null),v(d(e),"currentTime",null),v(d(e),"secondsLoaded",null),v(d(e),"mute",(function(){e.callPlayer("mute")})),v(d(e),"unmute",(function(){e.callPlayer("unmute")})),v(d(e),"ref",(function(t){e.iframe=t})),e}return t=s,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e){var t=this;(0,a.getSDK)("https://cdn.embed.ly/player-0.1.0.min.js","playerjs").then((function(e){t.iframe&&(t.player=new e.Player(t.iframe),t.player.on("ready",(function(){setTimeout((function(){t.player.isReady=!0,t.player.setLoop(t.props.loop),t.props.muted&&t.player.mute(),t.addListeners(t.player,t.props),t.props.onReady()}),500)})))}),this.props.onError)}},{key:"addListeners",value:function(e,t){var n=this;e.on("play",t.onPlay),e.on("pause",t.onPause),e.on("ended",t.onEnded),e.on("error",t.onError),e.on("timeupdate",(function(e){var t=e.duration,r=e.seconds;n.duration=t,n.currentTime=r}))}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(e){this.callPlayer("setCurrentTime",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",e)}},{key:"setLoop",value:function(e){this.callPlayer("setLoop",e)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){return i.default.createElement("iframe",{ref:this.ref,src:this.props.url,frameBorder:"0",scrolling:"no",style:{width:"100%",height:"100%"},allow:"encrypted-media; autoplay; fullscreen;",referrerPolicy:"no-referrer-when-downgrade"})}}])&&c(t.prototype,n),r&&c(t,r),s}(i.Component);t.default=y,v(y,"displayName","Kaltura"),v(y,"canPlay",o.canPlay.kaltura)},2732:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(2791)),a=n(135),o=n(365);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(u,e);var t,n,r,s=d(u);function u(){var e;l(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(v(e=s.call.apply(s,[this].concat(n))),"callPlayer",a.callPlayer),m(v(e),"duration",null),m(v(e),"currentTime",null),m(v(e),"secondsLoaded",null),m(v(e),"mute",(function(){})),m(v(e),"unmute",(function(){})),m(v(e),"ref",(function(t){e.iframe=t})),e}return t=u,n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e){var t=this;(0,a.getSDK)("https://widget.mixcloud.com/media/js/widgetApi.js","Mixcloud").then((function(e){t.player=e.PlayerWidget(t.iframe),t.player.ready.then((function(){t.player.events.play.on(t.props.onPlay),t.player.events.pause.on(t.props.onPause),t.player.events.ended.on(t.props.onEnded),t.player.events.error.on(t.props.error),t.player.events.progress.on((function(e,n){t.currentTime=e,t.duration=n})),t.props.onReady()}))}),this.props.onError)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(e){this.callPlayer("seek",e)}},{key:"setVolume",value:function(e){}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var e=this.props,t=e.url,n=e.config,r=t.match(o.MATCH_URL_MIXCLOUD)[1],s=(0,a.queryString)(c(c({},n.options),{},{feed:"/".concat(r,"/")}));return i.default.createElement("iframe",{key:r,ref:this.ref,style:{width:"100%",height:"100%"},src:"https://www.mixcloud.com/widget/iframe/?".concat(s),frameBorder:"0",allow:"autoplay"})}}],n&&f(t.prototype,n),r&&f(t,r),u}(i.Component);t.default=g,m(g,"displayName","Mixcloud"),m(g,"canPlay",o.canPlay.mixcloud),m(g,"loopOnEnded",!0)},1801:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(2791)),a=n(135),o=n(365);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(s,e);var t,n,r,o=d(s);function s(){var e;l(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(v(e=o.call.apply(o,[this].concat(n))),"callPlayer",a.callPlayer),m(v(e),"duration",null),m(v(e),"currentTime",null),m(v(e),"fractionLoaded",null),m(v(e),"mute",(function(){e.setVolume(0)})),m(v(e),"unmute",(function(){null!==e.props.volume&&e.setVolume(e.props.volume)})),m(v(e),"ref",(function(t){e.iframe=t})),e}return t=s,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e,t){var n=this;(0,a.getSDK)("https://w.soundcloud.com/player/api.js","SC").then((function(r){if(n.iframe){var i=r.Widget.Events,a=i.PLAY,o=i.PLAY_PROGRESS,s=i.PAUSE,u=i.FINISH,l=i.ERROR;t||(n.player=r.Widget(n.iframe),n.player.bind(a,n.props.onPlay),n.player.bind(s,(function(){n.duration-n.currentTime<.05||n.props.onPause()})),n.player.bind(o,(function(e){n.currentTime=e.currentPosition/1e3,n.fractionLoaded=e.loadedProgress})),n.player.bind(u,(function(){return n.props.onEnded()})),n.player.bind(l,(function(e){return n.props.onError(e)}))),n.player.load(e,c(c({},n.props.config.options),{},{callback:function(){n.player.getDuration((function(e){n.duration=e/1e3,n.props.onReady()}))}}))}}))}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(e){this.callPlayer("seekTo",1e3*e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",100*e)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.fractionLoaded*this.duration}},{key:"render",value:function(){var e={width:"100%",height:"100%",display:this.props.display};return i.default.createElement("iframe",{ref:this.ref,src:"https://w.soundcloud.com/player/?url=".concat(encodeURIComponent(this.props.url)),style:e,frameBorder:0,allow:"autoplay"})}}])&&f(t.prototype,n),r&&f(t,r),s}(i.Component);t.default=g,m(g,"displayName","SoundCloud"),m(g,"canPlay",o.canPlay.soundcloud),m(g,"loopOnEnded",!0)},1286:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(2791)),a=n(135),o=n(365);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(h,e);var t,n,r,s=f(h);function h(){var e;u(this,h);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(d(e=s.call.apply(s,[this].concat(n))),"callPlayer",a.callPlayer),v(d(e),"duration",null),v(d(e),"currentTime",null),v(d(e),"secondsLoaded",null),v(d(e),"mute",(function(){e.callPlayer("mute")})),v(d(e),"unmute",(function(){e.callPlayer("unmute")})),v(d(e),"ref",(function(t){e.iframe=t})),e}return t=h,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e){var t=this;(0,a.getSDK)("https://cdn.embed.ly/player-0.1.0.min.js","playerjs").then((function(e){t.iframe&&(t.player=new e.Player(t.iframe),t.player.setLoop(t.props.loop),t.player.on("ready",t.props.onReady),t.player.on("play",t.props.onPlay),t.player.on("pause",t.props.onPause),t.player.on("seeked",t.props.onSeek),t.player.on("ended",t.props.onEnded),t.player.on("error",t.props.onError),t.player.on("timeupdate",(function(e){var n=e.duration,r=e.seconds;t.duration=n,t.currentTime=r})),t.player.on("buffered",(function(e){var n=e.percent;t.duration&&(t.secondsLoaded=t.duration*n)})),t.props.muted&&t.player.mute())}),this.props.onError)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(e){this.callPlayer("setCurrentTime",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",100*e)}},{key:"setLoop",value:function(e){this.callPlayer("setLoop",e)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){var e=this.props.url.match(o.MATCH_URL_STREAMABLE)[1];return i.default.createElement("iframe",{ref:this.ref,src:"https://streamable.com/o/".concat(e),frameBorder:"0",scrolling:"no",style:{width:"100%",height:"100%"},allow:"encrypted-media; autoplay; fullscreen;"})}}])&&c(t.prototype,n),r&&c(t,r),h}(i.Component);t.default=y,v(y,"displayName","Streamable"),v(y,"canPlay",o.canPlay.streamable)},6741:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(2791)),a=n(135),o=n(365);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var i=v(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m="twitch-player-",g=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(d,e);var t,n,r,s=h(d);function d(){var e;c(this,d);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return y(p(e=s.call.apply(s,[this].concat(n))),"callPlayer",a.callPlayer),y(p(e),"playerID",e.props.config.playerId||"".concat(m).concat((0,a.randomString)())),y(p(e),"mute",(function(){e.callPlayer("setMuted",!0)})),y(p(e),"unmute",(function(){e.callPlayer("setMuted",!1)})),e}return t=d,n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e,t){var n=this,r=this.props,i=r.playsinline,s=r.onError,c=r.config,l=r.controls,f=o.MATCH_URL_TWITCH_CHANNEL.test(e),h=f?e.match(o.MATCH_URL_TWITCH_CHANNEL)[1]:e.match(o.MATCH_URL_TWITCH_VIDEO)[1];t?f?this.player.setChannel(h):this.player.setVideo("v"+h):(0,a.getSDK)("https://player.twitch.tv/js/embed/v1.js","Twitch").then((function(t){n.player=new t.Player(n.playerID,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({video:f?"":h,channel:f?h:"",height:"100%",width:"100%",playsinline:i,autoplay:n.props.playing,muted:n.props.muted,controls:!!f||l,time:(0,a.parseStartTime)(e)},c.options));var r=t.Player,o=r.READY,s=r.PLAYING,d=r.PAUSE,p=r.ENDED,v=r.ONLINE,m=r.OFFLINE,g=r.SEEK;n.player.addEventListener(o,n.props.onReady),n.player.addEventListener(s,n.props.onPlay),n.player.addEventListener(d,n.props.onPause),n.player.addEventListener(p,n.props.onEnded),n.player.addEventListener(g,n.props.onSeek),n.player.addEventListener(v,n.props.onLoaded),n.player.addEventListener(m,n.props.onLoaded)}),s)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.callPlayer("pause")}},{key:"seekTo",value:function(e){this.callPlayer("seek",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",e)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentTime")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){return i.default.createElement("div",{style:{width:"100%",height:"100%"},id:this.playerID})}}],n&&l(t.prototype,n),r&&l(t,r),d}(i.Component);t.default=g,y(g,"displayName","Twitch"),y(g,"canPlay",o.canPlay.twitch),y(g,"loopOnEnded",!0)},5561:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(2791)),a=n(135),o=n(365);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var i=v(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(d,e);var t,n,r,s=h(d);function d(){var e;c(this,d);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return y(p(e=s.call.apply(s,[this].concat(n))),"callPlayer",a.callPlayer),y(p(e),"mute",(function(){e.setVolume(0)})),y(p(e),"unmute",(function(){null!==e.props.volume&&e.setVolume(e.props.volume)})),y(p(e),"ref",(function(t){e.container=t})),e}return t=d,n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e){var t=this,n=this.props,r=n.playing,i=n.config,s=n.onError,c=n.onDuration,l=e&&e.match(o.MATCH_URL_VIDYARD)[1];this.player&&this.stop(),(0,a.getSDK)("https://play.vidyard.com/embed/v4.js","VidyardV4","onVidyardAPI").then((function(e){t.container&&(e.api.addReadyListener((function(e,n){t.player||(t.player=n,t.player.on("ready",t.props.onReady),t.player.on("play",t.props.onPlay),t.player.on("pause",t.props.onPause),t.player.on("seek",t.props.onSeek),t.player.on("playerComplete",t.props.onEnded))}),l),e.api.renderPlayer(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({uuid:l,container:t.container,autoplay:r?1:0},i.options)),e.api.getPlayerMetadata(l).then((function(e){t.duration=e.length_in_seconds,c(e.length_in_seconds)})))}),s)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){window.VidyardV4.api.destroyPlayer(this.player)}},{key:"seekTo",value:function(e){this.callPlayer("seek",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",e)}},{key:"setPlaybackRate",value:function(e){this.callPlayer("setPlaybackSpeed",e)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.callPlayer("currentTime")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var e={width:"100%",height:"100%",display:this.props.display};return i.default.createElement("div",{style:e},i.default.createElement("div",{ref:this.ref}))}}],n&&l(t.prototype,n),r&&l(t,r),d}(i.Component);t.default=m,y(m,"displayName","Vidyard"),y(m,"canPlay",o.canPlay.vidyard)},7600:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(2791)),a=n(135),o=n(365);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var i=v(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(s,e);var t,n,r,o=h(s);function s(){var e;c(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return y(p(e=o.call.apply(o,[this].concat(n))),"callPlayer",a.callPlayer),y(p(e),"duration",null),y(p(e),"currentTime",null),y(p(e),"secondsLoaded",null),y(p(e),"mute",(function(){e.setVolume(0)})),y(p(e),"unmute",(function(){null!==e.props.volume&&e.setVolume(e.props.volume)})),y(p(e),"ref",(function(t){e.container=t})),e}return t=s,n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e){var t=this;this.duration=null,(0,a.getSDK)("https://player.vimeo.com/api/player.js","Vimeo").then((function(n){if(t.container){var r=t.props.config,i=r.playerOptions,a=r.title;t.player=new n.Player(t.container,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({url:e,autoplay:t.props.playing,muted:t.props.muted,loop:t.props.loop,playsinline:t.props.playsinline,controls:t.props.controls},i)),t.player.ready().then((function(){var e=t.container.querySelector("iframe");e.style.width="100%",e.style.height="100%",a&&(e.title=a)})).catch(t.props.onError),t.player.on("loaded",(function(){t.props.onReady(),t.refreshDuration()})),t.player.on("play",(function(){t.props.onPlay(),t.refreshDuration()})),t.player.on("pause",t.props.onPause),t.player.on("seeked",(function(e){return t.props.onSeek(e.seconds)})),t.player.on("ended",t.props.onEnded),t.player.on("error",t.props.onError),t.player.on("timeupdate",(function(e){var n=e.seconds;t.currentTime=n})),t.player.on("progress",(function(e){var n=e.seconds;t.secondsLoaded=n})),t.player.on("bufferstart",t.props.onBuffer),t.player.on("bufferend",t.props.onBufferEnd),t.player.on("playbackratechange",(function(e){return t.props.onPlaybackRateChange(e.playbackRate)}))}}),this.props.onError)}},{key:"refreshDuration",value:function(){var e=this;this.player.getDuration().then((function(t){e.duration=t}))}},{key:"play",value:function(){var e=this.callPlayer("play");e&&e.catch(this.props.onError)}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.callPlayer("unload")}},{key:"seekTo",value:function(e){this.callPlayer("setCurrentTime",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",e)}},{key:"setLoop",value:function(e){this.callPlayer("setLoop",e)}},{key:"setPlaybackRate",value:function(e){this.callPlayer("setPlaybackRate",e)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){var e={width:"100%",height:"100%",overflow:"hidden",display:this.props.display};return i.default.createElement("div",{key:this.props.url,ref:this.ref,style:e})}}],n&&l(t.prototype,n),r&&l(t,r),s}(i.Component);t.default=m,y(m,"displayName","Vimeo"),y(m,"canPlay",o.canPlay.vimeo),y(m,"forceLoad",!0)},5793:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(2791)),a=n(135),o=n(365);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g="wistia-player-",b=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(u,e);var t,n,r,s=d(u);function u(){var e;l(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(v(e=s.call.apply(s,[this].concat(n))),"callPlayer",a.callPlayer),m(v(e),"playerID",e.props.config.playerId||"".concat(g).concat((0,a.randomString)())),m(v(e),"onPlay",(function(){var t;return(t=e.props).onPlay.apply(t,arguments)})),m(v(e),"onPause",(function(){var t;return(t=e.props).onPause.apply(t,arguments)})),m(v(e),"onSeek",(function(){var t;return(t=e.props).onSeek.apply(t,arguments)})),m(v(e),"onEnded",(function(){var t;return(t=e.props).onEnded.apply(t,arguments)})),m(v(e),"onPlaybackRateChange",(function(){var t;return(t=e.props).onPlaybackRateChange.apply(t,arguments)})),m(v(e),"mute",(function(){e.callPlayer("mute")})),m(v(e),"unmute",(function(){e.callPlayer("unmute")})),e}return t=u,n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e){var t=this,n=this.props,r=n.playing,i=n.muted,o=n.controls,s=n.onReady,u=n.config,l=n.onError;(0,a.getSDK)("https://fast.wistia.com/assets/external/E-v1.js","Wistia").then((function(e){u.customControls&&u.customControls.forEach((function(t){return e.defineControl(t)})),window._wq=window._wq||[],window._wq.push({id:t.playerID,options:c({autoPlay:r,silentAutoPlay:"allow",muted:i,controlsVisibleOnLoad:o,fullscreenButton:o,playbar:o,playbackRateControl:o,qualityControl:o,volumeControl:o,settingsControl:o,smallPlayButton:o},u.options),onReady:function(e){t.player=e,t.unbind(),t.player.bind("play",t.onPlay),t.player.bind("pause",t.onPause),t.player.bind("seek",t.onSeek),t.player.bind("end",t.onEnded),t.player.bind("playbackratechange",t.onPlaybackRateChange),s()}})}),l)}},{key:"unbind",value:function(){this.player.unbind("play",this.onPlay),this.player.unbind("pause",this.onPause),this.player.unbind("seek",this.onSeek),this.player.unbind("end",this.onEnded),this.player.unbind("playbackratechange",this.onPlaybackRateChange)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.unbind(),this.callPlayer("remove")}},{key:"seekTo",value:function(e){this.callPlayer("time",e)}},{key:"setVolume",value:function(e){this.callPlayer("volume",e)}},{key:"setPlaybackRate",value:function(e){this.callPlayer("playbackRate",e)}},{key:"getDuration",value:function(){return this.callPlayer("duration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("time")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var e=this.props.url,t=e&&e.match(o.MATCH_URL_WISTIA)[1],n="wistia_embed wistia_async_".concat(t);return i.default.createElement("div",{id:this.playerID,key:t,className:n,style:{width:"100%",height:"100%"}})}}],n&&f(t.prototype,n),r&&f(t,r),u}(i.Component);t.default=b,m(b,"displayName","Wistia"),m(b,"canPlay",o.canPlay.wistia),m(b,"loopOnEnded",!0)},8322:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(2791)),a=n(135),o=n(365);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(u){i=!0,a=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k="YT",w=/[?&](?:list|channel)=([a-zA-Z0-9_-]+)/,_=/user\/([a-zA-Z0-9_-]+)\/?/,x=/youtube-nocookie\.com/,S=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(u,e);var t,n,r,s=v(u);function u(){var e;h(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return b(m(e=s.call.apply(s,[this].concat(n))),"callPlayer",a.callPlayer),b(m(e),"parsePlaylist",(function(t){return t instanceof Array?{listType:"playlist",playlist:t.map(e.getID).join(",")}:w.test(t)?{listType:"playlist",list:l(t.match(w),2)[1].replace(/^UC/,"UU")}:_.test(t)?{listType:"user_uploads",list:l(t.match(_),2)[1]}:{}})),b(m(e),"onStateChange",(function(t){var n=t.data,r=e.props,i=r.onPlay,a=r.onPause,o=r.onBuffer,s=r.onBufferEnd,u=r.onEnded,c=r.onReady,l=r.loop,f=r.config,h=f.playerVars,d=f.onUnstarted,p=window[k].PlayerState,v=p.UNSTARTED,y=p.PLAYING,m=p.PAUSED,g=p.BUFFERING,b=p.ENDED,w=p.CUED;if(n===v&&d(),n===y&&(i(),s()),n===m&&a(),n===g&&o(),n===b){var _=!!e.callPlayer("getPlaylist");l&&!_&&(h.start?e.seekTo(h.start):e.play()),u()}n===w&&c()})),b(m(e),"mute",(function(){e.callPlayer("mute")})),b(m(e),"unmute",(function(){e.callPlayer("unMute")})),b(m(e),"ref",(function(t){e.container=t})),e}return t=u,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"getID",value:function(e){return!e||e instanceof Array||w.test(e)?null:e.match(o.MATCH_URL_YOUTUBE)[1]}},{key:"load",value:function(e,t){var n=this,r=this.props,i=r.playing,o=r.muted,s=r.playsinline,u=r.controls,l=r.loop,f=r.config,h=r.onError,d=f.playerVars,p=f.embedOptions,v=this.getID(e);if(t)return w.test(e)||_.test(e)||e instanceof Array?void this.player.loadPlaylist(this.parsePlaylist(e)):void this.player.cueVideoById({videoId:v,startSeconds:(0,a.parseStartTime)(e)||d.start,endSeconds:(0,a.parseEndTime)(e)||d.end});(0,a.getSDK)("https://www.youtube.com/iframe_api",k,"onYouTubeIframeAPIReady",(function(e){return e.loaded})).then((function(t){n.container&&(n.player=new t.Player(n.container,c({width:"100%",height:"100%",videoId:v,playerVars:c(c({autoplay:i?1:0,mute:o?1:0,controls:u?1:0,start:(0,a.parseStartTime)(e),end:(0,a.parseEndTime)(e),origin:window.location.origin,playsinline:s?1:0},n.parsePlaylist(e)),d),events:{onReady:function(){l&&n.player.setLoop(!0),n.props.onReady()},onPlaybackRateChange:function(e){return n.props.onPlaybackRateChange(e.data)},onStateChange:n.onStateChange,onError:function(e){return h(e.data)}},host:x.test(e)?"https://www.youtube-nocookie.com":void 0},p)))}),h),p.events&&console.warn("Using `embedOptions.events` will likely break things. Use ReactPlayer\u2019s callback props instead, eg onReady, onPlay, onPause")}},{key:"play",value:function(){this.callPlayer("playVideo")}},{key:"pause",value:function(){this.callPlayer("pauseVideo")}},{key:"stop",value:function(){document.body.contains(this.callPlayer("getIframe"))&&this.callPlayer("stopVideo")}},{key:"seekTo",value:function(e){this.callPlayer("seekTo",e),this.props.playing||this.pause()}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",100*e)}},{key:"setPlaybackRate",value:function(e){this.callPlayer("setPlaybackRate",e)}},{key:"setLoop",value:function(e){this.callPlayer("setLoop",e)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentTime")}},{key:"getSecondsLoaded",value:function(){return this.callPlayer("getVideoLoadedFraction")*this.getDuration()}},{key:"render",value:function(){var e={width:"100%",height:"100%",display:this.props.display};return i.default.createElement("div",{style:e},i.default.createElement("div",{ref:this.ref}))}}])&&d(t.prototype,n),r&&d(t,r),u}(i.Component);t.default=S,b(S,"displayName","YouTube"),b(S,"canPlay",o.canPlay.youtube)},4687:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(2791),i=n(135),a=n(365);function o(e){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e){if(e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=r?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}var c=[{key:"youtube",name:"YouTube",canPlay:a.canPlay.youtube,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return u(n(8322))}))}))},{key:"soundcloud",name:"SoundCloud",canPlay:a.canPlay.soundcloud,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return u(n(1801))}))}))},{key:"vimeo",name:"Vimeo",canPlay:a.canPlay.vimeo,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return u(n(7600))}))}))},{key:"facebook",name:"Facebook",canPlay:a.canPlay.facebook,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return u(n(4793))}))}))},{key:"streamable",name:"Streamable",canPlay:a.canPlay.streamable,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return u(n(1286))}))}))},{key:"wistia",name:"Wistia",canPlay:a.canPlay.wistia,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return u(n(5793))}))}))},{key:"twitch",name:"Twitch",canPlay:a.canPlay.twitch,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return u(n(6741))}))}))},{key:"dailymotion",name:"DailyMotion",canPlay:a.canPlay.dailymotion,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return u(n(4303))}))}))},{key:"mixcloud",name:"Mixcloud",canPlay:a.canPlay.mixcloud,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return u(n(2732))}))}))},{key:"vidyard",name:"Vidyard",canPlay:a.canPlay.vidyard,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return u(n(5561))}))}))},{key:"kaltura",name:"Kaltura",canPlay:a.canPlay.kaltura,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return u(n(9332))}))}))},{key:"file",name:"FilePlayer",canPlay:a.canPlay.file,canEnablePIP:function(e){return a.canPlay.file(e)&&(document.pictureInPictureEnabled||(0,i.supportsWebKitPresentationMode)())&&!a.AUDIO_EXTENSIONS.test(e)},lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return u(n(8997))}))}))}];t.default=c},9174:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultProps=t.propTypes=void 0;var r,i=(r=n(2007))&&r.__esModule?r:{default:r};var a=i.default.string,o=i.default.bool,s=i.default.number,u=i.default.array,c=i.default.oneOfType,l=i.default.shape,f=i.default.object,h=i.default.func,d=i.default.node,p={url:c([a,u,f]),playing:o,loop:o,controls:o,volume:s,muted:o,playbackRate:s,width:c([a,s]),height:c([a,s]),style:f,progressInterval:s,playsinline:o,pip:o,stopOnUnmount:o,light:c([o,a,f]),playIcon:d,previewTabIndex:s,fallback:d,oEmbedUrl:a,wrapper:c([a,h,l({render:h.isRequired})]),config:l({soundcloud:l({options:f}),youtube:l({playerVars:f,embedOptions:f,onUnstarted:h}),facebook:l({appId:a,version:a,playerId:a,attributes:f}),dailymotion:l({params:f}),vimeo:l({playerOptions:f,title:a}),file:l({attributes:f,tracks:u,forceVideo:o,forceAudio:o,forceHLS:o,forceDASH:o,forceFLV:o,hlsOptions:f,hlsVersion:a,dashVersion:a,flvVersion:a}),wistia:l({options:f,playerId:a,customControls:u}),mixcloud:l({options:f}),twitch:l({options:f,playerId:a}),vidyard:l({options:f})}),onReady:h,onStart:h,onPlay:h,onPause:h,onBuffer:h,onBufferEnd:h,onEnded:h,onError:h,onDuration:h,onSeek:h,onPlaybackRateChange:h,onProgress:h,onClickPreview:h,onEnablePIP:h,onDisablePIP:h};t.propTypes=p;var v=function(){},y={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,oEmbedUrl:"https://noembed.com/embed?url={url}",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:v},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0"},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:v,onStart:v,onPlay:v,onPause:v,onBuffer:v,onBufferEnd:v,onEnded:v,onError:v,onDuration:v,onSeek:v,onPlaybackRateChange:v,onProgress:v,onClickPreview:v,onEnablePIP:v,onDisablePIP:v};t.defaultProps=y},135:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseStartTime=function(e){return h(e,u)},t.parseEndTime=function(e){return h(e,c)},t.randomString=function(){return Math.random().toString(36).substr(2,5)},t.queryString=function(e){return Object.keys(e).map((function(t){return"".concat(t,"=").concat(e[t])})).join("&")},t.getSDK=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return!0},a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r.default,o=d(t);if(o&&i(o))return Promise.resolve(o);return new Promise((function(r,i){if(p[e])p[e].push({resolve:r,reject:i});else{p[e]=[{resolve:r,reject:i}];var o=function(t){p[e].forEach((function(e){return e.resolve(t)}))};if(n){var s=window[n];window[n]=function(){s&&s(),o(d(t))}}a(e,(function(r){r?(p[e].forEach((function(e){return e.reject(r)})),p[e]=null):n||o(d(t))}))}}))},t.getConfig=function(e,t){return(0,i.default)(t.config,e.config)},t.omit=function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=(t=[]).concat.apply(t,r),o={},s=Object.keys(e),u=0,c=s;u<c.length;u++){var l=c[u];-1===a.indexOf(l)&&(o[l]=e[l])}return o},t.callPlayer=function(e){var t;if(!this.player||!this.player[e]){var n="ReactPlayer: ".concat(this.constructor.displayName," player could not call %c").concat(e,"%c \u2013 ");return this.player?this.player[e]||(n+="The method was not available"):n+="The player was not available",console.warn(n,"font-weight: bold",""),null}for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return(t=this.player)[e].apply(t,i)},t.isMediaStream=function(e){return"undefined"!==typeof window&&"undefined"!==typeof window.MediaStream&&e instanceof window.MediaStream},t.isBlobUrl=function(e){return/^blob:/.test(e)},t.supportsWebKitPresentationMode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.createElement("video"),t=!1===/iPhone|iPod/.test(navigator.userAgent);return e.webkitSupportsPresentationMode&&"function"===typeof e.webkitSetPresentationMode&&t};var r=a(n(5102)),i=a(n(9948));function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(u){i=!0,a=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=/[?&#](?:start|t)=([0-9hms]+)/,c=/[?&#]end=([0-9hms]+)/,l=/(\d+)(h|m|s)/g,f=/^\d+$/;function h(e,t){if(!(e instanceof Array)){var n=e.match(t);if(n){var r=n[1];if(r.match(l))return function(e){var t=0,n=l.exec(e);for(;null!==n;){var r=o(n,3),i=r[1],a=r[2];"h"===a&&(t+=60*parseInt(i,10)*60),"m"===a&&(t+=60*parseInt(i,10)),"s"===a&&(t+=parseInt(i,10)),n=l.exec(e)}return t}(r);if(f.test(r))return parseInt(r)}}}function d(e){return window[e]?window[e]:window.exports&&window.exports[e]?window.exports[e]:window.module&&window.module.exports&&window.module.exports[e]?window.module.exports[e]:null}var p={}},8459:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen");function m(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case s:case o:case h:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case v:case p:case u:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference"),t.isContextConsumer=function(e){return m(e)===c}},6900:function(e,t,n){"use strict";e.exports=n(8459)},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,y={};function m(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var k=b.prototype=new g;k.constructor=b,v(k,m.prototype),k.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,x={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:x.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+C(u,0):a,w(o)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),P(o,t,i,"",(function(e){return e}))):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(s=e[c],c);u+=P(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=P(s=s.value,t,i,l=a+C(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function O(e,t,n){if(null==e)return e;var r=[],i=0;return P(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},N={transition:null},A={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:N,ReactCurrentOwner:x};t.Children={map:O,forEach:function(e,t,n){O(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)_.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=N.transition;N.transition={};try{e()}finally{N.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>a(u,n))c<i&&0>a(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,y=!1,m="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(y=!1,k(e),!v)if(null!==r(c))v=!0,N(_);else{var t=r(l);null!==t&&A(w,t.startTime-e)}}function _(e,n){v=!1,y&&(y=!1,g(T),T=-1),p=!0;var a=d;try{for(k(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!P());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),k(n)}else i(c);h=r(c)}if(null!==h)var u=!0;else{var f=r(l);null!==f&&A(w,f.startTime-n),u=!1}return u}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,S=!1,E=null,T=-1,I=5,C=-1;function P(){return!(t.unstable_now()-C<I)}function O(){if(null!==E){var e=t.unstable_now();C=e;var n=!0;try{n=E(!0,e)}finally{n?x():(S=!1,E=null)}}else S=!1}if("function"===typeof b)x=function(){b(O)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,D=R.port2;R.port1.onmessage=O,x=function(){D.postMessage(null)}}else x=function(){m(O,0)};function N(e){E=e,S||(S=!0,x())}function A(e,n){T=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,N(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(y?(g(T),T=-1):y=!0,A(w,a-o))):(e.sortIndex=s,n(c,e),v||p||(v=!0,N(_))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},9613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<a.length;u++){var c=a[u];if(!s(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}},1561:function(e,t,n){"use strict";var r=n(2791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,s=r.useLayoutEffect,u=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return s((function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,n,t]),o((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),u(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},7595:function(e,t,n){"use strict";var r=n(2791),i=n(7248);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,s=r.useRef,u=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=s(null);if(null===f.current){var h={hasValue:!1,value:null};f.current=h}else h=f.current;f=c((function(){function e(e){if(!u){if(u=!0,o=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return s=t}return s=e}if(t=s,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,s=n)}var o,s,u=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var d=o(e,f[0],f[1]);return u((function(){h.hasValue=!0,h.value=d}),[d]),l(d),d}},7248:function(e,t,n){"use strict";e.exports=n(1561)},327:function(e,t,n){"use strict";e.exports=n(7595)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".075b922f.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="lets-tech:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,u;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var h=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunklets_tech=self.webpackChunklets_tech||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),n.nc=void 0,function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Mr},SDK_VERSION:function(){return ra},_DEFAULT_ENTRY_NAME:function(){return Wi},_addComponent:function(){return Yi},_addOrOverwriteComponent:function(){return Qi},_apps:function(){return Gi},_clearComponents:function(){return Zi},_components:function(){return Ki},_getProvider:function(){return Xi},_registerComponent:function(){return $i},_removeServiceInstance:function(){return Ji},deleteApp:function(){return sa},getApp:function(){return aa},getApps:function(){return oa},initializeApp:function(){return ia},onLog:function(){return la},registerVersion:function(){return ca},setLogLevel:function(){return fa}});var t,r=n(2791),i=n.t(r,2),a=n(1250);function o(e){if(Array.isArray(e))return e}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){return o(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||u(e,t)||c()}function f(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function h(e){return function(e){if(Array.isArray(e))return s(e)}(e)||f(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function v(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===p(t)?t:String(t)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}function m(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}function w(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e,t){if(t&&("object"===p(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _(e)}function S(e){var t=w();return function(){var n,r=k(e);if(t){var i=k(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return x(this,n)}}function E(e,t,n){return E=w()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&g(i,n.prototype),i},E.apply(null,arguments)}function T(e){var t="function"===typeof Map?new Map:void 0;return T=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return E(e,arguments,k(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),g(n,e)},T(e)}function I(e){return o(e)||f(e)||u(e)||c()}function C(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function P(){return P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var O,R="popstate";function D(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function N(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function A(e,t){return{usr:e.state,key:e.key,idx:t}}function j(e,t,n,r){return void 0===n&&(n=null),P({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?L(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function M(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function L(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function F(e,n,r,i){void 0===i&&(i={});var a=i,o=a.window,s=void 0===o?document.defaultView:o,u=a.v5Compat,c=void 0!==u&&u,l=s.history,f=t.Pop,h=null,d=p();function p(){return(l.state||{idx:null}).idx}function v(){var e=t.Pop,n=p();if(null!=n){var r=n-d;f=e,d=n,h&&h({action:f,location:m.location,delta:r})}else N(!1,"You are trying to block a POP navigation to a location that was not created by @remix-run/router. The block will fail silently in production, but in general you should do all navigation with the router (instead of using window.history.pushState directly) to avoid this situation.")}function y(e){var t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:M(e);return D(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==d&&(d=0,l.replaceState(P({},l.state,{idx:d}),""));var m={get action(){return f},get location(){return e(s,l)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(R,v),h=e,function(){s.removeEventListener(R,v),h=null}},createHref:function(e){return n(s,e)},createURL:y,encodeLocation:function(e){var t=y(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){f=t.Push;var i=j(m.location,e,n);r&&r(i,e);var a=A(i,d=p()+1),o=m.createHref(i);try{l.pushState(a,"",o)}catch(pD){s.location.assign(o)}c&&h&&h({action:f,location:m.location,delta:1})},replace:function(e,n){f=t.Replace;var i=j(m.location,e,n);r&&r(i,e);var a=A(i,d=p()),o=m.createHref(i);l.replaceState(a,"",o),c&&h&&h({action:f,location:m.location,delta:0})},go:function(e){return l.go(e)}};return m}function U(e,t,n){void 0===n&&(n="/");var r=Y(("string"===typeof t?L(t):t).pathname||"/",n);if(null==r)return null;var i=V(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=H(i[o],K(r));return a}function V(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(D(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var s=Z([r,o.relativePath]),u=n.concat(o);e.children&&e.children.length>0&&(D(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),V(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:W(s,e.index),routesMeta:u})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=C(z(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(s){a.e(s)}finally{a.f()}}else i(e,t)})),t}function z(e){var t=e.split("/");if(0===t.length)return[];var n=I(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var s=z(i.join("/")),u=[];return u.push.apply(u,h(s.map((function(e){return""===e?o:[o,e].join("/")})))),a&&u.push.apply(u,h(s)),u.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(O||(O={}));var q=/^:\w+$/,B=function(e){return"*"===e};function W(e,t){var n=e.split("/"),r=n.length;return n.some(B)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!B(e)})).reduce((function(e,t){return e+(q.test(t)?3:""===t?1:10)}),r)}function H(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=G({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:Z([i,l.pathname]),pathnameBase:ee(Z([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=Z([i,l.pathnameBase]))}return a}function G(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);Q("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=l(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),c=o.slice(1),f=a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(pD){return Q(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+pD+")."),e}}(c[n]||"",t),e}),{});return{params:f,pathname:s,pathnameBase:u,pattern:e}}function K(e){try{return decodeURI(e)}catch(pD){return Q(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+pD+")."),e}}function Y(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function Q(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function $(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function X(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function J(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=L(e):(D(!(i=P({},e)).pathname||!i.pathname.includes("?"),$("?","pathname","search",i)),D(!i.pathname||!i.pathname.includes("#"),$("#","pathname","hash",i)),D(!i.search||!i.search.includes("#"),$("#","search","hash",i)));var a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(r||null==s)a=n;else{var u=t.length-1;if(s.startsWith("..")){for(var c=s.split("/");".."===c[0];)c.shift(),u-=1;i.pathname=c.join("/")}a=u>=0?t[u]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?L(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:te(a),hash:ne(s)}}(i,a),f=s&&"/"!==s&&s.endsWith("/"),h=(o||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var Z=function(e){return e.join("/").replace(/\/\/+/g,"/")},ee=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},te=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},ne=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},re=function(e){b(n,e);var t=S(n);function n(){return d(this,n),t.apply(this,arguments)}return m(n)}(T(Error));var ie=m((function e(t,n,r,i){d(this,e),void 0===i&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}));function ae(e){return e instanceof ie}var oe=["post","put","patch","delete"],se=(new Set(oe),["get"].concat(oe));new Set(se),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;Symbol("deferred");function ue(){return ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ue.apply(this,arguments)}var ce="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},le=r.useState,fe=r.useEffect,he=r.useLayoutEffect,de=r.useDebugValue;function pe(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!ce(n,r)}catch(pD){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,i.useSyncExternalStore;var ve=r.createContext(null);var ye=r.createContext(null);var me=r.createContext(null);var ge=r.createContext(null);var be=r.createContext(null);var ke=r.createContext({outlet:null,matches:[]});var we=r.createContext(null);function _e(){return null!=r.useContext(be)}function xe(){return _e()||D(!1),r.useContext(be).location}function Se(){_e()||D(!1);var e=r.useContext(ge),t=e.basename,n=e.navigator,i=r.useContext(ke).matches,a=xe().pathname,o=JSON.stringify(X(i).map((function(e){return e.pathnameBase}))),s=r.useRef(!1);r.useEffect((function(){s.current=!0}));var u=r.useCallback((function(e,r){if(void 0===r&&(r={}),s.current)if("number"!==typeof e){var i=J(e,JSON.parse(o),a,"path"===r.relative);"/"!==t&&(i.pathname="/"===i.pathname?t:Z([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state,r)}else n.go(e)}),[t,n,o,a]);return u}function Ee(e,t){var n=(void 0===t?{}:t).relative,i=r.useContext(ke).matches,a=xe().pathname,o=JSON.stringify(X(i).map((function(e){return e.pathnameBase})));return r.useMemo((function(){return J(e,JSON.parse(o),a,"path"===n)}),[e,o,a,n])}function Te(){var e=function(){var e,t=r.useContext(we),n=De(Ce.UseRouteError),i=Ne(Ce.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=ae(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unhandled Thrown Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:a},n):null,r.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own\xa0",r.createElement("code",{style:o},"errorElement")," props on\xa0",r.createElement("code",{style:o},"<Route>")))}var Ie,Ce,Pe=function(e){b(n,e);var t=S(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).state={location:e.location,error:e.error},r}return m(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?r.createElement(ke.Provider,{value:this.props.routeContext},r.createElement(we.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),n}(r.Component);function Oe(e){var t=e.routeContext,n=e.match,i=e.children,a=r.useContext(ve);return a&&a.static&&a.staticContext&&n.route.errorElement&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(ke.Provider,{value:t},i)}function Re(e,t,n){if(void 0===t&&(t=[]),null==e){if(null==n||!n.errors)return null;e=n.matches}var i=e,a=null==n?void 0:n.errors;if(null!=a){var o=i.findIndex((function(e){return e.route.id&&(null==a?void 0:a[e.route.id])}));o>=0||D(!1),i=i.slice(0,Math.min(i.length,o+1))}return i.reduceRight((function(e,o,s){var u=o.route.id?null==a?void 0:a[o.route.id]:null,c=n?o.route.errorElement||r.createElement(Te,null):null,l=t.concat(i.slice(0,s+1)),f=function(){return r.createElement(Oe,{match:o,routeContext:{outlet:e,matches:l}},u?c:void 0!==o.route.element?o.route.element:e)};return n&&(o.route.errorElement||0===s)?r.createElement(Pe,{location:n.location,component:c,error:u,children:f(),routeContext:{outlet:null,matches:l}}):f()}),null)}function De(e){var t=r.useContext(ye);return t||D(!1),t}function Ne(e){var t=function(e){var t=r.useContext(ke);return t||D(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||D(!1),n.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"}(Ie||(Ie={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(Ce||(Ce={}));var Ae;function je(e){var t=e.to,n=e.replace,i=e.state,a=e.relative;_e()||D(!1);var o=r.useContext(ye),s=Se();return r.useEffect((function(){o&&"idle"!==o.navigation.state||s(t,{replace:n,state:i,relative:a})})),null}function Me(e){D(!1)}function Le(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,s=e.location,u=e.navigationType,c=void 0===u?t.Pop:u,l=e.navigator,f=e.static,h=void 0!==f&&f;_e()&&D(!1);var d=i.replace(/^\/*/,"/"),p=r.useMemo((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof s&&(s=L(s));var v=s,y=v.pathname,m=void 0===y?"/":y,g=v.search,b=void 0===g?"":g,k=v.hash,w=void 0===k?"":k,_=v.state,x=void 0===_?null:_,S=v.key,E=void 0===S?"default":S,T=r.useMemo((function(){var e=Y(m,d);return null==e?null:{pathname:e,search:b,hash:w,state:x,key:E}}),[d,m,b,w,x,E]);return null==T?null:r.createElement(ge.Provider,{value:p},r.createElement(be.Provider,{children:o,value:{location:T,navigationType:c}}))}function Fe(e){var n=e.children,i=e.location,a=r.useContext(ve);return function(e,n){_e()||D(!1);var i,a=r.useContext(ge).navigator,o=r.useContext(ye),s=r.useContext(ke).matches,u=s[s.length-1],c=u?u.params:{},l=(u&&u.pathname,u?u.pathnameBase:"/"),f=(u&&u.route,xe());if(n){var h,d="string"===typeof n?L(n):n;"/"===l||(null==(h=d.pathname)?void 0:h.startsWith(l))||D(!1),i=d}else i=f;var p=i.pathname||"/",v=U(e,{pathname:"/"===l?p:p.slice(l.length)||"/"}),y=Re(v&&v.map((function(e){return Object.assign({},e,{params:Object.assign({},c,e.params),pathname:Z([l,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:Z([l,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),s,o||void 0);return n&&y?r.createElement(be.Provider,{value:{location:ue({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:t.Pop}},y):y}(a&&!n?a.router.routes:Ve(n),i)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Ae||(Ae={}));var Ue=new Promise((function(){}));r.Component;function Ve(e,t){void 0===t&&(t=[]);var n=[];return r.Children.forEach(e,(function(e,i){if(r.isValidElement(e))if(e.type!==r.Fragment){e.type!==Me&&D(!1),e.props.index&&e.props.children&&D(!1);var a=[].concat(h(t),[i]),o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(o.children=Ve(e.props.children,a)),n.push(o)}else n.push.apply(n,Ve(e.props.children,t))})),n}function ze(){return ze=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ze.apply(this,arguments)}function qe(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Be=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function We(e){var t,n=e.basename,i=e.children,a=e.window,o=r.useRef();null==o.current&&(o.current=(void 0===(t={window:a,v5Compat:!0})&&(t={}),F((function(e,t){var n=e.location;return j("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:M(t)}),null,t)));var s=o.current,u=l(r.useState({action:s.action,location:s.location}),2),c=u[0],f=u[1];return r.useLayoutEffect((function(){return s.listen(f)}),[s]),r.createElement(Le,{basename:n,children:i,location:c.location,navigationType:c.action,navigator:s})}var He=r.forwardRef((function(e,t){var n=e.onClick,i=e.relative,a=e.reloadDocument,o=e.replace,s=e.state,u=e.target,c=e.to,l=e.preventScrollReset,f=qe(e,Be),h=function(e,t){var n=(void 0===t?{}:t).relative;_e()||D(!1);var i=r.useContext(ge),a=i.basename,o=i.navigator,s=Ee(e,{relative:n}),u=s.hash,c=s.pathname,l=s.search,f=c;return"/"!==a&&(f="/"===c?a:Z([a,c])),o.createHref({pathname:f,search:l,hash:u})}(c,{relative:i}),d=function(e,t){var n=void 0===t?{}:t,i=n.target,a=n.replace,o=n.state,s=n.preventScrollReset,u=n.relative,c=Se(),l=xe(),f=Ee(e,{relative:u});return r.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:M(l)===M(f);c(e,{replace:n,state:o,preventScrollReset:s,relative:u})}}),[l,c,f,a,o,i,e,s,u])}(c,{replace:o,state:s,target:u,preventScrollReset:l,relative:i});return r.createElement("a",ze({},f,{href:h,onClick:a?n:function(e){n&&n(e),e.defaultPrevented||d(e)},ref:t,target:u}))}));var Ge,Ke;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(Ge||(Ge={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ke||(Ke={}));function Ye(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Qe(){Qe=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(P){u=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),s=new T(i||[]);return r(o,"_invoke",{value:_(e,n,s)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(P){return{type:"throw",arg:P}}}e.wrap=c;var f={};function h(){}function d(){}function v(){}var y={};u(y,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(I([])));g&&g!==t&&n.call(g,a)&&(y=g);var b=v.prototype=h.prototype=Object.create(y);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,a,o,s){var u=l(e[r],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==p(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function _(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return C()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=x(o,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function I(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return d.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:d,configurable:!0}),d.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},k(w.prototype),u(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(b),u(b,s,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=I,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function $e(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(pD){return void n(pD)}s.done?t(u):Promise.resolve(u).then(r,i)}function Xe(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){$e(a,r,i,o,s,"next",e)}function s(e){$e(a,r,i,o,s,"throw",e)}o(void 0)}))}}var Je=n(7441),Ze=n(9613),et=n.n(Ze);var tt=function(e){function t(e,r,u,c,h){for(var d,p,v,y,k,_=0,x=0,S=0,E=0,T=0,D=0,A=v=d=0,M=0,L=0,F=0,U=0,V=u.length,z=V-1,q="",B="",W="",H="";M<V;){if(p=u.charCodeAt(M),M===z&&0!==x+E+S+_&&(0!==x&&(p=47===x?10:47),E=S=_=0,V++,z++),0===x+E+S+_){if(M===z&&(0<L&&(q=q.replace(f,"")),0<q.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:q+=u.charAt(M)}p=59}switch(p){case 123:for(d=(q=q.trim()).charCodeAt(0),v=1,U=++M;M<V;){switch(p=u.charCodeAt(M)){case 123:v++;break;case 125:v--;break;case 47:switch(p=u.charCodeAt(M+1)){case 42:case 47:e:{for(A=M+1;A<z;++A)switch(u.charCodeAt(A)){case 47:if(42===p&&42===u.charCodeAt(A-1)&&M+2!==A){M=A+1;break e}break;case 10:if(47===p){M=A+1;break e}}M=A}}break;case 91:p++;case 40:p++;case 34:case 39:for(;M++<z&&u.charCodeAt(M)!==p;);}if(0===v)break;M++}if(v=u.substring(U,M),0===d&&(d=(q=q.replace(l,"").trim()).charCodeAt(0)),64===d){switch(0<L&&(q=q.replace(f,"")),p=q.charCodeAt(1)){case 100:case 109:case 115:case 45:L=r;break;default:L=R}if(U=(v=t(r,L,v,p,h+1)).length,0<N&&(k=s(3,v,L=n(R,q,F),r,C,I,U,p,h,c),q=L.join(""),void 0!==k&&0===(U=(v=k.trim()).length)&&(p=0,v="")),0<U)switch(p){case 115:q=q.replace(w,o);case 100:case 109:case 45:v=q+"{"+v+"}";break;case 107:v=(q=q.replace(m,"$1 $2"))+"{"+v+"}",v=1===O||2===O&&a("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=q+v,112===c&&(B+=v,v="")}else v=""}else v=t(r,n(r,q,F),v,c,h+1);W+=v,v=F=L=A=d=0,q="",p=u.charCodeAt(++M);break;case 125:case 59:if(1<(U=(q=(0<L?q.replace(f,""):q).trim()).length))switch(0===A&&(d=q.charCodeAt(0),45===d||96<d&&123>d)&&(U=(q=q.replace(" ",":")).length),0<N&&void 0!==(k=s(1,q,r,e,C,I,B.length,c,h,c))&&0===(U=(q=k.trim()).length)&&(q="\0\0"),d=q.charCodeAt(0),p=q.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){H+=q+u.charAt(M);break}default:58!==q.charCodeAt(U-1)&&(B+=i(q,d,p,q.charCodeAt(2)))}F=L=A=d=0,q="",p=u.charCodeAt(++M)}}switch(p){case 13:case 10:47===x?x=0:0===1+d&&107!==c&&0<q.length&&(L=1,q+="\0"),0<N*j&&s(0,q,r,e,C,I,B.length,c,h,c),I=1,C++;break;case 59:case 125:if(0===x+E+S+_){I++;break}default:switch(I++,y=u.charAt(M),p){case 9:case 32:if(0===E+_+x)switch(T){case 44:case 58:case 9:case 32:y="";break;default:32!==p&&(y=" ")}break;case 0:y="\\0";break;case 12:y="\\f";break;case 11:y="\\v";break;case 38:0===E+x+_&&(L=F=1,y="\f"+y);break;case 108:if(0===E+x+_+P&&0<A)switch(M-A){case 2:112===T&&58===u.charCodeAt(M-3)&&(P=T);case 8:111===D&&(P=D)}break;case 58:0===E+x+_&&(A=M);break;case 44:0===x+S+E+_&&(L=1,y+="\r");break;case 34:case 39:0===x&&(E=E===p?0:0===E?p:E);break;case 91:0===E+x+S&&_++;break;case 93:0===E+x+S&&_--;break;case 41:0===E+x+_&&S--;break;case 40:if(0===E+x+_){if(0===d)if(2*T+3*D===533);else d=1;S++}break;case 64:0===x+S+E+_+A+v&&(v=1);break;case 42:case 47:if(!(0<E+_+S))switch(x){case 0:switch(2*p+3*u.charCodeAt(M+1)){case 235:x=47;break;case 220:U=M,x=42}break;case 42:47===p&&42===T&&U+2!==M&&(33===u.charCodeAt(U+2)&&(B+=u.substring(U,M+1)),y="",x=0)}}0===x&&(q+=y)}D=T,T=p,M++}if(0<(U=B.length)){if(L=r,0<N&&(void 0!==(k=s(2,B,L,e,C,I,U,c,h,c))&&0===(B=k).length))return H+B+W;if(B=L.join(",")+"{"+B+"}",0!==O*P){switch(2!==O||a(B,2)||(P=0),P){case 111:B=B.replace(b,":-moz-$1")+B;break;case 112:B=B.replace(g,"::-webkit-input-$1")+B.replace(g,"::-moz-$1")+B.replace(g,":-ms-input-$1")+B}P=0}}return H+B+W}function n(e,t,n){var i=t.trim().split(v);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var s=0;for(e=0===o?"":e[0]+" ";s<a;++s)t[s]=r(e,t[s],n).trim();break;default:var u=s=0;for(t=[];s<a;++s)for(var c=0;c<o;++c)t[u++]=r(e[c]+" ",i[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(y,"$1"+e.trim());case 58:return e.trim()+t.replace(y,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(y,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var o=e+";",s=2*t+3*n+4*r;if(944===s){e=o.indexOf(":",9)+1;var u=o.substring(e,o.length-1).trim();return u=o.substring(0,e).trim()+u+";",1===O||2===O&&a(u,1)?"-webkit-"+u+u:u}if(0===O||2===O&&!a(o,1))return o;switch(s){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(T,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(u=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+u+o;case 1005:return d.test(o)?o.replace(h,":-webkit-")+o.replace(h,":-moz-")+o:o;case 1e3:switch(t=(u=o.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=o.replace(k,"tb");break;case 232:u=o.replace(k,"tb-rl");break;case 220:u=o.replace(k,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+u+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,s=(u=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:o=o.replace(u,"-webkit-"+u)+";"+o;break;case 207:case 102:o=o.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+o.replace(u,"-webkit-"+u)+";"+o.replace(u,"-ms-"+u+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return u=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+u+"-ms-flex-"+u+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(x,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(x,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===E.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(u,"-webkit-"+u)+o.replace(u,"-moz-"+u.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+r&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+o}return o}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),A(2!==t?r:r.replace(S,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(_," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,i,a,o,s,u,l){for(var f,h=0,d=t;h<N;++h)switch(f=D[h].call(c,e,d,n,r,i,a,o,s,u,l)){case void 0:case!1:case!0:case null:break;default:d=f}if(d!==t)return d}function u(e){return void 0!==(e=e.prefix)&&(A=null,e?"function"!==typeof e?O=1:(O=2,A=e):O=0),u}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<N){var i=s(-1,n,r,r,C,I,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var a=t(R,r,n,0,0);return 0<N&&(void 0!==(i=s(-2,a,r,r,C,I,a.length,0,0,0))&&(a=i)),"",P=0,I=C=1,a}var l=/^\0+/g,f=/[\0\r\f]/g,h=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,v=/,\r+?/g,y=/([\t\r\n ])*\f?&/g,m=/@(k\w+)\s*(\S*)\s*/,g=/::(place)/g,b=/:(read-only)/g,k=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,_=/([\s\S]*?);/g,x=/-self|flex-/g,S=/[^]*?(:[rp][el]a[\w-]+)[^]*/,E=/stretch|:\s*\w+\-(?:conte|avail)/,T=/([^-])(image-set\()/,I=1,C=1,P=0,O=1,R=[],D=[],N=0,A=null,j=0;return c.use=function e(t){switch(t){case void 0:case null:N=D.length=0;break;default:if("function"===typeof t)D[N++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else j=0|!!t}return e},c.set=u,void 0!==e&&u(e),c},nt={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var rt=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},it=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,at=rt((function(e){return it.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),ot=n(2110),st=n.n(ot);function ut(){return(ut=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ct=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},lt=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,Je.typeOf)(e)},ft=Object.freeze([]),ht=Object.freeze({});function dt(e){return"function"==typeof e}function pt(e){return e.displayName||e.name||"Component"}function vt(e){return e&&"string"==typeof e.styledComponentId}var yt="undefined"!=typeof process&&({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",mt="undefined"!=typeof window&&"HTMLElement"in window,gt=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY));function bt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var kt=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&bt(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),s=0,u=t.length;s<u;s++)this.tag.insertRule(o,t[s])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),wt=new Map,_t=new Map,xt=1,St=function(e){if(wt.has(e))return wt.get(e);for(;_t.has(xt);)xt++;var t=xt++;return wt.set(e,t),_t.set(t,e),t},Et=function(e){return _t.get(e)},Tt=function(e,t){t>=xt&&(xt=t+1),wt.set(e,t),_t.set(t,e)},It="style["+yt+'][data-styled-version="5.3.6"]',Ct=new RegExp("^"+yt+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),Pt=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},Ot=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var s=o.match(Ct);if(s){var u=0|parseInt(s[1],10),c=s[2];0!==u&&(Tt(c,u),Pt(e,c,s[3]),e.getTag().insertRules(u,r)),r.length=0}else r.push(o)}}},Rt=function(){return n.nc},Dt=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(yt))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(yt,"active"),r.setAttribute("data-styled-version","5.3.6");var o=Rt();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},Nt=function(){function e(e){var t=this.element=Dt(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}bt(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),At=function(){function e(e){var t=this.element=Dt(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),jt=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),Mt=mt,Lt={isServer:!mt,useCSSOMInjection:!gt},Ft=function(){function e(e,t,n){void 0===e&&(e=ht),void 0===t&&(t={}),this.options=ut({},Lt,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&mt&&Mt&&(Mt=!1,function(e){for(var t=document.querySelectorAll(It),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(yt)&&(Ot(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return St(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(ut({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new jt(i):r?new Nt(i):new At(i),new kt(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(St(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(St(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(St(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=Et(i);if(void 0!==a){var o=e.names.get(a),s=t.getGroup(i);if(o&&s&&o.size){var u=yt+".g"+i+'[id="'+a+'"]',c="";void 0!==o&&o.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+s+u+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),Ut=/(a)(d)/gi,Vt=function(e){return String.fromCharCode(e+(e>25?39:97))};function zt(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=Vt(t%52)+n;return(Vt(t%52)+n).replace(Ut,"$1-$2")}var qt=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Bt=function(e){return qt(5381,e)};function Wt(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(dt(n)&&!vt(n))return!1}return!0}var Ht=Bt("5.3.6"),Gt=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&Wt(e),this.componentId=t,this.baseHash=qt(Ht,t),this.baseStyle=n,Ft.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=fn(this.rules,e,t,n).join(""),o=zt(qt(this.baseHash,a)>>>0);if(!t.hasNameForId(r,o)){var s=n(a,"."+o,void 0,r);t.insertRules(r,o,s)}i.push(o),this.staticRulesId=o}else{for(var u=this.rules.length,c=qt(this.baseHash,n.hash),l="",f=0;f<u;f++){var h=this.rules[f];if("string"==typeof h)l+=h;else if(h){var d=fn(h,e,t,n),p=Array.isArray(d)?d.join(""):d;c=qt(c,p+f),l+=p}}if(l){var v=zt(c>>>0);if(!t.hasNameForId(r,v)){var y=n(l,"."+v,void 0,r);t.insertRules(r,v,y)}i.push(v)}}return i.join(" ")},e}(),Kt=/^\s*\/\/.*$/gm,Yt=[":","[",".","#"];function Qt(e){var t,n,r,i,a=void 0===e?ht:e,o=a.options,s=void 0===o?ht:o,u=a.plugins,c=void 0===u?ft:u,l=new tt(s),f=[],h=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,a,o,s,u,c,l,f){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){f.push(e)})),d=function(e,r,a){return 0===r&&-1!==Yt.indexOf(a[n.length])||a.match(i)?e:"."+t};function p(e,a,o,s){void 0===s&&(s="&");var u=e.replace(Kt,""),c=a&&o?o+" "+a+" { "+u+" }":u;return t=s,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),l(o||!a?"":a,c)}return l.use([].concat(c,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,d))},h,function(e){if(-2===e){var t=f;return f=[],t}}])),p.hash=c.length?c.reduce((function(e,t){return t.name||bt(15),qt(e,t.name)}),5381).toString():"",p}var $t=r.createContext(),Xt=($t.Consumer,r.createContext()),Jt=(Xt.Consumer,new Ft),Zt=Qt();function en(){return(0,r.useContext)($t)||Jt}function tn(){return(0,r.useContext)(Xt)||Zt}function nn(e){var t=(0,r.useState)(e.stylisPlugins),n=t[0],i=t[1],a=en(),o=(0,r.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),s=(0,r.useMemo)((function(){return Qt({options:{prefix:!e.disableVendorPrefixes},plugins:n})}),[e.disableVendorPrefixes,n]);return(0,r.useEffect)((function(){et()(n,e.stylisPlugins)||i(e.stylisPlugins)}),[e.stylisPlugins]),r.createElement($t.Provider,{value:o},r.createElement(Xt.Provider,{value:s},e.children))}var rn=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=Zt);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return bt(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=Zt),this.name+e.hash},e}(),an=/([A-Z])/,on=/([A-Z])/g,sn=/^ms-/,un=function(e){return"-"+e.toLowerCase()};function cn(e){return an.test(e)?e.replace(on,un).replace(sn,"-ms-"):e}var ln=function(e){return null==e||!1===e||""===e};function fn(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],o=0,s=e.length;o<s;o+=1)""!==(i=fn(e[o],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}return ln(e)?"":vt(e)?"."+e.styledComponentId:dt(e)?"function"!=typeof(u=e)||u.prototype&&u.prototype.isReactComponent||!t?e:fn(e(t),t,n,r):e instanceof rn?n?(e.inject(n,r),e.getName(r)):e:lt(e)?function e(t,n){var r,i,a=[];for(var o in t)t.hasOwnProperty(o)&&!ln(t[o])&&(Array.isArray(t[o])&&t[o].isCss||dt(t[o])?a.push(cn(o)+":",t[o],";"):lt(t[o])?a.push.apply(a,e(t[o],o)):a.push(cn(o)+": "+(r=o,(null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in nt?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString();var u}var hn=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function dn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return dt(e)||lt(e)?hn(fn(ct(ft,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:hn(fn(ct(e,n)))}new Set;var pn=function(e,t,n){return void 0===n&&(n=ht),e.theme!==n.theme&&e.theme||t||n.theme},vn=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,yn=/(^-|-$)/g;function mn(e){return e.replace(vn,"-").replace(yn,"")}var gn=function(e){return zt(Bt(e)>>>0)};function bn(e){return"string"==typeof e&&!0}var kn=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},wn=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function _n(e,t,n){var r=e[n];kn(t)&&kn(r)?xn(r,t):e[n]=t}function xn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(kn(o))for(var s in o)wn(s)&&_n(e,o[s],s)}return e}var Sn=r.createContext();Sn.Consumer;var En={};function Tn(e,t,n){var i=vt(e),a=!bn(e),o=t.attrs,s=void 0===o?ft:o,u=t.componentId,c=void 0===u?function(e,t){var n="string"!=typeof e?"sc":mn(e);En[n]=(En[n]||0)+1;var r=n+"-"+gn("5.3.6"+n+En[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):u,l=t.displayName,f=void 0===l?function(e){return bn(e)?"styled."+e:"Styled("+pt(e)+")"}(e):l,h=t.displayName&&t.componentId?mn(t.displayName)+"-"+t.componentId:t.componentId||c,d=i&&e.attrs?Array.prototype.concat(e.attrs,s).filter(Boolean):s,p=t.shouldForwardProp;i&&e.shouldForwardProp&&(p=t.shouldForwardProp?function(n,r,i){return e.shouldForwardProp(n,r,i)&&t.shouldForwardProp(n,r,i)}:e.shouldForwardProp);var v,y=new Gt(n,h,i?e.componentStyle:void 0),m=y.isStatic&&0===s.length,g=function(e,t){return function(e,t,n,i){var a=e.attrs,o=e.componentStyle,s=e.defaultProps,u=e.foldedComponentIds,c=e.shouldForwardProp,l=e.styledComponentId,f=e.target,h=function(e,t,n){void 0===e&&(e=ht);var r=ut({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,a,o=e;for(t in dt(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],a=o[t],n&&a?n+" "+a:n||a):o[t]})),[r,i]}(pn(t,(0,r.useContext)(Sn),s)||ht,t,a),d=h[0],p=h[1],v=function(e,t,n,r){var i=en(),a=tn();return t?e.generateAndInjectStyles(ht,i,a):e.generateAndInjectStyles(n,i,a)}(o,i,d),y=n,m=p.$as||t.$as||p.as||t.as||f,g=bn(m),b=p!==t?ut({},t,{},p):t,k={};for(var w in b)"$"!==w[0]&&"as"!==w&&("forwardedAs"===w?k.as=b[w]:(c?c(w,at,m):!g||at(w))&&(k[w]=b[w]));return t.style&&p.style!==t.style&&(k.style=ut({},t.style,{},p.style)),k.className=Array.prototype.concat(u,l,v!==l?v:null,t.className,p.className).filter(Boolean).join(" "),k.ref=y,(0,r.createElement)(m,k)}(v,e,t,m)};return g.displayName=f,(v=r.forwardRef(g)).attrs=d,v.componentStyle=y,v.displayName=f,v.shouldForwardProp=p,v.foldedComponentIds=i?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):ft,v.styledComponentId=h,v.target=i?e.target:e,v.withComponent=function(e){var r=t.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["componentId"]),a=r&&r+"-"+(bn(e)?e:mn(pt(e)));return Tn(e,ut({},i,{attrs:d,componentId:a}),n)},Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=i?xn({},e.defaultProps,t):t}}),v.toString=function(){return"."+v.styledComponentId},a&&st()(v,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),v}var In=function(e){return function e(t,n,r){if(void 0===r&&(r=ht),!(0,Je.isValidElementType)(n))return bt(1,String(n));var i=function(){return t(n,r,dn.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,ut({},r,{},i))},i.attrs=function(i){return e(t,n,ut({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(Tn,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){In[e]=In(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=Wt(e),Ft.registerId(this.componentId+1)}var t=e.prototype;t.createStyles=function(e,t,n,r){var i=r(fn(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&Ft.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=Rt();return"<style "+[n&&'nonce="'+n+'"',yt+'="true"','data-styled-version="5.3.6"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?bt(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return bt(2);var n=((t={})[yt]="",t["data-styled-version"]="5.3.6",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),i=Rt();return i&&(n.nonce=i),[r.createElement("style",ut({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new Ft({isServer:!0}),this.sealed=!1}var t=e.prototype;t.collectStyles=function(e){return this.sealed?bt(2):r.createElement(nn,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return bt(3)}}();var Cn=In,Pn=n(7248),On=n(327),Rn=n(4164);var Dn=function(e){e()},Nn=function(){return Dn},An=(0,r.createContext)(null);var jn=function(){throw new Error("uSES not initialized!")};function Mn(){return Mn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mn.apply(this,arguments)}function Ln(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Fn=n(6900),Un=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function Vn(e,t,n,r,i){var a,o,s,u,c,l=i.areStatesEqual,f=i.areOwnPropsEqual,h=i.areStatePropsEqual,d=!1;function p(i,d){var p=!f(d,o),v=!l(i,a,d,o);return a=i,o=d,p&&v?(s=e(a,o),t.dependsOnOwnProps&&(u=t(r,o)),c=n(s,u,o)):p?(e.dependsOnOwnProps&&(s=e(a,o)),t.dependsOnOwnProps&&(u=t(r,o)),c=n(s,u,o)):v?function(){var t=e(a,o),r=!h(t,s);return s=t,r&&(c=n(s,u,o)),c}():c}return function(i,l){return d?p(i,l):(s=e(a=i,o=l),u=t(r,o),c=n(s,u,o),d=!0,c)}}function zn(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,a=Ln(t,Un);return Vn(n(e,a),r(e,a),i(e,a),e,a)}function qn(e){return function(t){var n=e(t);function r(){return n}return r.dependsOnOwnProps=!1,r}}function Bn(e){return e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function Wn(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e,void 0)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=Bn(e);var i=r(t,n);return"function"===typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=Bn(i),i=r(t,n)),i},r}}function Hn(e,t){return function(n,r){throw new Error("Invalid value of type ".concat(typeof e," for ").concat(t," argument when connecting component ").concat(r.wrappedComponentName,"."))}}function Gn(e){return e&&"object"===typeof e?qn((function(t){return function(e,t){var n={},r=function(){var r=e[i];"function"===typeof r&&(n[i]=function(){return t(r.apply(void 0,arguments))})};for(var i in e)r();return n}(e,t)})):e?"function"===typeof e?Wn(e):Hn(e,"mapDispatchToProps"):qn((function(e){return{dispatch:e}}))}function Kn(e){return e?"function"===typeof e?Wn(e):Hn(e,"mapStateToProps"):qn((function(){return{}}))}function Yn(e,t,n){return Mn({},n,e,t)}function Qn(e){return e?"function"===typeof e?function(e){return function(t,n){n.displayName;var r,i=n.areMergedPropsEqual,a=!1;return function(t,n,o){var s=e(t,n,o);return a?i(s,r)||(r=s):(a=!0,r=s),r}}}(e):Hn(e,"mergeProps"):function(){return Yn}}var $n={notify:function(){},get:function(){return[]}};function Xn(e,t){var n,r=$n;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=Nn(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=$n)},getListeners:function(){return r}};return o}var Jn=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?r.useLayoutEffect:r.useEffect;function Zn(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function er(e,t){if(Zn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!Zn(e[n[i]],t[n[i]]))return!1;return!0}var tr=["reactReduxForwardedRef"],nr=jn,rr=[null,null];function ir(e,t,n){Jn((function(){return e.apply(void 0,h(t))}),n)}function ar(e,t,n,r,i,a){e.current=r,n.current=!1,i.current&&(i.current=null,a())}function or(e,t,n,r,i,a,o,s,u,c,l){if(!e)return function(){};var f=!1,h=null,d=function(){if(!f&&s.current){var e,n,d=t.getState();try{e=r(d,i.current)}catch(p){n=p,h=p}n||(h=null),e===a.current?o.current||c():(a.current=e,u.current=e,o.current=!0,l())}};n.onStateChange=d,n.trySubscribe(),d();return function(){if(f=!0,n.tryUnsubscribe(),n.onStateChange=null,h)throw h}}function sr(e,t){return e===t}var ur=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(i.pure,i.areStatesEqual),o=void 0===a?sr:a,s=i.areOwnPropsEqual,u=void 0===s?er:s,c=i.areStatePropsEqual,f=void 0===c?er:c,h=i.areMergedPropsEqual,d=void 0===h?er:h,p=i.forwardRef,v=void 0!==p&&p,y=i.context,m=void 0===y?An:y,g=m,b=Kn(e),k=Gn(t),w=Qn(n),_=Boolean(e),x=function(e){var t=e.displayName||e.name||"Component",n="Connect(".concat(t,")"),i={shouldHandleStateChanges:_,displayName:n,wrappedComponentName:t,WrappedComponent:e,initMapStateToProps:b,initMapDispatchToProps:k,initMergeProps:w,areStatesEqual:o,areStatePropsEqual:f,areOwnPropsEqual:u,areMergedPropsEqual:d};function a(t){var n=(0,r.useMemo)((function(){var e=t.reactReduxForwardedRef,n=Ln(t,tr);return[t.context,e,n]}),[t]),a=l(n,3),o=a[0],s=a[1],u=a[2],c=(0,r.useMemo)((function(){return o&&o.Consumer&&(0,Fn.isContextConsumer)(r.createElement(o.Consumer,null))?o:g}),[o,g]),f=(0,r.useContext)(c),h=Boolean(t.store)&&Boolean(t.store.getState)&&Boolean(t.store.dispatch),d=Boolean(f)&&Boolean(f.store);var p=h?t.store:f.store,v=d?f.getServerState:p.getState,y=(0,r.useMemo)((function(){return zn(p.dispatch,i)}),[p]),m=(0,r.useMemo)((function(){if(!_)return rr;var e=Xn(p,h?void 0:f.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[p,h,f]),b=l(m,2),k=b[0],w=b[1],x=(0,r.useMemo)((function(){return h?f:Mn({},f,{subscription:k})}),[h,f,k]),S=(0,r.useRef)(),E=(0,r.useRef)(u),T=(0,r.useRef)(),I=(0,r.useRef)(!1),C=((0,r.useRef)(!1),(0,r.useRef)(!1)),P=(0,r.useRef)();Jn((function(){return C.current=!0,function(){C.current=!1}}),[]);var O,R=(0,r.useMemo)((function(){return function(){return T.current&&u===E.current?T.current:y(p.getState(),u)}}),[p,u]),D=(0,r.useMemo)((function(){return function(e){return k?or(_,p,k,y,E,S,I,C,T,w,e):function(){}}}),[k]);ir(ar,[E,S,I,u,T,w]);try{O=nr(D,R,v?function(){return y(v(),u)}:R)}catch(A){throw P.current&&(A.message+="\nThe error may be correlated with this previous error:\n".concat(P.current.stack,"\n\n")),A}Jn((function(){P.current=void 0,T.current=void 0,S.current=O}));var N=(0,r.useMemo)((function(){return r.createElement(e,Mn({},O,{ref:s}))}),[s,e,O]);return(0,r.useMemo)((function(){return _?r.createElement(c.Provider,{value:x},N):N}),[c,N,x])}var s=r.memo(a);if(s.WrappedComponent=e,s.displayName=a.displayName=n,v){var c=r.forwardRef((function(e,t){return r.createElement(s,Mn({},e,{reactReduxForwardedRef:t}))}));return c.displayName=n,c.WrappedComponent=e,st()(c,e)}return st()(s,e)};return x};var cr=function(e){var t=e.store,n=e.context,i=e.children,a=e.serverState,o=(0,r.useMemo)((function(){var e=Xn(t);return{store:t,subscription:e,getServerState:a?function(){return a}:void 0}}),[t,a]),s=(0,r.useMemo)((function(){return t.getState()}),[t]);Jn((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[o,s]);var u=n||An;return r.createElement(u.Provider,{value:o},i)};var lr;function fr(e,t,n){return(t=v(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e}(On.useSyncExternalStoreWithSelector),function(e){nr=e}(Pn.useSyncExternalStore),lr=Rn.unstable_batchedUpdates,Dn=lr;var hr=!1,dr=!1,pr="${JSCORE_VERSION}",vr=function(e,t){if(!e)throw yr(t)},yr=function(e){return new Error("Firebase Database ("+pr+") INTERNAL ASSERT FAILED: "+e)},mr=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},gr={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(mr(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},br=function(e){var t=mr(e);return gr.encodeByteArray(t,!0)},kr=function(e){return br(e).replace(/\./g,"")},wr=function(e){try{return gr.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function _r(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=_r(e[n],t[n]));return e}var xr=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},Sr=function(){try{return xr()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&wr(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Er=function(){var e;return null===(e=Sr())||void 0===e?void 0:e.config},Tr=function(){function e(){var t=this;d(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return m(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Ir(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[kr(JSON.stringify({alg:"none",type:"JWT"})),kr(JSON.stringify(a)),""].join(".")}function Cr(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Pr(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cr())}function Or(){var e,t=null===(e=Sr())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function Rr(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Dr(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Nr(){var e=Cr();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Ar(){return!0===hr||!0===dr}function jr(){try{return"object"===typeof indexedDB}catch(e){return!1}}var Mr=function(e){b(n,e);var t=S(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(_(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(_(a),Lr.prototype.create),a}return m(n)}(T(Error)),Lr=function(){function e(t,n,r){d(this,e),this.service=t,this.serviceName=n,this.errors=r}return m(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Fr(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Mr(n,a,t);return o}}]),e}();function Fr(e,t){return e.replace(Ur,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Ur=/\{\$([^}]+)}/g;function Vr(e){return JSON.parse(e)}function zr(e){return JSON.stringify(e)}var qr=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=Vr(wr(a[0])||""),n=Vr(wr(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}};function Br(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Wr(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Hr(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Gr(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Kr(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(Yr(s)&&Yr(u)){if(!Kr(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Yr(e){return null!==e&&"object"===typeof e}function Qr(e){for(var t=[],n=function(){var e=l(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function $r(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=l(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Xr(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var Jr=function(){function e(){d(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return m(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var s,u,c=this.chain_[0],l=this.chain_[1],f=this.chain_[2],h=this.chain_[3],d=this.chain_[4],p=0;p<80;p++){p<40?p<20?(s=h^l&(f^h),u=1518500249):(s=l^f^h,u=1859775393):p<60?(s=l&f|h&(l|f),u=2400959708):(s=l^f^h,u=3395469782);var v=(c<<5|c>>>27)+s+d+u+n[p]&4294967295;d=h,h=f,f=4294967295&(l<<30|l>>>2),l=c,c=v}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();function Zr(e,t){var n=new ei(e,t);return n.subscribe.bind(n)}var ei=function(){function e(t,n){var r=this;d(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return m(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=C(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=ti),void 0===r.error&&(r.error=ti),void 0===r.complete&&(r.complete=ti);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function ti(){}var ni=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function ri(e,t){return"".concat(e," failed: ").concat(t," argument ")}function ii(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(ri(e,t)+"must be a valid function.")}function ai(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(ri(e,t)+"must be a valid context object.")}var oi=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function si(e){return e&&e._delegate?e._delegate:e}var ui=function(){function e(t,n,r){d(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return m(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),ci="[DEFAULT]",li=function(){function e(t,n){d(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return m(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Tr;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ci})}catch(u){}var t,n=C(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=l(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ci;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Xe(Qe().mark((function e(){var t;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(h(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),h(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ci;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ci;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=C(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=l(i.value,2),u=s[0],c=s[1],f=this.normalizeInstanceIdentifier(u);r===f&&c.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(vI){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===ci?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(vI){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ci;return this.component?this.component.multipleInstances?e:ci:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var fi,hi,di=function(){function e(t){d(this,e),this.name=t,this.providers=new Map}return m(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new li(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),pi=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(hi||(hi={}));var vi={debug:hi.DEBUG,verbose:hi.VERBOSE,info:hi.INFO,warn:hi.WARN,error:hi.ERROR,silent:hi.SILENT},yi=hi.INFO,mi=(fr(fi={},hi.DEBUG,"log"),fr(fi,hi.VERBOSE,"log"),fr(fi,hi.INFO,"info"),fr(fi,hi.WARN,"warn"),fr(fi,hi.ERROR,"error"),fi),gi=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=mi[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},bi=function(){function e(t){d(this,e),this.name=t,this._logLevel=yi,this._logHandler=gi,this._userLogHandler=null,pi.push(this)}return m(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in hi))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?vi[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,hi.DEBUG].concat(t)),this._logHandler.apply(this,[this,hi.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,hi.VERBOSE].concat(t)),this._logHandler.apply(this,[this,hi.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,hi.INFO].concat(t)),this._logHandler.apply(this,[this,hi.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,hi.WARN].concat(t)),this._logHandler.apply(this,[this,hi.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,hi.ERROR].concat(t)),this._logHandler.apply(this,[this,hi.ERROR].concat(t))}}]),e}();function ki(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ki(Object(n),!0).forEach((function(t){fr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ki(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _i,xi;var Si=new WeakMap,Ei=new WeakMap,Ti=new WeakMap,Ii=new WeakMap,Ci=new WeakMap;var Pi={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ei.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ti.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Di(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Oi(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(xi||(xi=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Ni(this),n),Di(Si.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Di(e.apply(Ni(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Ni(this),t].concat(r));return Ti.set(a,t.sort?t.sort():[t]),Di(a)}}function Ri(e){return"function"===typeof e?Oi(e):(e instanceof IDBTransaction&&function(e){if(!Ei.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Ei.set(e,t)}}(e),t=e,(_i||(_i=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Pi):e);var t}function Di(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Di(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Si.set(t,e)})).catch((function(){})),Ci.set(t,e),t}(e);if(Ii.has(e))return Ii.get(e);var t=Ri(e);return t!==e&&(Ii.set(e,t),Ci.set(t,e)),t}var Ni=function(e){return Ci.get(e)};var Ai,ji,Mi=["get","getKey","getAll","getAllKeys","count"],Li=["put","add","delete","clear"],Fi=new Map;function Ui(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Fi.get(t))return Fi.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Li.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Mi.includes(n))){var a=function(){var e=Xe(Qe().mark((function e(t){var a,o,s,u,c,l,f=arguments;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Fi.set(t,a),a}}}Pi=function(e){return wi(wi({},e),{},{get:function(t,n,r){return Ui(t,n)||e.get(t,n,r)},has:function(t,n){return!!Ui(t,n)||e.has(t,n)}})}(Pi);var Vi=function(){function e(t){d(this,e),this.container=t}return m(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var zi="@firebase/app",qi="0.9.1",Bi=new bi("@firebase/app"),Wi="[DEFAULT]",Hi=(fr(Ai={},zi,"fire-core"),fr(Ai,"@firebase/app-compat","fire-core-compat"),fr(Ai,"@firebase/analytics","fire-analytics"),fr(Ai,"@firebase/analytics-compat","fire-analytics-compat"),fr(Ai,"@firebase/app-check","fire-app-check"),fr(Ai,"@firebase/app-check-compat","fire-app-check-compat"),fr(Ai,"@firebase/auth","fire-auth"),fr(Ai,"@firebase/auth-compat","fire-auth-compat"),fr(Ai,"@firebase/database","fire-rtdb"),fr(Ai,"@firebase/database-compat","fire-rtdb-compat"),fr(Ai,"@firebase/functions","fire-fn"),fr(Ai,"@firebase/functions-compat","fire-fn-compat"),fr(Ai,"@firebase/installations","fire-iid"),fr(Ai,"@firebase/installations-compat","fire-iid-compat"),fr(Ai,"@firebase/messaging","fire-fcm"),fr(Ai,"@firebase/messaging-compat","fire-fcm-compat"),fr(Ai,"@firebase/performance","fire-perf"),fr(Ai,"@firebase/performance-compat","fire-perf-compat"),fr(Ai,"@firebase/remote-config","fire-rc"),fr(Ai,"@firebase/remote-config-compat","fire-rc-compat"),fr(Ai,"@firebase/storage","fire-gcs"),fr(Ai,"@firebase/storage-compat","fire-gcs-compat"),fr(Ai,"@firebase/firestore","fire-fst"),fr(Ai,"@firebase/firestore-compat","fire-fst-compat"),fr(Ai,"fire-js","fire-js"),fr(Ai,"firebase","fire-js-all"),Ai),Gi=new Map,Ki=new Map;function Yi(e,t){try{e.container.addComponent(t)}catch(n){Bi.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Qi(e,t){e.container.addOrOverwriteComponent(t)}function $i(e){var t=e.name;if(Ki.has(t))return Bi.debug("There were multiple attempts to register component ".concat(t,".")),!1;Ki.set(t,e);var n,r=C(Gi.values());try{for(r.s();!(n=r.n()).done;){Yi(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Xi(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ji(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Wi;Xi(e,t).clearInstance(n)}function Zi(){Ki.clear()}var ea=(fr(ji={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),fr(ji,"bad-app-name","Illegal App name: '{$appName}"),fr(ji,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),fr(ji,"app-deleted","Firebase App named '{$appName}' already deleted"),fr(ji,"no-options","Need to provide options, when not being deployed to hosting via source."),fr(ji,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),fr(ji,"invalid-log-argument","First argument to `onLog` must be null or a function."),fr(ji,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),fr(ji,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),fr(ji,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),fr(ji,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),ji),ta=new Lr("app","Firebase",ea),na=function(){function e(t,n,r){var i=this;d(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ui("app",(function(){return i}),"PUBLIC"))}return m(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw ta.create("app-deleted",{appName:this._name})}}]),e}(),ra="9.16.0";function ia(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){var r=t;t={name:r}}var i=Object.assign({name:Wi,automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!==typeof a||!a)throw ta.create("bad-app-name",{appName:String(a)});if(n||(n=Er()),!n)throw ta.create("no-options");var o=Gi.get(a);if(o){if(Kr(n,o.options)&&Kr(i,o.config))return o;throw ta.create("duplicate-app",{appName:a})}var s,u=new di(a),c=C(Ki.values());try{for(c.s();!(s=c.n()).done;){var l=s.value;u.addComponent(l)}}catch(h){c.e(h)}finally{c.f()}var f=new na(n,i,u);return Gi.set(a,f),f}function aa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wi,t=Gi.get(e);if(!t&&e===Wi)return ia();if(!t)throw ta.create("no-app",{appName:e});return t}function oa(){return Array.from(Gi.values())}function sa(e){return ua.apply(this,arguments)}function ua(){return ua=Xe(Qe().mark((function e(t){var n;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Gi.has(n)){e.next=6;break}return Gi.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),ua.apply(this,arguments)}function ca(e,t,n){var r,i=null!==(r=Hi[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Bi.warn(s.join(" "))}$i(new ui("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function la(e,t){if(null!==e&&"function"!==typeof e)throw ta.create("invalid-log-argument");!function(e,t){var n,r=C(pi);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=vi[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:hi[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function fa(e){var t;t=e,pi.forEach((function(e){e.setLogLevel(t)}))}var ha="firebase-heartbeat-store",da=null;function pa(){return da||(da=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=Di(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(Di(s.result),e.oldVersion,e.newVersion,Di(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(ha)}}).catch((function(e){throw ta.create("idb-open",{originalErrorMessage:e.message})}))),da}function va(e){return ya.apply(this,arguments)}function ya(){return ya=Xe(Qe().mark((function e(t){var n,r;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pa();case 3:return n=e.sent,e.abrupt("return",n.transaction(ha).objectStore(ha).get(ba(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof Mr?Bi.warn(e.t0.message):(r=ta.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Bi.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),ya.apply(this,arguments)}function ma(e,t){return ga.apply(this,arguments)}function ga(){return ga=Xe(Qe().mark((function e(t,n){var r,i,a,o;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pa();case 3:return r=e.sent,i=r.transaction(ha,"readwrite"),a=i.objectStore(ha),e.next=8,a.put(n,ba(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof Mr?Bi.warn(e.t0.message):(o=ta.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Bi.warn(o.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),ga.apply(this,arguments)}function ba(e){return"".concat(e.name,"!").concat(e.options.appId)}var ka=function(){function e(t){var n=this;d(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Ea(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return m(e,[{key:"triggerHeartbeat",value:function(){var e=Xe(Qe().mark((function e(){var t,n,r;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=wa(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Xe(Qe().mark((function e(){var t,n,r,i,a;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=wa(),n=_a(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=kr(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function wa(){return(new Date).toISOString().substring(0,10)}function _a(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=C(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Ta(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Ta(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var s=o();if("break"===s)break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var xa,Sa,Ea=function(){function e(t){d(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return m(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Xe(Qe().mark((function e(){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(jr()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(pD){t(pD)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Xe(Qe().mark((function e(){var t;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,va(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Xe(Qe().mark((function e(t){var n,r;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",ma(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Xe(Qe().mark((function e(t){var n,r;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",ma(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(h(r.heartbeats),h(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Ta(e){return kr(JSON.stringify({version:2,heartbeats:e})).length}xa="",$i(new ui("platform-logger",(function(e){return new Vi(e)}),"PRIVATE")),$i(new ui("heartbeat",(function(e){return new ka(e)}),"PRIVATE")),ca(zi,qi,xa),ca(zi,qi,"esm2017"),ca("fire-js","");var Ia=function(){function e(t,n){var r=this;d(this,e),this._delegate=t,this.firebase=n,Yi(t,new ui("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return m(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),sa(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Wi;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Wi;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Yi(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Qi(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Ca=(fr(Sa={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),fr(Sa,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Sa),Pa=new Lr("app-compat","Firebase",Ca);var Oa=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=ia(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Br(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:ca,setLogLevel:fa,onLog:la,apps:null,SDK_VERSION:ra,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if($i(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Pa.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&_r(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Br(n,e=e||Wi))throw Pa.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Ia);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){_r(n,e)},createSubscribe:Zr,ErrorFactory:Lr,deepExtend:_r}),n}(),Ra=new bi("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Ra.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Da=self.firebase.SDK_VERSION;Da&&Da.indexOf("LITE")>=0&&Ra.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Na=Oa;!function(e){ca("@firebase/app-compat","0.2.1",e)}();function Aa(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=k(e)););return e}function ja(){return ja="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Aa(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},ja.apply(this,arguments)}Na.registerVersion("firebase","9.16.0","app-compat");function Ma(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var La;Object.create;var Fa="facebook.com",Ua="github.com",Va="google.com",za="password",qa="twitter.com",Ba="EMAIL_SIGNIN",Wa="PASSWORD_RESET",Ha="RECOVER_EMAIL",Ga="REVERT_SECOND_FACTOR_ADDITION",Ka="VERIFY_AND_CHANGE_EMAIL",Ya="VERIFY_EMAIL";function Qa(){return fr({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var $a=function(){var e;return fr(e={},"admin-restricted-operation","This operation is restricted to administrators only."),fr(e,"argument-error",""),fr(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),fr(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),fr(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),fr(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),fr(e,"cordova-not-ready","Cordova framework is not ready."),fr(e,"cors-unsupported","This browser is not supported."),fr(e,"credential-already-in-use","This credential is already associated with a different user account."),fr(e,"custom-token-mismatch","The custom token corresponds to a different audience."),fr(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),fr(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),fr(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),fr(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),fr(e,"email-already-in-use","The email address is already in use by another account."),fr(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),fr(e,"expired-action-code","The action code has expired."),fr(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),fr(e,"internal-error","An internal AuthError has occurred."),fr(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),fr(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),fr(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),fr(e,"invalid-auth-event","An internal AuthError has occurred."),fr(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),fr(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),fr(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),fr(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),fr(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),fr(e,"invalid-email","The email address is badly formatted."),fr(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),fr(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),fr(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),fr(e,"invalid-credential","The supplied auth credential is malformed or has expired."),fr(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),fr(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),fr(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),fr(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),fr(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),fr(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),fr(e,"wrong-password","The password is invalid or the user does not have a password."),fr(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),fr(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),fr(e,"invalid-provider-id","The specified provider ID is invalid."),fr(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),fr(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),fr(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),fr(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),fr(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),fr(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),fr(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),fr(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),fr(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),fr(e,"missing-continue-uri","A continue URL must be provided in the request."),fr(e,"missing-iframe-start","An internal AuthError has occurred."),fr(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),fr(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),fr(e,"missing-multi-factor-info","No second factor identifier is provided."),fr(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),fr(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),fr(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),fr(e,"app-deleted","This instance of FirebaseApp has been deleted."),fr(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),fr(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),fr(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),fr(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),fr(e,"no-auth-event","An internal AuthError has occurred."),fr(e,"no-such-provider","User was not linked to an account with the given provider."),fr(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),fr(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),fr(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),fr(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),fr(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),fr(e,"provider-already-linked","User can only be linked to one identity for the given provider."),fr(e,"quota-exceeded","The project's quota for this operation has been exceeded."),fr(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),fr(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),fr(e,"rejected-credential","The request contains malformed or mismatching credentials."),fr(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),fr(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),fr(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),fr(e,"timeout","The operation has timed out."),fr(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),fr(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),fr(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),fr(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),fr(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),fr(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),fr(e,"unverified-email","The operation requires a verified email."),fr(e,"user-cancelled","The user did not grant your application the permissions it requested."),fr(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),fr(e,"user-disabled","The user account has been disabled by an administrator."),fr(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),fr(e,"user-signed-out",""),fr(e,"weak-password","The password must be 6 characters long or more."),fr(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),fr(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},Xa=Qa,Ja=new Lr("auth","Firebase",Qa()),Za=new bi("@firebase/auth");function eo(e){if(Za.logLevel<=hi.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Za.error.apply(Za,["Auth (".concat(ra,"): ").concat(e)].concat(n))}}function to(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw ao.apply(void 0,[e].concat(n))}function no(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ao.apply(void 0,[e].concat(n))}function ro(e,t,n){var r=Object.assign(Object.assign({},Xa()),fr({},t,n));return new Lr("auth","Firebase",r).create(t,{appName:e.name})}function io(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&to(e,"argument-error"),ro(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function ao(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=h(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(h(o)))}return Ja.create.apply(Ja,[e].concat(n))}function oo(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw ao.apply(void 0,[t].concat(r))}}function so(e){var t="INTERNAL ASSERTION FAILED: "+e;throw eo(t),new Error(t)}function uo(e,t){e||so(t)}var co=new Map;function lo(e){uo(e instanceof Function,"Expected a class definition");var t=co.get(e);return t?(uo(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,co.set(e,t),t)}function fo(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function ho(){return"http:"===po()||"https:"===po()}function po(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var vo=function(){function e(t,n){d(this,e),this.shortDelay=t,this.longDelay=n,uo(n>t,"Short delay should be less than long delay!"),this.isMobile=Pr()||Dr()}return m(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(ho()||Rr()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function yo(e,t){uo(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var mo=function(){function e(){d(this,e)}return m(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void so("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void so("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void so("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),go=(fr(La={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),fr(La,"MISSING_CUSTOM_TOKEN","internal-error"),fr(La,"INVALID_IDENTIFIER","invalid-email"),fr(La,"MISSING_CONTINUE_URI","internal-error"),fr(La,"INVALID_PASSWORD","wrong-password"),fr(La,"MISSING_PASSWORD","internal-error"),fr(La,"EMAIL_EXISTS","email-already-in-use"),fr(La,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),fr(La,"INVALID_IDP_RESPONSE","invalid-credential"),fr(La,"INVALID_PENDING_TOKEN","invalid-credential"),fr(La,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),fr(La,"MISSING_REQ_TYPE","internal-error"),fr(La,"EMAIL_NOT_FOUND","user-not-found"),fr(La,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),fr(La,"EXPIRED_OOB_CODE","expired-action-code"),fr(La,"INVALID_OOB_CODE","invalid-action-code"),fr(La,"MISSING_OOB_CODE","internal-error"),fr(La,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),fr(La,"INVALID_ID_TOKEN","invalid-user-token"),fr(La,"TOKEN_EXPIRED","user-token-expired"),fr(La,"USER_NOT_FOUND","user-token-expired"),fr(La,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),fr(La,"INVALID_CODE","invalid-verification-code"),fr(La,"INVALID_SESSION_INFO","invalid-verification-id"),fr(La,"INVALID_TEMPORARY_PROOF","invalid-credential"),fr(La,"MISSING_SESSION_INFO","missing-verification-id"),fr(La,"SESSION_EXPIRED","code-expired"),fr(La,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),fr(La,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),fr(La,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),fr(La,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),fr(La,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),fr(La,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),fr(La,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),fr(La,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),fr(La,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),fr(La,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),fr(La,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),La),bo=new vo(3e4,6e4);function ko(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function wo(e,t,n,r){return _o.apply(this,arguments)}function _o(){return _o=Xe(Qe().mark((function e(t,n,r,i){var a,o=arguments;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",xo(t,a,Xe(Qe().mark((function e(){var a,o,s,u;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=Qr(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",mo.fetch()(Io(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),_o.apply(this,arguments)}function xo(e,t,n){return So.apply(this,arguments)}function So(){return So=Xe(Qe().mark((function e(t,n,r){var i,a,o,s,u,c,f,h,d,p;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},go),n),e.prev=2,a=new Co(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw Po(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,c=u.split(" : "),f=l(c,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw Po(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw Po(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw Po(t,"user-disabled",s);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw ro(t,p,d);case 34:to(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Mr)){e.next=41;break}throw e.t0;case 41:to(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),So.apply(this,arguments)}function Eo(e,t,n,r){return To.apply(this,arguments)}function To(){return To=Xe(Qe().mark((function e(t,n,r,i){var a,o,s=arguments;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,wo(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&to(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),To.apply(this,arguments)}function Io(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?yo(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Co=function(){function e(t){var n=this;d(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(no(n.auth,"network-request-failed"))}),bo.get())}))}return m(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Po(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=no(e,t,r);return i.customData._tokenResponse=n,i}function Oo(e,t){return Ro.apply(this,arguments)}function Ro(){return Ro=Xe(Qe().mark((function e(t,n){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wo(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Ro.apply(this,arguments)}function Do(e,t){return No.apply(this,arguments)}function No(){return No=Xe(Qe().mark((function e(t,n){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wo(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),No.apply(this,arguments)}function Ao(e,t){return jo.apply(this,arguments)}function jo(){return jo=Xe(Qe().mark((function e(t,n){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wo(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),jo.apply(this,arguments)}function Mo(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Lo(){return Lo=Xe(Qe().mark((function e(t){var n,r,i,a,o,s,u=arguments;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=si(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,oo((a=Uo(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Mo(Fo(a.auth_time)),issuedAtTime:Mo(Fo(a.iat)),expirationTime:Mo(Fo(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Lo.apply(this,arguments)}function Fo(e){return 1e3*Number(e)}function Uo(e){var t=l(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return eo("JWT malformed, contained fewer than 3 sections"),null;try{var a=wr(r);return a?JSON.parse(a):(eo("Failed to decode base64 JWT payload"),null)}catch(o){return eo("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function Vo(e,t){return zo.apply(this,arguments)}function zo(){return zo=Xe(Qe().mark((function e(t,n){var r=arguments;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Mr&&qo(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),zo.apply(this,arguments)}function qo(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Bo=function(){function e(t){d(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return m(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Xe(Qe().mark((function t(){return Qe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Xe(Qe().mark((function e(){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Wo=function(){function e(t,n){d(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return m(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Mo(this.lastLoginAt),this.creationTime=Mo(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Ho(e){return Go.apply(this,arguments)}function Go(){return Go=Xe(Qe().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Vo(t,Ao(r,{idToken:i}));case 6:oo(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Qo(o.providerUserInfo):[],u=Yo(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Wo(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Go.apply(this,arguments)}function Ko(){return(Ko=Xe(Qe().mark((function e(t){var n;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=si(t),e.next=3,Ho(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yo(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(h(n),h(t))}function Qo(e){return e.map((function(e){var t=e.providerId,n=Ma(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function $o(e,t){return Xo.apply(this,arguments)}function Xo(){return Xo=Xe(Qe().mark((function e(t,n){var r;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xo(t,{},Xe(Qe().mark((function e(){var r,i,a,o,s,u;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Qr({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=Io(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",mo.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Xo.apply(this,arguments)}var Jo=function(){function e(){d(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return m(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){oo(e.idToken,"internal-error"),oo("undefined"!==typeof e.idToken,"internal-error"),oo("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Uo(e);return oo(t,"internal-error"),oo("undefined"!==typeof t.exp,"internal-error"),oo("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Xe(Qe().mark((function e(t){var n,r=arguments;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],oo(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Xe(Qe().mark((function e(t,n){var r,i,a,o;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$o(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return so("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(oo("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(oo("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(oo("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Zo(e,t){oo("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var es=function(){function e(t){d(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Ma(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Bo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?h(a.providerData):[],this.metadata=new Wo(a.createdAt||void 0,a.lastLoginAt||void 0)}return m(e,[{key:"getIdToken",value:function(){var e=Xe(Qe().mark((function e(t){var n;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vo(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(oo(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Lo.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Ko.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(oo(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){oo(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Xe(Qe().mark((function e(t){var n,r,i=arguments;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Ho(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Xe(Qe().mark((function e(){var t;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Vo(this,Oo(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,y=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,m=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,b=n.uid,k=n.emailVerified,w=n.isAnonymous,_=n.providerData,x=n.stsTokenManager;oo(b&&x,t,"internal-error");var S=Jo.fromJSON(this.name,x);oo("string"===typeof b,t,"internal-error"),Zo(f,t.name),Zo(h,t.name),oo("boolean"===typeof k,t,"internal-error"),oo("boolean"===typeof w,t,"internal-error"),Zo(d,t.name),Zo(p,t.name),Zo(v,t.name),Zo(y,t.name),Zo(m,t.name),Zo(g,t.name);var E=new e({uid:b,auth:t,email:h,emailVerified:k,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:m,lastLoginAt:g});return _&&Array.isArray(_)&&(E.providerData=_.map((function(e){return Object.assign({},e)}))),y&&(E._redirectEventId=y),E}},{key:"_fromIdTokenResponse",value:function(){var t=Xe(Qe().mark((function t(n,r){var i,a,o,s=arguments;return Qe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new Jo).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Ho(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),ts=function(){function e(){d(this,e),this.type="NONE",this.storage={}}return m(e,[{key:"_isAvailable",value:function(){var e=Xe(Qe().mark((function e(){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Xe(Qe().mark((function e(t,n){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Xe(Qe().mark((function e(t){var n;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Xe(Qe().mark((function e(t){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();ts.type="NONE";var ns=ts;function rs(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var is=function(){function e(t,n,r){d(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=rs(this.userKey,a.apiKey,o),this.fullPersistenceKey=rs("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return m(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Xe(Qe().mark((function e(){var t;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?es._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Xe(Qe().mark((function e(t){var n;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Xe(Qe().mark((function t(n,r){var i,a,o,s,u,c,l,f,h,d,p,v=arguments;return Qe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(lo(ns),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Xe(Qe().mark((function e(t){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||lo(ns),s=rs(i,n.config.apiKey,n.name),u=null,c=C(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=es._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Xe(Qe().mark((function e(t){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function as(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(cs(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(os(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(fs(t))return"Blackberry";if(hs(t))return"Webos";if(ss(t))return"Safari";if((t.includes("chrome/")||us(t))&&!t.includes("edge/"))return"Chrome";if(ls(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function os(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cr();return/firefox\//i.test(e)}function ss(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cr(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function us(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cr();return/crios\//i.test(e)}function cs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cr();return/iemobile/i.test(e)}function ls(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cr();return/android/i.test(e)}function fs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cr();return/blackberry/i.test(e)}function hs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cr();return/webos/i.test(e)}function ds(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cr();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ps(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cr();return ds(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function vs(){return Nr()&&10===document.documentMode}function ys(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cr();return ds(e)||ls(e)||hs(e)||fs(e)||/windows phone/i.test(e)||cs(e)}function ms(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=as(Cr());break;case"Worker":t="".concat(as(Cr()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(ra,"/").concat(r)}var gs=function(){function e(t){d(this,e),this.auth=t,this.queue=[]}return m(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Xe(Qe().mark((function e(t){var n,r,i,a,o,s,u;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=C(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=C(n);try{for(o.s();!(s=o.n()).done;){u=s.value;try{u()}catch(pt){}}}catch(c){o.e(c)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),bs=function(){function e(t,n,r){d(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ws(this),this.idTokenSubscription=new ws(this),this.beforeStateQueue=new gs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ja,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return m(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=lo(t)),this._initializationPromise=this.queue(Xe(Qe().mark((function r(){var i,a;return Qe().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,is.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Xe(Qe().mark((function e(){var t;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Xe(Qe().mark((function e(t){var n,r,i,a,o,s,u;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return oo(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Xe(Qe().mark((function e(t){var n;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Xe(Qe().mark((function e(t){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ho(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Xe(Qe().mark((function e(){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Xe(Qe().mark((function e(t){var n;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?si(t):null)&&oo(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Xe(Qe().mark((function e(t){var n,r=this,i=arguments;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&oo(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Xe(Qe().mark((function e(){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Xe(Qe().mark((function e(){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Xe(Qe().mark((function n(){return Qe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(lo(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Lr("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Xe(Qe().mark((function e(t,n){var r;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Xe(Qe().mark((function e(t){var n;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return oo(n=t&&lo(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,is.create(this,[lo(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Xe(Qe().mark((function e(t){var n,r;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Xe(Qe().mark((function e(){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Xe(Qe().mark((function e(t){var n=this;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Xe(Qe().mark((function e(){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return oo(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Xe(Qe().mark((function e(t){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return oo(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ms(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Xe(Qe().mark((function e(){var t,n,r;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fr({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function ks(e){return si(e)}var ws=function(){function e(t){var n=this;d(this,e),this.auth=t,this.observer=null,this.addObserver=Zr((function(e){return n.observer=e}))}return m(e,[{key:"next",get:function(){return oo(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function _s(e,t,n){var r=ks(e);oo(r._canInitEmulator,r,"emulator-config-failed"),oo(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=xs(t),o=function(e){var t=xs(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Ss(r.substr(a.length+1))}}var o=l(r.split(":"),2);return{host:o[0],port:Ss(o[1])}}(t),s=o.host,u=o.port,c=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function xs(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ss(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Es=function(){function e(t,n){d(this,e),this.providerId=t,this.signInMethod=n}return m(e,[{key:"toJSON",value:function(){return so("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return so("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return so("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return so("not implemented")}}]),e}();function Ts(e,t){return Is.apply(this,arguments)}function Is(){return Is=Xe(Qe().mark((function e(t,n){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wo(t,"POST","/v1/accounts:resetPassword",ko(t,n)));case 1:case"end":return e.stop()}}),e)}))),Is.apply(this,arguments)}function Cs(e,t){return Ps.apply(this,arguments)}function Ps(){return Ps=Xe(Qe().mark((function e(t,n){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wo(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Ps.apply(this,arguments)}function Os(e,t){return Rs.apply(this,arguments)}function Rs(){return Rs=Xe(Qe().mark((function e(t,n){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wo(t,"POST","/v1/accounts:update",ko(t,n)));case 1:case"end":return e.stop()}}),e)}))),Rs.apply(this,arguments)}function Ds(e,t){return Ns.apply(this,arguments)}function Ns(){return Ns=Xe(Qe().mark((function e(t,n){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Eo(t,"POST","/v1/accounts:signInWithPassword",ko(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ns.apply(this,arguments)}function As(e,t){return js.apply(this,arguments)}function js(){return js=Xe(Qe().mark((function e(t,n){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wo(t,"POST","/v1/accounts:sendOobCode",ko(t,n)));case 1:case"end":return e.stop()}}),e)}))),js.apply(this,arguments)}function Ms(e,t){return Ls.apply(this,arguments)}function Ls(){return Ls=Xe(Qe().mark((function e(t,n){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",As(t,n));case 1:case"end":return e.stop()}}),e)}))),Ls.apply(this,arguments)}function Fs(e,t){return Us.apply(this,arguments)}function Us(){return Us=Xe(Qe().mark((function e(t,n){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",As(t,n));case 1:case"end":return e.stop()}}),e)}))),Us.apply(this,arguments)}function Vs(e,t){return zs.apply(this,arguments)}function zs(){return zs=Xe(Qe().mark((function e(t,n){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",As(t,n));case 1:case"end":return e.stop()}}),e)}))),zs.apply(this,arguments)}function qs(e,t){return Bs.apply(this,arguments)}function Bs(){return Bs=Xe(Qe().mark((function e(t,n){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",As(t,n));case 1:case"end":return e.stop()}}),e)}))),Bs.apply(this,arguments)}function Ws(e,t){return Hs.apply(this,arguments)}function Hs(){return Hs=Xe(Qe().mark((function e(t,n){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Eo(t,"POST","/v1/accounts:signInWithEmailLink",ko(t,n)));case 1:case"end":return e.stop()}}),e)}))),Hs.apply(this,arguments)}function Gs(e,t){return Ks.apply(this,arguments)}function Ks(){return Ks=Xe(Qe().mark((function e(t,n){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Eo(t,"POST","/v1/accounts:signInWithEmailLink",ko(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ks.apply(this,arguments)}var Ys=function(e){b(n,e);var t=S(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return d(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return m(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Xe(Qe().mark((function e(t){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Ds(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Ws(t,{email:this._email,oobCode:this._password}));case 5:to(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Xe(Qe().mark((function e(t,n){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Cs(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Gs(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:to(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Es);function Qs(e,t){return $s.apply(this,arguments)}function $s(){return $s=Xe(Qe().mark((function e(t,n){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Eo(t,"POST","/v1/accounts:signInWithIdp",ko(t,n)));case 1:case"end":return e.stop()}}),e)}))),$s.apply(this,arguments)}var Xs=function(e){b(n,e);var t=S(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return m(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Qs(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Qs(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Qs(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Qr(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):to("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Ma(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Es);function Js(e,t){return Zs.apply(this,arguments)}function Zs(){return Zs=Xe(Qe().mark((function e(t,n){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wo(t,"POST","/v1/accounts:sendVerificationCode",ko(t,n)));case 1:case"end":return e.stop()}}),e)}))),Zs.apply(this,arguments)}function eu(){return eu=Xe(Qe().mark((function e(t,n){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Eo(t,"POST","/v1/accounts:signInWithPhoneNumber",ko(t,n)));case 1:case"end":return e.stop()}}),e)}))),eu.apply(this,arguments)}function tu(){return tu=Xe(Qe().mark((function e(t,n){var r;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Eo(t,"POST","/v1/accounts:signInWithPhoneNumber",ko(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Po(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),tu.apply(this,arguments)}var nu=fr({},"USER_NOT_FOUND","user-not-found");function ru(){return ru=Xe(Qe().mark((function e(t,n){var r;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Eo(t,"POST","/v1/accounts:signInWithPhoneNumber",ko(t,r),nu));case 2:case"end":return e.stop()}}),e)}))),ru.apply(this,arguments)}var iu=function(e){b(n,e);var t=S(n);function n(e){var r;return d(this,n),(r=t.call(this,"phone","phone")).params=e,r}return m(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return eu.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return tu.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return ru.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Es);var au=function(){function e(t){var n,r,i,a,o,s;d(this,e);var u=$r(Xr(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);oo(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return m(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=$r(Xr(e)).link,n=t?$r(Xr(t)).deep_link_id:null,r=$r(Xr(e)).deep_link_id;return(r?$r(Xr(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(vI){return null}}}]),e}();var ou=function(){function e(){d(this,e),this.providerId=e.PROVIDER_ID}return m(e,null,[{key:"credential",value:function(e,t){return Ys._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=au.parseLink(t);return oo(n,"argument-error"),Ys._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();ou.PROVIDER_ID="password",ou.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ou.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var su=function(){function e(t){d(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return m(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),uu=function(e){b(n,e);var t=S(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).scopes=[],e}return m(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return h(this.scopes)}}]),n}(su),cu=function(e){b(n,e);var t=S(n);function n(){return d(this,n),t.apply(this,arguments)}return m(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return oo(e.idToken||e.accessToken,"argument-error"),Xs._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return oo("providerId"in t&&"signInMethod"in t,"argument-error"),Xs._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(c){return null}}}]),n}(uu),lu=function(e){b(n,e);var t=S(n);function n(){return d(this,n),t.call(this,"facebook.com")}return m(n,null,[{key:"credential",value:function(e){return Xs._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(vI){return null}}}]),n}(uu);lu.FACEBOOK_SIGN_IN_METHOD="facebook.com",lu.PROVIDER_ID="facebook.com";var fu=function(e){b(n,e);var t=S(n);function n(){var e;return d(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return m(n,null,[{key:"credential",value:function(e,t){return Xs._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(vI){return null}}}]),n}(uu);fu.GOOGLE_SIGN_IN_METHOD="google.com",fu.PROVIDER_ID="google.com";var hu=function(e){b(n,e);var t=S(n);function n(){return d(this,n),t.call(this,"github.com")}return m(n,null,[{key:"credential",value:function(e){return Xs._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(vI){return null}}}]),n}(uu);hu.GITHUB_SIGN_IN_METHOD="github.com",hu.PROVIDER_ID="github.com";var du=function(e){b(n,e);var t=S(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return m(n,[{key:"_getIdTokenResponse",value:function(e){return Qs(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Qs(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Qs(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Es),pu=function(e){b(n,e);var t=S(n);function n(e){return d(this,n),oo(e.startsWith("saml."),"argument-error"),t.call(this,e)}return m(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=du.fromJSON(e);return oo(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return du._create(r,n)}catch(i){return null}}}]),n}(su),vu=function(e){b(n,e);var t=S(n);function n(){return d(this,n),t.call(this,"twitter.com")}return m(n,null,[{key:"credential",value:function(e,t){return Xs._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(vI){return null}}}]),n}(uu);function yu(e,t){return mu.apply(this,arguments)}function mu(){return mu=Xe(Qe().mark((function e(t,n){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Eo(t,"POST","/v1/accounts:signUp",ko(t,n)));case 1:case"end":return e.stop()}}),e)}))),mu.apply(this,arguments)}vu.TWITTER_SIGN_IN_METHOD="twitter.com",vu.PROVIDER_ID="twitter.com";var gu=function(){function e(t){d(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return m(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Xe(Qe().mark((function t(n,r,i){var a,o,s,u,c=arguments;return Qe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,es._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=bu(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Xe(Qe().mark((function t(n,r,i){var a;return Qe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=bu(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function bu(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function ku(){return ku=Xe(Qe().mark((function e(t){var n,r,i,a;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ks(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new gu({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,yu(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,gu._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),ku.apply(this,arguments)}var wu=function(e){b(n,e);var t=S(n);function n(e,r,i,a){var o,s;return d(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(_(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return m(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Mr);function _u(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw wu._fromErrorAndOperation(e,n,t,r);throw n}))}function xu(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Su(e,t){return Eu.apply(this,arguments)}function Eu(){return Eu=Xe(Qe().mark((function e(t,n){var r,i,a,o;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=si(t),e.next=3,Cu(!0,r,n);case 3:return e.t0=Do,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=xu(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Eu.apply(this,arguments)}function Tu(e,t){return Iu.apply(this,arguments)}function Iu(){return Iu=Xe(Qe().mark((function e(t,n){var r,i,a=arguments;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Vo,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",gu._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Iu.apply(this,arguments)}function Cu(e,t,n){return Pu.apply(this,arguments)}function Pu(){return Pu=Xe(Qe().mark((function e(t,n,r){var i,a;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ho(n);case 2:i=xu(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",oo(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)}))),Pu.apply(this,arguments)}function Ou(e,t){return Ru.apply(this,arguments)}function Ru(){return Ru=Xe(Qe().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Vo(t,_u(i,a,n,t),r);case 6:return oo((o=e.sent).idToken,i,"internal-error"),oo(s=Uo(o.idToken),i,"internal-error"),u=s.sub,oo(t.uid===u,i,"user-mismatch"),e.abrupt("return",gu._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&to(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Ru.apply(this,arguments)}function Du(e,t){return Nu.apply(this,arguments)}function Nu(){return Nu=Xe(Qe().mark((function e(t,n){var r,i,a,o,s=arguments;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,_u(t,i,n);case 4:return a=e.sent,e.next=7,gu._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Nu.apply(this,arguments)}function Au(e,t){return ju.apply(this,arguments)}function ju(){return ju=Xe(Qe().mark((function e(t,n){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Du(ks(t),n));case 1:case"end":return e.stop()}}),e)}))),ju.apply(this,arguments)}function Mu(e,t){return Lu.apply(this,arguments)}function Lu(){return(Lu=Xe(Qe().mark((function e(t,n){var r;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=si(t),e.next=3,Cu(!1,r,n.providerId);case 3:return e.abrupt("return",Tu(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fu(e,t){return Uu.apply(this,arguments)}function Uu(){return(Uu=Xe(Qe().mark((function e(t,n){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ou(si(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vu(e,t){return zu.apply(this,arguments)}function zu(){return zu=Xe(Qe().mark((function e(t,n){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Eo(t,"POST","/v1/accounts:signInWithCustomToken",ko(t,n)));case 1:case"end":return e.stop()}}),e)}))),zu.apply(this,arguments)}function qu(){return qu=Xe(Qe().mark((function e(t,n){var r,i,a;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ks(t),e.next=3,Vu(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,gu._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),qu.apply(this,arguments)}var Bu=function(){function e(t,n){d(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return m(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Wu._fromServerResponse(e,t):to(e,"internal-error")}}]),e}(),Wu=function(e){b(n,e);var t=S(n);function n(e){var r;return d(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return m(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Bu);function Hu(e,t,n){var r;oo((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),oo("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(oo(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(oo(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Gu(){return Gu=Xe(Qe().mark((function e(t,n,r){var i,a;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=si(t),a={requestType:"PASSWORD_RESET",email:n},r&&Hu(i,a,r),e.next=5,Fs(i,a);case 5:case"end":return e.stop()}}),e)}))),Gu.apply(this,arguments)}function Ku(){return Ku=Xe(Qe().mark((function e(t,n,r){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ts(si(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),Ku.apply(this,arguments)}function Yu(){return Yu=Xe(Qe().mark((function e(t,n){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Os(si(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),Yu.apply(this,arguments)}function Qu(e,t){return $u.apply(this,arguments)}function $u(){return $u=Xe(Qe().mark((function e(t,n){var r,i,a,o;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=si(t),e.next=3,Ts(r,{oobCode:n});case 3:i=e.sent,oo(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return oo(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:oo(i.mfaInfo,r,"internal-error");case 13:oo(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Bu._fromServerResponse(ks(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),$u.apply(this,arguments)}function Xu(){return Xu=Xe(Qe().mark((function e(t,n){var r,i;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qu(si(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),Xu.apply(this,arguments)}function Ju(e,t,n){return Zu.apply(this,arguments)}function Zu(){return Zu=Xe(Qe().mark((function e(t,n,r){var i,a,o;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ks(t),e.next=3,yu(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,gu._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),Zu.apply(this,arguments)}function ec(){return ec=Xe(Qe().mark((function e(t,n,r){var i,a;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=si(t),a={requestType:"EMAIL_SIGNIN",email:n},oo(r.handleCodeInApp,i,"argument-error"),r&&Hu(i,a,r),e.next=6,Vs(i,a);case 6:case"end":return e.stop()}}),e)}))),ec.apply(this,arguments)}function tc(){return tc=Xe(Qe().mark((function e(t,n,r){var i,a;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=si(t),oo((a=ou.credentialWithLink(n,r||fo()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Au(i,a));case 4:case"end":return e.stop()}}),e)}))),tc.apply(this,arguments)}function nc(e,t){return rc.apply(this,arguments)}function rc(){return rc=Xe(Qe().mark((function e(t,n){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wo(t,"POST","/v1/accounts:createAuthUri",ko(t,n)));case 1:case"end":return e.stop()}}),e)}))),rc.apply(this,arguments)}function ic(){return ic=Xe(Qe().mark((function e(t,n){var r,i,a,o;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ho()?fo():"http://localhost",i={identifier:n,continueUri:r},e.next=4,nc(si(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),ic.apply(this,arguments)}function ac(){return(ac=Xe(Qe().mark((function e(t,n){var r,i,a,o;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=si(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Hu(r.auth,a,n),e.next=8,Ms(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oc(){return(oc=Xe(Qe().mark((function e(t,n,r){var i,a,o,s;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=si(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Hu(i.auth,o,r),e.next=8,qs(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sc(e,t){return uc.apply(this,arguments)}function uc(){return uc=Xe(Qe().mark((function e(t,n){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wo(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),uc.apply(this,arguments)}function cc(){return(cc=Xe(Qe().mark((function e(t,n){var r,i,a,o,s,u,c;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=si(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Vo(a,sc(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lc(e,t,n){return fc.apply(this,arguments)}function fc(){return fc=Xe(Qe().mark((function e(t,n,r){var i,a,o,s;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Vo(t,Cs(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)}))),fc.apply(this,arguments)}var hc=m((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};d(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),dc=function(e){b(n,e);var t=S(n);function n(e,r,i,a){var o;return d(this,n),(o=t.call(this,e,r,i)).username=a,o}return m(n)}(hc),pc=function(e){b(n,e);var t=S(n);function n(e,r){return d(this,n),t.call(this,e,"facebook.com",r)}return m(n)}(hc),vc=function(e){b(n,e);var t=S(n);function n(e,r){return d(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return m(n)}(dc),yc=function(e){b(n,e);var t=S(n);function n(e,r){return d(this,n),t.call(this,e,"google.com",r)}return m(n)}(hc),mc=function(e){b(n,e);var t=S(n);function n(e,r,i){return d(this,n),t.call(this,e,"twitter.com",r,i)}return m(n)}(dc);function gc(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Uo(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new hc(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new pc(a,i);case"github.com":return new vc(a,i);case"google.com":return new yc(a,i);case"twitter.com":return new mc(a,i,e.screenName||null);case"custom":case"anonymous":return new hc(a,null);default:return new hc(a,r,i)}}(n)}var bc=function(){function e(t,n,r){d(this,e),this.type=t,this.credential=n,this.auth=r}return m(e,[{key:"toJSON",value:function(){return{multiFactorSession:fr({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),kc=function(){function e(t,n,r){d(this,e),this.session=t,this.hints=n,this.signInResolver=r}return m(e,[{key:"resolveSignIn",value:function(){var e=Xe(Qe().mark((function e(t){var n;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=ks(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Bu._fromServerResponse(r,e)}));oo(i.mfaPendingCredential,r,"internal-error");var o=bc._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Xe(Qe().mark((function e(t){var a,s,u;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,gu._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return oo(n.user,r,"internal-error"),e.abrupt("return",gu._forOperation(n.user,n.operationType,s));case 17:to(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function wc(e,t){return wo(e,"POST","/v2/accounts/mfaEnrollment:start",ko(e,t))}function _c(e,t){return wo(e,"POST","/v2/accounts/mfaEnrollment:withdraw",ko(e,t))}var xc=function(){function e(t){var n=this;d(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Bu._fromServerResponse(t.auth,e)})))}))}return m(e,[{key:"getSession",value:function(){var e=Xe(Qe().mark((function e(){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=bc,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Xe(Qe().mark((function e(t,n){var r,i,a;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Vo(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Xe(Qe().mark((function e(t){var n,r,i;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,Vo(this.user,_c(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Sc=new WeakMap;var Ec="__sak",Tc=function(){function e(t,n){d(this,e),this.storageRetriever=t,this.type=n}return m(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Ec,"1"),this.storage.removeItem(Ec),Promise.resolve(!0)):Promise.resolve(!1)}catch(vI){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Ic=function(e){b(n,e);var t=S(n);function n(){var e;return d(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Cr();return ss(e)||ds(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=ys(),e._shouldAllowMigration=!0,e}return m(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);vs()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Xe(Qe().mark((function e(t,r){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ja(k(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Xe(Qe().mark((function e(t){var r;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ja(k(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Xe(Qe().mark((function e(t){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ja(k(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Tc);Ic.type="LOCAL";var Cc=Ic,Pc=function(e){b(n,e);var t=S(n);function n(){return d(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return m(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Tc);Pc.type="SESSION";var Oc=Pc;function Rc(e){return Promise.all(e.map(function(){var e=Xe(Qe().mark((function e(t){var n;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Dc=function(){function e(t){d(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return m(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Xe(Qe().mark((function e(t){var n,r,i,a,o,s,u,c;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=Xe(Qe().mark((function e(t){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Rc(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Nc(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Dc.receivers=[];var Ac=function(){function e(t){d(this,e),this.target=t,this.handlers=new Set}return m(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Xe(Qe().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=Nc("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function jc(){return window}function Mc(){return"undefined"!==typeof jc().WorkerGlobalScope&&"function"===typeof jc().importScripts}function Lc(){return Fc.apply(this,arguments)}function Fc(){return(Fc=Xe(Qe().mark((function e(){var t;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Uc(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Vc="firebaseLocalStorageDb",zc="firebaseLocalStorage",qc="fbase_key",Bc=function(){function e(t){d(this,e),this.request=t}return m(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Wc(e,t){return e.transaction([zc],t?"readwrite":"readonly").objectStore(zc)}function Hc(){var e=indexedDB.deleteDatabase(Vc);return new Bc(e).toPromise()}function Gc(){var e=indexedDB.open(Vc,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(zc,{keyPath:qc})}catch(r){n(r)}})),e.addEventListener("success",Xe(Qe().mark((function n(){var r;return Qe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(zc)){n.next=12;break}return r.close(),n.next=5,Hc();case 5:return n.t0=t,n.next=8,Gc();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Kc(e,t,n){return Yc.apply(this,arguments)}function Yc(){return Yc=Xe(Qe().mark((function e(t,n,r){var i,a;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Wc(t,!0).put((fr(i={},qc,n),fr(i,"value",r),i)),e.abrupt("return",new Bc(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Yc.apply(this,arguments)}function Qc(e,t){return $c.apply(this,arguments)}function $c(){return $c=Xe(Qe().mark((function e(t,n){var r,i;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wc(t,!1).get(n),e.next=3,new Bc(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),$c.apply(this,arguments)}function Xc(e,t){var n=Wc(e,!0).delete(t);return new Bc(n).toPromise()}var Jc=function(){function e(){d(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return m(e,[{key:"_openDb",value:function(){var e=Xe(Qe().mark((function e(){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Gc();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Xe(Qe().mark((function e(t){var n,r;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Xe(Qe().mark((function e(){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mc()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Xe(Qe().mark((function e(){var t=this;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Dc._getInstance(Mc()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Xe(Qe().mark((function e(n,r){var i;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Xe(Qe().mark((function e(t,n){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Xe(Qe().mark((function e(){var t,n,r;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lc();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Ac(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Xe(Qe().mark((function e(t){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Uc()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Xe(Qe().mark((function e(){var t;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Gc();case 5:return t=e.sent,e.next=8,Kc(t,Ec,"1");case 8:return e.next=10,Xc(t,Ec);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Xe(Qe().mark((function e(t){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Xe(Qe().mark((function e(t,n){var r=this;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Xe(Qe().mark((function e(){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Kc(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Xe(Qe().mark((function e(t){var n;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Qc(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Xe(Qe().mark((function e(t){var n=this;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Xe(Qe().mark((function e(){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Xc(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Xe(Qe().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Wc(e,!1).getAll();return new Bc(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=C(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Xe(Qe().mark((function t(){return Qe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Jc.type="LOCAL";var Zc=Jc;function el(e,t){return wo(e,"POST","/v2/accounts/mfaSignIn:start",ko(e,t))}function tl(e){return nl.apply(this,arguments)}function nl(){return nl=Xe(Qe().mark((function e(t){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wo(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),nl.apply(this,arguments)}function rl(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=no("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function il(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var al=1e12,ol=function(){function e(t){d(this,e),this.auth=t,this.counter=al,this._widgets=new Map}return m(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new sl(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||al;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||al;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Xe(Qe().mark((function e(t){var n,r;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||al,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),sl=function(){function e(t,n,r){var i=this;d(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;oo(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return m(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var ul=il("rcb"),cl=new vo(3e4,6e4),ll="https://www.google.com/recaptcha/api.js?",fl=function(){function e(){var t;d(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=jc().grecaptcha)||void 0===t?void 0:t.render)}return m(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return oo(hl(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(jc().grecaptcha):new Promise((function(r,i){var a=jc().setTimeout((function(){i(no(e,"network-request-failed"))}),cl.get());jc()[ul]=function(){jc().clearTimeout(a),delete jc()[ul];var o=jc().grecaptcha;if(o){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(no(e,"internal-error"))},rl("".concat(ll,"?").concat(Qr({onload:ul,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(no(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=jc().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function hl(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var dl=function(){function e(){d(this,e)}return m(e,[{key:"load",value:function(){var e=Xe(Qe().mark((function e(t){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new ol(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),pl="recaptcha",vl={theme:"light",type:"image"},yl=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},vl),r=arguments.length>2?arguments[2]:void 0;d(this,e),this.parameters=n,this.type=pl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ks(r),this.isInvisible="invisible"===this.parameters.size,oo("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;oo(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new dl:new fl,this.validateStartingState()}return m(e,[{key:"verify",value:function(){var e=Xe(Qe().mark((function e(){var t,n,r,i=this;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){oo(!this.parameters.sitekey,this.auth,"argument-error"),oo(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),oo("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=jc()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){oo(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Xe(Qe().mark((function e(){var t,n;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Xe(Qe().mark((function e(){var t;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return oo(ho()&&!Mc(),this.auth,"internal-error"),e.next=3,ml();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,tl(this.auth);case 8:oo(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return oo(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function ml(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var gl=function(){function e(t,n){d(this,e),this.verificationId=t,this.onConfirmation=n}return m(e,[{key:"confirm",value:function(e){var t=iu._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function bl(){return bl=Xe(Qe().mark((function e(t,n,r){var i,a;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ks(t),e.next=3,xl(i,n,si(r));case 3:return a=e.sent,e.abrupt("return",new gl(a,(function(e){return Au(i,e)})));case 5:case"end":return e.stop()}}),e)}))),bl.apply(this,arguments)}function kl(e,t,n){return wl.apply(this,arguments)}function wl(){return(wl=Xe(Qe().mark((function e(t,n,r){var i,a;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=si(t),e.next=3,Cu(!1,i,"phone");case 3:return e.next=5,xl(i.auth,n,si(r));case 5:return a=e.sent,e.abrupt("return",new gl(a,(function(e){return Mu(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _l(){return(_l=Xe(Qe().mark((function e(t,n,r){var i,a;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=si(t),e.next=3,xl(i.auth,n,si(r));case 3:return a=e.sent,e.abrupt("return",new gl(a,(function(e){return Fu(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xl(e,t,n){return Sl.apply(this,arguments)}function Sl(){return Sl=Xe(Qe().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,oo("string"===typeof a,t,"argument-error"),oo(r.type===pl,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return oo("enroll"===s.type,t,"internal-error"),e.next=13,wc(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return oo("signin"===s.type,t,"internal-error"),oo(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,el(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Js(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Sl.apply(this,arguments)}function El(){return(El=Xe(Qe().mark((function e(t,n){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tu(si(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Tl=function(){function e(t){d(this,e),this.providerId=e.PROVIDER_ID,this.auth=ks(t)}return m(e,[{key:"verifyPhoneNumber",value:function(e,t){return xl(this.auth,e,si(t))}}],[{key:"credential",value:function(e,t){return iu._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?iu._fromTokenResponse(n,r):null}}]),e}();function Il(e,t){return t?lo(t):(oo(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Tl.PROVIDER_ID="phone",Tl.PHONE_SIGN_IN_METHOD="phone";var Cl=function(e){b(n,e);var t=S(n);function n(e){var r;return d(this,n),(r=t.call(this,"custom","custom")).params=e,r}return m(n,[{key:"_getIdTokenResponse",value:function(e){return Qs(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Qs(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Qs(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Es);function Pl(e){return Du(e.auth,new Cl(e),e.bypassAuthState)}function Ol(e){var t=e.auth,n=e.user;return oo(n,t,"internal-error"),Ou(n,new Cl(e),e.bypassAuthState)}function Rl(e){return Dl.apply(this,arguments)}function Dl(){return Dl=Xe(Qe().mark((function e(t){var n,r;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,oo(r=t.user,n,"internal-error"),e.abrupt("return",Tu(r,new Cl(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),Dl.apply(this,arguments)}var Nl=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];d(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return m(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Xe(Qe().mark((function t(n,r){return Qe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Xe(Qe().mark((function e(t){var n,r,i,a,o,s,u;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Pl;case"linkViaPopup":case"linkViaRedirect":return Rl;case"reauthViaPopup":case"reauthViaRedirect":return Ol;default:to(this.auth,"internal-error")}}},{key:"resolve",value:function(e){uo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){uo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Al=new vo(2e3,1e4);function jl(e,t,n){return Ml.apply(this,arguments)}function Ml(){return Ml=Xe(Qe().mark((function e(t,n,r){var i,a,o;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ks(t),io(t,n,su),a=Il(i,r),o=new Vl(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Ml.apply(this,arguments)}function Ll(){return Ll=Xe(Qe().mark((function e(t,n,r){var i,a,o;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return io((i=si(t)).auth,n,su),a=Il(i.auth,r),o=new Vl(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Ll.apply(this,arguments)}function Fl(e,t,n){return Ul.apply(this,arguments)}function Ul(){return Ul=Xe(Qe().mark((function e(t,n,r){var i,a,o;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return io((i=si(t)).auth,n,su),a=Il(i.auth,r),o=new Vl(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Ul.apply(this,arguments)}var Vl=function(e){b(n,e);var t=S(n);function n(e,r,i,a,o){var s;return d(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=_(s),s}return m(n,[{key:"executeNotNull",value:function(){var e=Xe(Qe().mark((function e(){var t;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return oo(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Xe(Qe().mark((function e(){var t,n=this;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return uo(1===this.filter.length,"Popup operations only handle one event"),t=Nc(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(no(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(no(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(no(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Al.get())}()}}]),n}(Nl);Vl.currentPopupAction=null;var zl=new Map,ql=function(e){b(n,e);var t=S(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return d(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return m(n,[{key:"execute",value:function(){var e=Xe(Qe().mark((function e(){var t,r;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=zl.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Bl(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,ja(k(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:zl.set(this.auth._key(),t);case 21:return this.bypassAuthState||zl.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Xe(Qe().mark((function e(t){var r;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",ja(k(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",ja(k(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Xe(Qe().mark((function e(){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Nl);function Bl(e,t){return Wl.apply(this,arguments)}function Wl(){return Wl=Xe(Qe().mark((function e(t,n){var r,i,a;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ql(n),i=Yl(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Wl.apply(this,arguments)}function Hl(e,t){return Gl.apply(this,arguments)}function Gl(){return Gl=Xe(Qe().mark((function e(t,n){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yl(t)._set(Ql(n),"true"));case 1:case"end":return e.stop()}}),e)}))),Gl.apply(this,arguments)}function Kl(e,t){zl.set(e._key(),t)}function Yl(e){return lo(e._redirectPersistence)}function Ql(e){return rs("pendingRedirect",e.config.apiKey,e.name)}function $l(e,t,n){return function(e,t,n){return Xl.apply(this,arguments)}(e,t,n)}function Xl(){return Xl=Xe(Qe().mark((function e(t,n,r){var i,a;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ks(t),io(t,n,su),e.next=4,i._initializationPromise;case 4:return a=Il(i,r),e.next=7,Hl(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)}))),Xl.apply(this,arguments)}function Jl(e,t,n){return function(e,t,n){return Zl.apply(this,arguments)}(e,t,n)}function Zl(){return Zl=Xe(Qe().mark((function e(t,n,r){var i,a,o;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return io((i=si(t)).auth,n,su),e.next=4,i.auth._initializationPromise;case 4:return a=Il(i.auth,r),e.next=7,Hl(a,i.auth);case 7:return e.next=9,sf(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)}))),Zl.apply(this,arguments)}function ef(e,t,n){return function(e,t,n){return tf.apply(this,arguments)}(e,t,n)}function tf(){return tf=Xe(Qe().mark((function e(t,n,r){var i,a,o;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return io((i=si(t)).auth,n,su),e.next=4,i.auth._initializationPromise;case 4:return a=Il(i.auth,r),e.next=7,Cu(!1,i,n.providerId);case 7:return e.next=9,Hl(a,i.auth);case 9:return e.next=11,sf(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)}))),tf.apply(this,arguments)}function nf(e,t){return rf.apply(this,arguments)}function rf(){return rf=Xe(Qe().mark((function e(t,n){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ks(t)._initializationPromise;case 2:return e.abrupt("return",af(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),rf.apply(this,arguments)}function af(e,t){return of.apply(this,arguments)}function of(){return of=Xe(Qe().mark((function e(t,n){var r,i,a,o,s,u=arguments;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=ks(t),a=Il(i,n),o=new ql(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),of.apply(this,arguments)}function sf(e){return uf.apply(this,arguments)}function uf(){return(uf=Xe(Qe().mark((function e(t){var n;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Nc("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var cf=function(){function e(t){d(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return m(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ff(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!ff(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(no(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(lf(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(lf(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function lf(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function ff(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function hf(e){return df.apply(this,arguments)}function df(){return df=Xe(Qe().mark((function e(t){var n,r=arguments;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",wo(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),df.apply(this,arguments)}var pf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vf=/^https?/;function yf(){return yf=Xe(Qe().mark((function e(t){var n,r,i,a,o;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,hf(t);case 4:n=e.sent,r=n.authorizedDomains,i=C(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!mf(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:to(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),yf.apply(this,arguments)}function mf(e){var t=fo(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!vf.test(r))return!1;if(pf.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var gf=new vo(3e4,6e4);function bf(){var e=jc().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=h(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var kf=null;function wf(e){return kf=kf||function(e){return new Promise((function(t,n){var r,i,a;function o(){bf(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){bf(),n(no(e,"network-request-failed"))},timeout:gf.get()})}if(null===(i=null===(r=jc().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=jc().gapi)||void 0===a?void 0:a.load)){var s=il("iframefcb");return jc()[s]=function(){gapi.load?o():n(no(e,"network-request-failed"))},rl("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw kf=null,e}))}(e),kf}var _f=new vo(5e3,15e3),xf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Sf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ef(e){var t=e.config;oo(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?yo(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:ra},i=Sf.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Qr(r).slice(1))}function Tf(e){return If.apply(this,arguments)}function If(){return If=Xe(Qe().mark((function e(t){var n,r;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wf(t);case 2:return n=e.sent,oo(r=jc().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Ef(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xf,dontclear:!0},(function(e){return new Promise(function(){var n=Xe(Qe().mark((function n(r,i){var a,o,s;return Qe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){jc().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=no(t,"network-request-failed"),o=jc().setTimeout((function(){i(a)}),_f.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),If.apply(this,arguments)}var Cf={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Pf="_blank",Of="http://localhost",Rf=function(){function e(t){d(this,e),this.window=t,this.associatedEvent=null}return m(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Df(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},Cf),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Cr().toLowerCase();n&&(s=us(c)?Pf:n),os(c)&&(t=t||Of,u.scrollbars="yes");var f=Object.entries(u).reduce((function(e,t){var n=l(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(ps(c)&&"_self"!==s)return Nf(t||"",s),new Rf(null);var h=window.open(t||"",s,f);oo(h,e,"popup-blocked");try{h.focus()}catch(d){}return new Rf(h)}function Nf(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Af="__/auth/handler",jf="emulator/auth/handler";function Mf(e,t,n,r,i,a){oo(e.config.authDomain,e,"auth-domain-config-required"),oo(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:ra,eventId:i};if(t instanceof su){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",Hr(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,u=Object.entries(a||{});s<u.length;s++){var c=l(u[s],2),f=c[0],h=c[1];o[f]=h}}if(t instanceof uu){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,y=Object.keys(p);v<y.length;v++){var m=y[v];void 0===p[m]&&delete p[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Af);return yo(t,jf)}(e),"?").concat(Qr(p).slice(1))}var Lf="webStorageSupport",Ff=function(){function e(){d(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Oc,this._completeRedirectFn=af,this._overrideRedirectResult=Kl}return m(e,[{key:"_openPopup",value:function(){var e=Xe(Qe().mark((function e(t,n,r,i){var a,o;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return uo(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Mf(t,n,r,fo(),i),e.abrupt("return",Df(t,o,Nc()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Xe(Qe().mark((function e(t,n,r,i){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Mf(t,n,r,fo(),i),jc().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(uo(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Xe(Qe().mark((function e(t){var n,r;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tf(t);case 2:return n=e.sent,r=new cf(t),n.register("authEvent",(function(e){return oo(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Lf,{type:Lf},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Lf];void 0!==i&&t(!!i),to(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return yf.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return ys()||ss()||ds()}}]),e}(),Uf=Ff,Vf=function(){function e(t){d(this,e),this.factorId=t}return m(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return so("unexpected MultiFactorSessionType")}}}]),e}(),zf=function(e){b(n,e);var t=S(n);function n(e){var r;return d(this,n),(r=t.call(this,"phone")).credential=e,r}return m(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return wo(e,"POST","/v2/accounts/mfaEnrollment:finalize",ko(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return wo(e,"POST","/v2/accounts/mfaSignIn:finalize",ko(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Vf),qf=function(){function e(){d(this,e)}return m(e,null,[{key:"assertion",value:function(e){return zf._fromCredential(e)}}]),e}();qf.FACTOR_ID="phone";var Bf="@firebase/auth",Wf="0.21.1",Hf=function(){function e(t){d(this,e),this.auth=t,this.internalListeners=new Map}return m(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Xe(Qe().mark((function e(t){var n;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){oo(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var Gf;!function(e){var t;null===(t=Sr())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function Kf(){return window}Gf="Browser",$i(new ui("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,s=a.authDomain;return function(e,t){oo(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),oo(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:s,clientPlatform:Gf,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ms(Gf)},i=new bs(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(lo);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),$i(new ui("auth-internal",(function(e){return function(e){return new Hf(e)}(ks(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),ca(Bf,Wf,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Gf)),ca(Bf,Wf,"esm2017");function Yf(e,t,n){return Qf.apply(this,arguments)}function Qf(){return Qf=Xe(Qe().mark((function e(t,n,r){var i,a,o,s,u;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Kf(),o=a.BuildInfo,uo(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,th(n.sessionId);case 4:return s=e.sent,u={},ds()?u.ibi=o.packageName:ls()?u.apn=o.packageName:to(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",Mf(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),Qf.apply(this,arguments)}function $f(){return $f=Xe(Qe().mark((function e(t){var n,r,i;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Kf(),r=n.BuildInfo,i={},ds()?i.iosBundleId=r.packageName:ls()?i.androidPackageName=r.packageName:to(t,"operation-not-supported-in-this-environment"),e.next=5,hf(t,i);case 5:case"end":return e.stop()}}),e)}))),$f.apply(this,arguments)}function Xf(e){var t=Kf().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cr();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function Jf(e,t,n){return Zf.apply(this,arguments)}function Zf(){return Zf=Xe(Qe().mark((function e(t,n,r){var i,a,o;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Kf(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i(no(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),ls()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),Zf.apply(this,arguments)}function eh(e){var t,n,r,i,a,o,s,u,c,l,f=Kf();oo("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),oo("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),oo("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),oo("function"===typeof(null===(u=null===(s=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),oo("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function th(e){return nh.apply(this,arguments)}function nh(){return(nh=Xe(Qe().mark((function e(t){var n,r,i;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=rh(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rh(e){if(uo(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var ih=function(e){b(n,e);var t=S(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return m(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),ja(k(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Xe(Qe().mark((function e(){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(cf);function ah(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:lh(),postBody:null,tenantId:e.tenantId,error:no(e,"no-auth-event")}}function oh(e,t){return fh()._set(hh(e),t)}function sh(e){return uh.apply(this,arguments)}function uh(){return uh=Xe(Qe().mark((function e(t){var n;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fh()._get(hh(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,fh()._remove(hh(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),uh.apply(this,arguments)}function ch(e,t){var n,r,i=function(e){var t=dh(e),n=t.link?decodeURIComponent(t.link):void 0,r=dh(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return dh(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=dh(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?no(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function lh(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function fh(){return lo(Cc)}function hh(e){return rs("authEvent",e.config.apiKey,e.name)}function dh(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=I(e.split("?"));t[0];return $r(t.slice(1).join("?"))}var ph=function(){function e(){d(this,e),this._redirectPersistence=Oc,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=af,this._overrideRedirectResult=Kl}return m(e,[{key:"_initialize",value:function(){var e=Xe(Qe().mark((function e(t){var n,r;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new ih(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){to(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Xe(Qe().mark((function e(t,n,r,i){var a,o,s,u;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return eh(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),zl.clear(),e.next=10,this._originValidation(t);case 10:return o=ah(t,r,i),e.next=13,oh(t,o);case 13:return e.next=15,Yf(t,o,n);case 15:return s=e.sent,e.next=18,Xf(s);case 18:return u=e.sent,e.abrupt("return",Jf(t,a,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return $f.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Kf(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Xe(Qe().mark((function n(){return Qe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,sh(e);case 2:t.onEvent(yh());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=Xe(Qe().mark((function n(r){var i,a;return Qe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,sh(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=ch(i,r.url)),t.onEvent(a||yh());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,c="".concat(a.packageName.toLowerCase(),"://");Kf().handleOpenURL=function(){var e=Xe(Qe().mark((function e(t){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof u)try{u(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),vh=ph;function yh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:no("no-auth-event")}}function mh(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function gh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cr();return!("file:"!==mh()&&"ionic:"!==mh()&&"capacitor:"!==mh()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function bh(){return Nr()&&11===(null===document||void 0===document?void 0:document.documentMode)}function kh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cr();return/Edge\/\d+/.test(e)}function wh(){try{var e=self.localStorage,t=Nc();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cr();return bh()||kh(e)}()||jr()}catch(n){return _h()&&jr()}return!1}function _h(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function xh(){return("http:"===mh()||"https:"===mh()||Rr()||gh())&&!(Dr()||Or())&&wh()&&!_h()}function Sh(){return gh()&&"undefined"!==typeof document}function Eh(){return Th.apply(this,arguments)}function Th(){return(Th=Xe(Qe().mark((function e(){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Sh()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ih={LOCAL:"local",NONE:"none",SESSION:"session"},Ch=oo,Ph="persistence";function Oh(e,t){Ch(Object.values(Ih).includes(t),e,"invalid-persistence-type"),Dr()?Ch(t!==Ih.SESSION,e,"unsupported-persistence-type"):Or()?Ch(t===Ih.NONE,e,"unsupported-persistence-type"):_h()?Ch(t===Ih.NONE||t===Ih.LOCAL&&jr(),e,"unsupported-persistence-type"):Ch(t===Ih.NONE||wh(),e,"unsupported-persistence-type")}function Rh(e){return Dh.apply(this,arguments)}function Dh(){return Dh=Xe(Qe().mark((function e(t){var n,r;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Nh(),r=rs(Ph,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),Dh.apply(this,arguments)}function Nh(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var Ah=oo,jh=function(){function e(){d(this,e),this.browserResolver=lo(Uf),this.cordovaResolver=lo(vh),this.underlyingResolver=null,this._redirectPersistence=Oc,this._completeRedirectFn=af,this._overrideRedirectResult=Kl}return m(e,[{key:"_initialize",value:function(){var e=Xe(Qe().mark((function e(t){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Xe(Qe().mark((function e(t,n,r,i){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Xe(Qe().mark((function e(t,n,r,i){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Sh()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Ah(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Xe(Qe().mark((function e(){var t;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Eh();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Mh(e){return e.unwrap()}function Lh(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new qh(e,function(e,t){var n,r=si(e),i=t;return oo(t.customData.operationType,r,"argument-error"),oo(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),kc._fromError(r,i)}(e,t));else if(r){var i=Fh(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function Fh(e){var t=(e instanceof Mr?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Mr)&&"temporaryProof"in t&&"phoneNumber"in t)return Tl.credentialFromResult(e);var n,r=t.providerId;if(!r||r===za)return null;switch(r){case Va:n=fu;break;case Fa:n=lu;break;case Ua:n=hu;break;case qa:n=vu;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?du._create(r,s):Xs._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new cu(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof Mr?n.credentialFromError(e):n.credentialFromResult(e)}function Uh(e,t){return t.catch((function(t){throw t instanceof Mr&&Lh(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Fh(t)),additionalUserInfo:gc(e),user:Bh.getOrCreate(r)}}))}function Vh(e,t){return zh.apply(this,arguments)}function zh(){return zh=Xe(Qe().mark((function e(t,n){var r;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Uh(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),zh.apply(this,arguments)}var qh=function(){function e(t,n){d(this,e),this.resolver=n,this.auth=t.wrapped()}return m(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Uh(Mh(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Bh=function(){function e(t){d(this,e),this._delegate=t,this.multiFactor=function(e){var t=si(e);return Sc.has(t)||Sc.set(t,xc._fromUser(t)),Sc.get(t)}(t)}return m(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Xe(Qe().mark((function e(t){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Uh(this.auth,Mu(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Xe(Qe().mark((function e(t,n){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vh(this.auth,kl(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Xe(Qe().mark((function e(t){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Uh(this.auth,Fl(this._delegate,t,jh)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Xe(Qe().mark((function e(t){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rh(ks(this.auth));case 2:return e.abrupt("return",ef(this._delegate,t,jh));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Xe(Qe().mark((function e(t){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Uh(this.auth,Fu(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Vh(this.auth,function(e,t,n){return _l.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Uh(this.auth,function(e,t,n){return Ll.apply(this,arguments)}(this._delegate,e,jh))}},{key:"reauthenticateWithRedirect",value:function(){var e=Xe(Qe().mark((function e(t){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rh(ks(this.auth));case 2:return e.abrupt("return",Jl(this._delegate,t,jh));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return ac.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Xe(Qe().mark((function e(t){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Su(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return lc(si(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return lc(si(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return El.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return cc.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return oc.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Bh.USER_MAP=new WeakMap;var Wh=oo,Hh=function(){function e(t,n){if(d(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Wh(r,"invalid-api-key",{appName:t.name}),Wh(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?jh:void 0;this._delegate=n.initialize({options:{persistence:Kh(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap($a),this.linkUnderlyingAuth()}return m(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Bh.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){_s(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Yu.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Qu(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Ku.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Xe(Qe().mark((function e(t,n){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Uh(this._delegate,Ju(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return ic.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=au.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Xe(Qe().mark((function e(){var t;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Wh(xh(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,nf(this._delegate,jh);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Uh(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){ks(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Gh(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Gh(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return ec.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Gu.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Xe(Qe().mark((function e(t){var n,r;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Oh(this._delegate,t),e.t0=t,e.next=e.t0===Ih.SESSION?4:e.t0===Ih.LOCAL?6:e.t0===Ih.NONE?11:13;break;case 4:return n=Oc,e.abrupt("break",14);case 6:return e.next=8,lo(Zc)._isAvailable();case 8:return r=e.sent,n=r?Zc:Cc,e.abrupt("break",14);case 11:return n=ns,e.abrupt("break",14);case 13:return e.abrupt("return",to("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Uh(this._delegate,function(e){return ku.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Uh(this._delegate,Au(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Uh(this._delegate,function(e,t){return qu.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Uh(this._delegate,function(e,t,n){return Au(si(e),ou.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Uh(this._delegate,function(e,t,n){return tc.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Vh(this._delegate,function(e,t,n){return bl.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Xe(Qe().mark((function e(t){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Wh(xh(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Uh(this._delegate,jl(this._delegate,t,jh)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Xe(Qe().mark((function e(t){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Wh(xh(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Rh(this._delegate);case 3:return e.abrupt("return",$l(this._delegate,t,jh));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Xu.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Gh(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Bh.getOrCreate(e))},error:t,complete:n}}function Kh(e,t){var n=function(e,t){var n=Nh();if(!n)return[];var r=rs(Ph,e,t);switch(n.getItem(r)){case Ih.NONE:return[ns];case Ih.LOCAL:return[Zc,Oc];case Ih.SESSION:return[Oc];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Zc)||n.push(Zc),"undefined"!==typeof window)for(var r=0,i=[Cc,Oc];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(ns)||n.push(ns),n}Hh.Persistence=Ih;var Yh=function(){function e(){d(this,e),this.providerId="phone",this._delegate=new Tl(Mh(Na.auth()))}return m(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Tl.credential(e,t)}}]),e}();Yh.PHONE_SIGN_IN_METHOD=Tl.PHONE_SIGN_IN_METHOD,Yh.PROVIDER_ID=Tl.PROVIDER_ID;var Qh,$h=oo,Xh=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Na.app();d(this,e),$h(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new yl(t,n,i.auth()),this.type=this._delegate.type}return m(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(Qh=Na).INTERNAL.registerComponent(new ui("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Hh(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Ba,PASSWORD_RESET:Wa,RECOVER_EMAIL:Ha,REVERT_SECOND_FACTOR_ADDITION:Ga,VERIFY_AND_CHANGE_EMAIL:Ka,VERIFY_EMAIL:Ya}},EmailAuthProvider:ou,FacebookAuthProvider:lu,GithubAuthProvider:hu,GoogleAuthProvider:fu,OAuthProvider:cu,SAMLAuthProvider:pu,PhoneAuthProvider:Yh,PhoneMultiFactorGenerator:qf,RecaptchaVerifier:Xh,TwitterAuthProvider:vu,Auth:Hh,AuthCredential:Es,Error:Mr}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Qh.registerVersion("@firebase/auth-compat","0.3.1");var Jh,Zh="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},ed={},td=td||{},nd=Zh||self;function rd(){}function id(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function ad(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var od="closure_uid_"+(1e9*Math.random()>>>0),sd=0;function ud(e,t,n){return e.call.apply(e.bind,arguments)}function cd(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function ld(e,t,n){return(ld=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ud:cd).apply(null,arguments)}function fd(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function hd(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function dd(){this.s=this.s,this.o=this.o}dd.prototype.s=!1,dd.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,od)&&e[od]||(e[od]=++sd))},dd.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var pd=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function vd(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function yd(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(id(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function md(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}md.prototype.h=function(){this.defaultPrevented=!0};var gd=function(){if(!nd.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{nd.addEventListener("test",rd,t),nd.removeEventListener("test",rd,t)}catch(n){}return e}();function bd(e){return/^[\s\xa0]*$/.test(e)}var kd=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function wd(e,t){return e<t?-1:e>t?1:0}function _d(){var e=nd.navigator;return e&&(e=e.userAgent)?e:""}function xd(e){return-1!=_d().indexOf(e)}function Sd(e){return Sd[" "](e),e}Sd[" "]=rd;var Ed,Td=xd("Opera"),Id=xd("Trident")||xd("MSIE"),Cd=xd("Edge"),Pd=Cd||Id,Od=xd("Gecko")&&!(-1!=_d().toLowerCase().indexOf("webkit")&&!xd("Edge"))&&!(xd("Trident")||xd("MSIE"))&&!xd("Edge"),Rd=-1!=_d().toLowerCase().indexOf("webkit")&&!xd("Edge");function Dd(){var e=nd.document;return e?e.documentMode:void 0}e:{var Nd="",Ad=function(){var e=_d();return Od?/rv:([^\);]+)(\)|;)/.exec(e):Cd?/Edge\/([\d\.]+)/.exec(e):Id?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Rd?/WebKit\/(\S+)/.exec(e):Td?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Ad&&(Nd=Ad?Ad[1]:""),Id){var jd=Dd();if(null!=jd&&jd>parseFloat(Nd)){Ed=String(jd);break e}}Ed=Nd}var Md,Ld={};function Fd(){return function(e){var t=Ld;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=kd(String(Ed)).split("."),n=kd("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=wd(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||wd(0==a[2].length,0==o[2].length)||wd(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(nd.document&&Id){var Ud=Dd();Md=Ud||(parseInt(Ed,10)||void 0)}else Md=void 0;var Vd=Md;function zd(e,t){if(md.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Od){e:{try{Sd(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:qd[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&zd.X.h.call(this)}}hd(zd,md);var qd={2:"touch",3:"pen",4:"mouse"};zd.prototype.h=function(){zd.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Bd="closure_listenable_"+(1e6*Math.random()|0),Wd=0;function Hd(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++Wd,this.ba=this.ea=!1}function Gd(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function Kd(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Yd(e){var t={};for(var n in e)t[n]=e[n];return t}var Qd="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $d(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Qd.length;a++)n=Qd[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Xd(e){this.src=e,this.g={},this.h=0}function Jd(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=pd(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Gd(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Zd(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}Xd.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Zd(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new Hd(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var ep="closure_lm_"+(1e6*Math.random()|0),tp={};function np(e,t,n,r,i){if(r&&r.once)return ip(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)np(e,t[a],n,r,i);return null}return n=fp(n),e&&e[Bd]?e.N(t,n,ad(r)?!!r.capture:!!r,i):rp(e,t,n,!1,r,i)}function rp(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=ad(i)?!!i.capture:!!i,s=cp(e);if(s||(e[ep]=s=new Xd(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=up;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)gd||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(sp(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ip(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)ip(e,t[a],n,r,i);return null}return n=fp(n),e&&e[Bd]?e.O(t,n,ad(r)?!!r.capture:!!r,i):rp(e,t,n,!0,r,i)}function ap(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)ap(e,t[a],n,r,i);else r=ad(r)?!!r.capture:!!r,n=fp(n),e&&e[Bd]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Zd(a=e.g[t],n,r,i))&&(Gd(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=cp(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Zd(t,n,r,i)),(n=-1<e?t[e]:null)&&op(n))}function op(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[Bd])Jd(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(sp(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=cp(t))?(Jd(n,e),0==n.h&&(n.src=null,t[ep]=null)):Gd(e)}}}function sp(e){return e in tp?tp[e]:tp[e]="on"+e}function up(e,t){if(e.ba)e=!0;else{t=new zd(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&op(e),e=n.call(r,t)}return e}function cp(e){return(e=e[ep])instanceof Xd?e:null}var lp="__closure_events_fn_"+(1e9*Math.random()>>>0);function fp(e){return"function"===typeof e?e:(e[lp]||(e[lp]=function(t){return e.handleEvent(t)}),e[lp])}function hp(){dd.call(this),this.i=new Xd(this),this.P=this,this.I=null}function dp(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new md(t,e);else if(t instanceof md)t.target=t.target||e;else{var i=t;$d(t=new md(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=pp(o,r,!0,t)&&i}if(i=pp(o=t.g=e,r,!0,t)&&i,i=pp(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=pp(o=t.g=n[a],r,!1,t)&&i}function pp(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var s=o.listener,u=o.ha||o.src;o.ea&&Jd(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}hd(hp,dd),hp.prototype[Bd]=!0,hp.prototype.removeEventListener=function(e,t,n,r){ap(this,e,t,n,r)},hp.prototype.M=function(){if(hp.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Gd(n[r]);delete t.g[e],t.h--}}this.I=null},hp.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},hp.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var vp=nd.JSON.stringify;function yp(){var e=Sp,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var mp,gp=function(){function e(){d(this,e),this.h=this.g=null}return m(e,[{key:"add",value:function(e,t){var n=bp.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),bp=new(function(){function e(t,n){d(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return m(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new kp}),(function(e){return e.reset()})),kp=function(){function e(){d(this,e),this.next=this.g=this.h=null}return m(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function wp(e){nd.setTimeout((function(){throw e}),0)}function _p(e,t){mp||function(){var e=nd.Promise.resolve(void 0);mp=function(){e.then(Ep)}}(),xp||(mp(),xp=!0),Sp.add(e,t)}var xp=!1,Sp=new gp;function Ep(){for(var e;e=yp();){try{e.h.call(e.g)}catch(n){wp(n)}var t=bp;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}xp=!1}function Tp(e,t){hp.call(this),this.h=e||1,this.g=t||nd,this.j=ld(this.lb,this),this.l=Date.now()}function Ip(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function Cp(e,t,n){if("function"===typeof e)n&&(e=ld(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=ld(e.handleEvent,e)}return 2147483647<Number(t)?-1:nd.setTimeout(e,t||0)}function Pp(e){e.g=Cp((function(){e.g=null,e.i&&(e.i=!1,Pp(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}hd(Tp,hp),(Jh=Tp.prototype).ca=!1,Jh.R=null,Jh.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),dp(this,"tick"),this.ca&&(Ip(this),this.start()))}},Jh.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Jh.M=function(){Tp.X.M.call(this),Ip(this),delete this.g};var Op=function(e){b(n,e);var t=S(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return m(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Pp(this)}},{key:"M",value:function(){ja(k(n.prototype),"M",this).call(this),this.g&&(nd.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(dd);function Rp(e){dd.call(this),this.h=e,this.g={}}hd(Rp,dd);var Dp=[];function Np(e,t,n,r){Array.isArray(n)||(n&&(Dp[0]=n.toString()),n=Dp);for(var i=0;i<n.length;i++){var a=np(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Ap(e){Kd(e.g,(function(e,t){this.g.hasOwnProperty(t)&&op(e)}),e),e.g={}}function jp(){this.g=!0}function Mp(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return vp(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Rp.prototype.M=function(){Rp.X.M.call(this),Ap(this)},Rp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},jp.prototype.Aa=function(){this.g=!1},jp.prototype.info=function(){};var Lp={},Fp=null;function Up(){return Fp=Fp||new hp}function Vp(e){md.call(this,Lp.Pa,e)}function zp(e){var t=Up();dp(t,new Vp(t))}function qp(e,t){md.call(this,Lp.STAT_EVENT,e),this.stat=t}function Bp(e){var t=Up();dp(t,new qp(t,e))}function Wp(e,t){md.call(this,Lp.Qa,e),this.size=t}function Hp(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return nd.setTimeout((function(){e()}),t)}Lp.Pa="serverreachability",hd(Vp,md),Lp.STAT_EVENT="statevent",hd(qp,md),Lp.Qa="timingevent",hd(Wp,md);var Gp={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Kp={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Yp(){}function Qp(e){return e.h||(e.h=e.i())}function $p(){}Yp.prototype.h=null;var Xp,Jp={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Zp(){md.call(this,"d")}function ev(){md.call(this,"c")}function tv(){}function nv(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new Rp(this),this.O=iv,e=Pd?125:void 0,this.T=new Tp(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new rv}function rv(){this.i=null,this.g="",this.h=!1}hd(Zp,md),hd(ev,md),hd(tv,Yp),tv.prototype.g=function(){return new XMLHttpRequest},tv.prototype.i=function(){return{}},Xp=new tv;var iv=45e3,av={},ov={};function sv(e,t,n){e.K=1,e.v=Tv(wv(t)),e.s=n,e.P=!0,uv(e,null)}function uv(e,t){e.F=Date.now(),hv(e),e.A=wv(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),Uv(n.i,"t",r),e.C=0,n=e.l.H,e.h=new rv,e.g=Vy(e.l,n?t:null,!e.s),0<e.N&&(e.L=new Op(ld(e.La,e,e.g),e.N)),Np(e.S,e.g,"readystatechange",e.ib),t=e.H?Yd(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),zp(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function cv(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function lv(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=fv(e,n))==ov){4==t&&(e.o=4,Bp(14),i=!1),Mp(e.j,e.m,null,"[Incomplete Response]");break}if(r==av){e.o=4,Bp(15),Mp(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Mp(e.j,e.m,r,null),mv(e,r)}cv(e)&&r!=ov&&r!=av&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Bp(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Dy(t),t.K=!0,Bp(11))):(Mp(e.j,e.m,n,"[Invalid Chunked Response]"),yv(e),vv(e))}function fv(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?ov:(n=Number(t.substring(n,r)),isNaN(n)?av:(r+=1)+n>t.length?ov:(t=t.substr(r,n),e.C=r+n,t))}function hv(e){e.V=Date.now()+e.O,dv(e,e.O)}function dv(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Hp(ld(e.gb,e),t)}function pv(e){e.B&&(nd.clearTimeout(e.B),e.B=null)}function vv(e){0==e.l.G||e.I||jy(e.l,e)}function yv(e){pv(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Ip(e.T),Ap(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function mv(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Kv(n.h,e)))if(!e.J&&Kv(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Ay(n),Sy(n)}Ry(n),Bp(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=Hp(ld(n.cb,n),6e3));if(1>=Gv(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else Ly(n,11)}else if((e.J||n.g==e)&&Ay(n),!bd(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var s=a[4];null!=s&&(n.Ca=s,n.j.info("SVER="+n.Ca));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Yv(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,Ev(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=Uy(r,r.H?r.ka:null,r.V),d.J){Qv(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(pv(p),hv(p)),r.g=d}else Oy(r);0<n.i.length&&Ty(n)}else"stop"!=a[0]&&"close"!=a[0]||Ly(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Ly(n,7):xy(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}zp()}catch(a){}}function gv(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(id(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(id(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(id(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Jh=nv.prototype).setTimeout=function(e){this.O=e},Jh.ib=function(e){e=e.target;var t=this.L;t&&3==my(e)?t.l():this.La(e)},Jh.La=function(e){try{if(e==this.g)e:{var t=my(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||Pd||this.g&&(this.h.h||this.g.fa()||gy(this.g)))){this.I||4!=t||7==n||zp(),pv(this);var r=this.g.aa();this.Y=r;t:if(cv(this)){var i=gy(this.g);e="";var a=i.length,o=4==my(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){yv(this),vv(this);var s="";break t}this.h.i=new nd.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!bd(u)){var l=u;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,Bp(12),yv(this),vv(this);break e}Mp(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,mv(this,r)}this.P?(lv(this,t,s),Pd&&this.i&&3==t&&(Np(this.S,this.T,"tick",this.hb),this.T.start())):(Mp(this.j,this.m,s,null),mv(this,s)),4==t&&yv(this),this.i&&!this.I&&(4==t?jy(this.l,this):(this.i=!1,hv(this)))}else 400==r&&0<s.indexOf("Unknown SID")?(this.o=3,Bp(12)):(this.o=0,Bp(13)),yv(this),vv(this)}}}catch(t){}},Jh.hb=function(){if(this.g){var e=my(this.g),t=this.g.fa();this.C<t.length&&(pv(this),lv(this,e,t),this.i&&4!=e&&hv(this))}},Jh.cancel=function(){this.I=!0,yv(this)},Jh.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(zp(),Bp(17)),yv(this),this.o=2,vv(this)):dv(this,this.V-e)};var bv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kv(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof kv){this.h=void 0!==t?t:e.h,_v(this,e.j),this.s=e.s,this.g=e.g,xv(this,e.m),this.l=e.l,t=e.i;var n=new jv;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Sv(this,n),this.o=e.o}else e&&(n=String(e).match(bv))?(this.h=!!t,_v(this,n[1]||"",!0),this.s=Iv(n[2]||""),this.g=Iv(n[3]||"",!0),xv(this,n[4]),this.l=Iv(n[5]||"",!0),Sv(this,n[6]||"",!0),this.o=Iv(n[7]||"")):(this.h=!!t,this.i=new jv(null,this.h))}function wv(e){return new kv(e)}function _v(e,t,n){e.j=n?Iv(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function xv(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Sv(e,t,n){t instanceof jv?(e.i=t,function(e,t){t&&!e.j&&(Mv(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Lv(this,t),Uv(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Cv(t,Nv)),e.i=new jv(t,e.h))}function Ev(e,t,n){e.i.set(t,n)}function Tv(e){return Ev(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Iv(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Cv(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Pv),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Pv(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}kv.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Cv(t,Ov,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Cv(t,Ov,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Cv(n,"/"==n.charAt(0)?Dv:Rv,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Cv(n,Av)),e.join("")};var Ov=/[#\/\?@]/g,Rv=/[#\?:]/g,Dv=/[#\?]/g,Nv=/[#\?@]/g,Av=/#/g;function jv(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Mv(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Lv(e,t){Mv(e),t=Vv(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Fv(e,t){return Mv(e),t=Vv(e,t),e.g.has(t)}function Uv(e,t,n){Lv(e,t),0<n.length&&(e.i=null,e.g.set(Vv(e,t),vd(n)),e.h+=n.length)}function Vv(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Jh=jv.prototype).add=function(e,t){Mv(this),this.i=null,e=Vv(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Jh.forEach=function(e,t){Mv(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Jh.oa=function(){Mv(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Jh.W=function(e){Mv(this);var t=[];if("string"===typeof e)Fv(this,e)&&(t=t.concat(this.g.get(Vv(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Jh.set=function(e,t){return Mv(this),this.i=null,Fv(this,e=Vv(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Jh.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},Jh.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var zv=m((function e(t,n){d(this,e),this.h=t,this.g=n}));function qv(e){this.l=e||Wv,nd.PerformanceNavigationTiming?e=0<(e=nd.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(nd.g&&nd.g.Ga&&nd.g.Ga()&&nd.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Bv,Wv=10;function Hv(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Gv(e){return e.h?1:e.g?e.g.size:0}function Kv(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Yv(e,t){e.g?e.g.add(t):e.h=t}function Qv(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function $v(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=C(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return vd(e.i)}function Xv(){}function Jv(){this.g=new Xv}function Zv(e,t,n){var r=n||"";try{gv(e,(function(e,n){var i=e;ad(e)&&(i=vp(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function ey(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function ty(e){this.l=e.ac||null,this.j=e.jb||!1}function ny(e,t){hp.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=ry,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}qv.prototype.cancel=function(){if(this.i=$v(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=C(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Xv.prototype.stringify=function(e){return nd.JSON.stringify(e,void 0)},Xv.prototype.parse=function(e){return nd.JSON.parse(e,void 0)},hd(ty,Yp),ty.prototype.g=function(){return new ny(this.l,this.j)},ty.prototype.i=(Bv={},function(){return Bv}),hd(ny,hp);var ry=0;function iy(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function ay(e){e.readyState=4,e.l=null,e.j=null,e.A=null,oy(e)}function oy(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Jh=ny.prototype).open=function(e,t){if(this.readyState!=ry)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,oy(this)},Jh.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||nd).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},Jh.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ay(this)),this.readyState=ry},Jh.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,oy(this)),this.g&&(this.readyState=3,oy(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof nd.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;iy(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},Jh.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ay(this):oy(this),3==this.readyState&&iy(this)}},Jh.Va=function(e){this.g&&(this.response=this.responseText=e,ay(this))},Jh.Ua=function(e){this.g&&(this.response=e,ay(this))},Jh.ga=function(){this.g&&ay(this)},Jh.setRequestHeader=function(e,t){this.v.append(e,t)},Jh.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Jh.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ny.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var sy=nd.JSON.parse;function uy(e){hp.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=cy,this.K=this.L=!1}hd(uy,hp);var cy="",ly=/^https?$/i,fy=["POST","PUT"];function hy(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,dy(e),vy(e)}function dy(e){e.D||(e.D=!0,dp(e,"complete"),dp(e,"error"))}function py(e){if(e.h&&"undefined"!=typeof td&&(!e.C[1]||4!=my(e)||2!=e.aa()))if(e.v&&4==my(e))Cp(e.Ha,0,e);else if(dp(e,"readystatechange"),4==my(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(bv)[1]||null;if(!a&&nd.self&&nd.self.location){var o=nd.self.location.protocol;a=o.substr(0,o.length-1)}i=!ly.test(a?a.toLowerCase():"")}t=i}if(t)dp(e,"complete"),dp(e,"success");else{e.m=6;try{var s=2<my(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.aa()+"]",dy(e)}}finally{vy(e)}}}function vy(e,t){if(e.g){yy(e);var n=e.g,r=e.C[0]?rd:null;e.g=null,e.C=null,t||dp(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function yy(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(nd.clearTimeout(e.A),e.A=null)}function my(e){return e.g?e.g.readyState:0}function gy(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case cy:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(dt){return null}}function by(e){var t="";return Kd(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function ky(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=by(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Ev(e,t,n))}function wy(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function _y(e){this.Ca=0,this.i=[],this.j=new jp,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=wy("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=wy("baseRetryDelayMs",5e3,e),this.bb=wy("retryDelaySeedMs",1e4,e),this.$a=wy("forwardChannelMaxRetries",2,e),this.ta=wy("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new qv(e&&e.concurrentRequestLimit),this.Fa=new Jv,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function xy(e){if(Ey(e),3==e.G){var t=e.U++,n=wv(e.F);Ev(n,"SID",e.I),Ev(n,"RID",t),Ev(n,"TYPE","terminate"),Cy(e,n),(t=new nv(e,e.j,t,void 0)).K=2,t.v=Tv(wv(n)),n=!1,nd.navigator&&nd.navigator.sendBeacon&&(n=nd.navigator.sendBeacon(t.v.toString(),"")),!n&&nd.Image&&((new Image).src=t.v,n=!0),n||(t.g=Vy(t.l,null),t.g.da(t.v)),t.F=Date.now(),hv(t)}Fy(e)}function Sy(e){e.g&&(Dy(e),e.g.cancel(),e.g=null)}function Ey(e){Sy(e),e.u&&(nd.clearTimeout(e.u),e.u=null),Ay(e),e.h.cancel(),e.m&&("number"===typeof e.m&&nd.clearTimeout(e.m),e.m=null)}function Ty(e){Hv(e.h)||e.m||(e.m=!0,_p(e.Ja,e),e.C=0)}function Iy(e,t){var n;n=t?t.m:e.U++;var r=wv(e.F);Ev(r,"SID",e.I),Ev(r,"RID",n),Ev(r,"AID",e.T),Cy(e,r),e.o&&e.s&&ky(r,e.o,e.s),n=new nv(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=Py(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),Yv(e.h,n),sv(n,r,t)}function Cy(e,t){e.ia&&Kd(e.ia,(function(e,n){Ev(t,n,e)})),e.l&&gv({},(function(e,n){Ev(t,n,e)}))}function Py(e,t,n){n=Math.min(e.i.length,n);var r=e.l?ld(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{Zv(l,o,"req"+c+"_")}catch(Pt){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function Oy(e){e.g||e.u||(e.Z=1,_p(e.Ia,e),e.A=0)}function Ry(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=Hp(ld(e.Ia,e),My(e,e.A)),e.A++,!0)}function Dy(e){null!=e.B&&(nd.clearTimeout(e.B),e.B=null)}function Ny(e){e.g=new nv(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=wv(e.sa);Ev(t,"RID","rpc"),Ev(t,"SID",e.I),Ev(t,"CI",e.L?"0":"1"),Ev(t,"AID",e.T),Ev(t,"TYPE","xmlhttp"),Cy(e,t),e.o&&e.s&&ky(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=Tv(wv(t)),n.s=null,n.P=!0,uv(n,e)}function Ay(e){null!=e.v&&(nd.clearTimeout(e.v),e.v=null)}function jy(e,t){var n=null;if(e.g==t){Ay(e),Dy(e),e.g=null;var r=2}else{if(!Kv(e.h,t))return;n=t.D,Qv(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;dp(r=Up(),new Wp(r,n)),Ty(e)}else Oy(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(Gv(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=Hp(ld(e.Ja,e,t),My(e,e.C)),e.C++,!0))}(e,t)||2==r&&Ry(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Ly(e,5);break;case 4:Ly(e,10);break;case 3:Ly(e,6);break;default:Ly(e,2)}}function My(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function Ly(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=ld(e.kb,e);n||(n=new kv("//www.google.com/images/cleardot.gif"),nd.location&&"http"==nd.location.protocol||_v(n,"https"),Tv(n)),function(e,t){var n=new jp;if(nd.Image){var r=new Image;r.onload=fd(ey,n,r,"TestLoadImage: loaded",!0,t),r.onerror=fd(ey,n,r,"TestLoadImage: error",!1,t),r.onabort=fd(ey,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=fd(ey,n,r,"TestLoadImage: timeout",!1,t),nd.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Bp(2);e.G=0,e.l&&e.l.va(t),Fy(e),Ey(e)}function Fy(e){if(e.G=0,e.la=[],e.l){var t=$v(e.h);0==t.length&&0==e.i.length||(yd(e.la,t),yd(e.la,e.i),e.h.i.length=0,vd(e.i),e.i.length=0),e.l.ua()}}function Uy(e,t,n){var r=n instanceof kv?wv(n):new kv(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),xv(r,r.m);else{var i=nd.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new kv(null,void 0);r&&_v(a,r),t&&(a.g=t),i&&xv(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&Ev(r,n,t),Ev(r,"VER",e.ma),Cy(e,r),r}function Vy(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new uy(new ty({jb:!0})):new uy(e.ra)).Ka(e.H),t}function zy(){}function qy(){if(Id&&!(10<=Number(Vd)))throw Error("Environmental error: no available transport.")}function By(e,t){hp.call(this),this.g=new _y(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!bd(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!bd(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Gy(this)}function Wy(e){Zp.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Hy(){ev.call(this),this.status=1}function Gy(e){this.g=e}(Jh=uy.prototype).Ka=function(e){this.L=e},Jh.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Xp.g(),this.C=this.u?Qp(this.u):Qp(Xp),this.g.onreadystatechange=ld(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void hy(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=C(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=nd.FormData&&e instanceof nd.FormData,!(0<=pd(fy,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var u,c=C(n);try{for(c.s();!(u=c.n()).done;){var f=l(u.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){c.e(p)}finally{c.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{yy(this),0<this.B&&((this.K=function(e){return Id&&Fd()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ld(this.qa,this)):this.A=Cp(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){hy(this,s)}},Jh.qa=function(){"undefined"!=typeof td&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,dp(this,"timeout"),this.abort(8))},Jh.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,dp(this,"complete"),dp(this,"abort"),vy(this))},Jh.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),vy(this,!0)),uy.X.M.call(this)},Jh.Ha=function(){this.s||(this.F||this.v||this.l?py(this):this.fb())},Jh.fb=function(){py(this)},Jh.aa=function(){try{return 2<my(this)?this.g.status:-1}catch(Bv){return-1}},Jh.fa=function(){try{return this.g?this.g.responseText:""}catch(Bv){return""}},Jh.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),sy(t)}},Jh.Ea=function(){return this.m},Jh.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Jh=_y.prototype).ma=8,Jh.G=1,Jh.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new nv(this,this.j,e,void 0),n=this.s;if(this.S&&(n?$d(n=Yd(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Py(this,t,r),Ev(i=wv(this.F),"RID",e),Ev(i,"CVER",22),this.D&&Ev(i,"X-HTTP-Session-Id",this.D),Cy(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(by(n)))+"&"+r:this.o&&ky(i,this.o,n)),Yv(this.h,t),this.Ya&&Ev(i,"TYPE","init"),this.O?(Ev(i,"$req",r),Ev(i,"SID","null"),t.Z=!0,sv(t,i,null)):sv(t,i,r),this.G=2}}else 3==this.G&&(e?Iy(this,e):0==this.i.length||Hv(this.h)||Iy(this))},Jh.Ia=function(){if(this.u=null,Ny(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=Hp(ld(this.eb,this),e)}},Jh.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Bp(10),Sy(this),Ny(this))},Jh.cb=function(){null!=this.v&&(this.v=null,Sy(this),Ry(this),Bp(19))},Jh.kb=function(e){e?(this.j.info("Successfully pinged google.com"),Bp(2)):(this.j.info("Failed to ping google.com"),Bp(1))},(Jh=zy.prototype).xa=function(){},Jh.wa=function(){},Jh.va=function(){},Jh.ua=function(){},Jh.Ra=function(){},qy.prototype.g=function(e,t){return new By(e,t)},hd(By,hp),By.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;Bp(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=Uy(e,null,e.V),Ty(e)},By.prototype.close=function(){xy(this.g)},By.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=vp(e),e=n);t.i.push(new zv(t.ab++,e)),3==t.G&&Ty(t)},By.prototype.M=function(){this.g.l=null,delete this.j,xy(this.g),delete this.g,By.X.M.call(this)},hd(Wy,Zp),hd(Hy,ev),hd(Gy,zy),Gy.prototype.xa=function(){dp(this.g,"a")},Gy.prototype.wa=function(e){dp(this.g,new Wy(e))},Gy.prototype.va=function(e){dp(this.g,new Hy)},Gy.prototype.ua=function(){dp(this.g,"b")},qy.prototype.createWebChannel=qy.prototype.g,By.prototype.send=By.prototype.u,By.prototype.open=By.prototype.m,By.prototype.close=By.prototype.close,Gp.NO_ERROR=0,Gp.TIMEOUT=8,Gp.HTTP_ERROR=6,Kp.COMPLETE="complete",$p.EventType=Jp,Jp.OPEN="a",Jp.CLOSE="b",Jp.ERROR="c",Jp.MESSAGE="d",hp.prototype.listen=hp.prototype.N,uy.prototype.listenOnce=uy.prototype.O,uy.prototype.getLastError=uy.prototype.Oa,uy.prototype.getLastErrorCode=uy.prototype.Ea,uy.prototype.getStatus=uy.prototype.aa,uy.prototype.getResponseJson=uy.prototype.Sa,uy.prototype.getResponseText=uy.prototype.fa,uy.prototype.send=uy.prototype.da,uy.prototype.setWithCredentials=uy.prototype.Ka;var Ky=ed.createWebChannelTransport=function(){return new qy},Yy=ed.getStatEventTarget=function(){return Up()},Qy=ed.ErrorCode=Gp,$y=ed.EventType=Kp,Xy=ed.Event=Lp,Jy=ed.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Zy=ed.FetchXmlHttpFactory=ty,em=ed.WebChannel=$p,tm=ed.XhrIo=uy,nm="@firebase/firestore",rm=function(){function e(t){d(this,e),this.uid=t}return m(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();rm.UNAUTHENTICATED=new rm(null),rm.GOOGLE_CREDENTIALS=new rm("google-credentials-uid"),rm.FIRST_PARTY=new rm("first-party-uid"),rm.MOCK_USER=new rm("mock-user");var im="9.16.0",am=new bi("@firebase/firestore");function om(){return am.logLevel}function sm(e){if(am.logLevel<=hi.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(lm);am.debug.apply(am,["Firestore (".concat(im,"): ").concat(e)].concat(h(i)))}}function um(e){if(am.logLevel<=hi.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(lm);am.error.apply(am,["Firestore (".concat(im,"): ").concat(e)].concat(h(i)))}}function cm(e){if(am.logLevel<=hi.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(lm);am.warn.apply(am,["Firestore (".concat(im,"): ").concat(e)].concat(h(i)))}}function lm(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function fm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(im,") INTERNAL ASSERTION FAILED: ")+e;throw um(t),new Error(t)}function hm(e,t){e||fm()}function dm(e,t){return e}var pm={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},vm=function(e){b(n,e);var t=S(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return m(n)}(Mr),ym=m((function e(){var t=this;d(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),mm=m((function e(t,n){d(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),gm=function(){function e(){d(this,e)}return m(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(rm.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),bm=function(){function e(t){d(this,e),this.token=t,this.changeListener=null}return m(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),km=function(){function e(t){d(this,e),this.t=t,this.currentUser=rm.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return m(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new ym;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new ym,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Xe(Qe().mark((function e(){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){sm("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(sm("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ym)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(sm("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(hm("string"==typeof n.accessToken),new mm(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return hm(null===e||"string"==typeof e),new rm(e)}}]),e}(),wm=function(){function e(t,n,r,i){d(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=rm.FIRST_PARTY,this.p=new Map}return m(e,[{key:"I",value:function(){return this.g?this.g():(hm(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),_m=function(){function e(t,n,r,i){d(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return m(e,[{key:"getToken",value:function(){return Promise.resolve(new wm(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(rm.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),xm=m((function e(t){d(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Sm=function(){function e(t){d(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return m(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&sm("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,sm("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){sm("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):sm("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(hm("string"==typeof t.token),e.A=t.token,new xm(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Em(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Tm=function(){function e(){d(this,e)}return m(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Em(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Im(e,t){return e<t?-1:e>t?1:0}function Cm(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Pm(e){return e+"\0"}var Om=function(){function e(t,n){if(d(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new vm(pm.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new vm(pm.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new vm(pm.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new vm(pm.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return m(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Im(this.nanoseconds,e.nanoseconds):Im(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Rm=function(){function e(t){d(this,e),this.timestamp=t}return m(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Om(0,0))}},{key:"max",value:function(){return new e(new Om(253402300799,999999999))}}]),e}(),Dm=function(){function e(t,n,r){d(this,e),void 0===n?n=0:n>t.length&&fm(),void 0===r?r=t.length-n:r>t.length-n&&fm(),this.segments=t,this.offset=n,this.len=r}return m(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Nm=function(e){b(n,e);var t=S(n);function n(){return d(this,n),t.apply(this,arguments)}return m(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new vm(pm.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,h(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Dm),Am=/^[_a-zA-Z][_a-zA-Z0-9]*$/,jm=function(e){b(n,e);var t=S(n);function n(){return d(this,n),t.apply(this,arguments)}return m(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Am.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new vm(pm.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new vm(pm.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new vm(pm.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new vm(pm.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Dm),Mm=function(){function e(t){d(this,e),this.path=t}return m(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Nm.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Nm.fromString(t))}},{key:"fromName",value:function(t){return new e(Nm.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Nm.emptyPath())}},{key:"comparator",value:function(e,t){return Nm.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Nm(t.slice()))}}]),e}(),Lm=m((function e(t,n,r,i){d(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Fm(e){return e.fields.find((function(e){return 2===e.kind}))}function Um(e){return e.fields.filter((function(e){return 2!==e.kind}))}Lm.UNKNOWN_ID=-1;var Vm=m((function e(t,n){d(this,e),this.fieldPath=t,this.kind=n}));var zm=function(){function e(t,n){d(this,e),this.sequenceNumber=t,this.offset=n}return m(e,null,[{key:"empty",value:function(){return new e(0,Wm.min())}}]),e}();function qm(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Rm.fromTimestamp(1e9===r?new Om(n+1,0):new Om(n,r));return new Wm(i,Mm.empty(),t)}function Bm(e){return new Wm(e.readTime,e.key,-1)}var Wm=function(){function e(t,n,r){d(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return m(e,null,[{key:"min",value:function(){return new e(Rm.min(),Mm.empty(),-1)}},{key:"max",value:function(){return new e(Rm.max(),Mm.empty(),-1)}}]),e}();function Hm(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Mm.comparator(e.documentKey,t.documentKey))?n:Im(e.largestBatchId,t.largestBatchId)}var Gm="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Km=function(){function e(){d(this,e),this.onCommittedListeners=[]}return m(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Ym(e){return Qm.apply(this,arguments)}function Qm(){return Qm=Xe(Qe().mark((function e(t){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===pm.FAILED_PRECONDITION&&t.message===Gm){e.next=2;break}throw t;case 2:sm("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Qm.apply(this,arguments)}var $m=function(){function e(t){var n=this;d(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return m(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&fm(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=C(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),Xm=function(){function e(t,n){var r=this;d(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.P=new ym,this.transaction.oncomplete=function(){r.P.resolve()},this.transaction.onabort=function(){n.error?r.P.reject(new eg(t,n.error)):r.P.resolve()},this.transaction.onerror=function(e){var n=ag(e.target.error);r.P.reject(new eg(t,n))}}return m(e,[{key:"v",get:function(){return this.P.promise}},{key:"abort",value:function(e){e&&this.P.reject(e),this.aborted||(sm("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"V",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new ng(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new eg(n,t)}}}]),e}(),Jm=function(){function e(t,n,r){d(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(Cr())&&um("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return m(e,[{key:"F",value:function(){var e=Xe(Qe().mark((function e(t){var n=this;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return sm("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new eg(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new vm(pm.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new vm(pm.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new eg(t,n))},i.onupgradeneeded=function(e){sm("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.$(t,i.transaction,e.oldVersion,n.version).next((function(){sm("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Xe(Qe().mark((function e(t,n,r,i){var a,o,s,u,c=this;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,s=Qe().mark((function e(){var n,s,u,l;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.F(t);case 4:return c.db=e.sent,n=Xm.open(c.db,t,a?"readonly":"readwrite",r),s=i(n).next((function(e){return n.V(),e})).catch((function(e){return n.abort(e),$m.reject(e)})).toPromise(),s.catch((function(){})),e.next=9,n.v;case 9:return e.t0=s,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),u=e.t1,l="FirebaseError"!==u.name&&o<3,sm("SimpleDb","Transaction failed with error:",u.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(u)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(s(),"t0",4);case 4:if("object"!==typeof(u=e.t0)){e.next=7;break}return e.abrupt("return",u.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return sm("SimpleDb","Removing database:",e),rg(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!jr())return!1;if(e.N())return!0;var t=Cr(),n=e.D(t),r=0<n&&n<10,i=e.k(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"N",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.O)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"k",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Zm=function(){function e(t){d(this,e),this.q=t,this.U=!1,this.K=null}return m(e,[{key:"isDone",get:function(){return this.U}},{key:"G",get:function(){return this.K}},{key:"cursor",set:function(e){this.q=e}},{key:"done",value:function(){this.U=!0}},{key:"j",value:function(e){this.K=e}},{key:"delete",value:function(){return rg(this.q.delete())}}]),e}(),eg=function(e){b(n,e);var t=S(n);function n(e,r){var i;return d(this,n),(i=t.call(this,pm.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return m(n)}(vm);function tg(e){return"IndexedDbTransactionError"===e.name}var ng=function(){function e(t){d(this,e),this.store=t}return m(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(sm("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(sm("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),rg(n)}},{key:"add",value:function(e){return sm("SimpleDb","ADD",this.store.name,e,e),rg(this.store.add(e))}},{key:"get",value:function(e){var t=this;return rg(this.store.get(e)).next((function(n){return void 0===n&&(n=null),sm("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return sm("SimpleDb","DELETE",this.store.name,e),rg(this.store.delete(e))}},{key:"count",value:function(){return sm("SimpleDb","COUNT",this.store.name),rg(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.H(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new $m((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new $m((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Y",value:function(e,t){sm("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.X=!1;var r=this.cursor(n);return this.H(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.H(r,t)}},{key:"tt",value:function(e){var t=this.cursor({});return new $m((function(n,r){t.onerror=function(e){var t=ag(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"H",value:function(e,t){var n=[];return new $m((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Zm(i),o=t(i.primaryKey,i.value,a);if(o instanceof $m){var s=o.catch((function(e){return a.done(),$m.reject(e)}));n.push(s)}a.isDone?r():null===a.G?i.continue():i.continue(a.G)}else r()}})).next((function(){return $m.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function rg(e){return new $m((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=ag(e.target.error);n(t)}}))}var ig=!1;function ag(e){var t=Jm.D(Cr());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new vm("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return ig||(ig=!0,setTimeout((function(){throw r}),0)),r}}return e}var og=function(){function e(t,n){d(this,e),this.asyncQueue=t,this.et=n,this.task=null}return m(e,[{key:"start",value:function(){this.nt(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"nt",value:function(e){var t=this;sm("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,Xe(Qe().mark((function e(){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=sm,e.t1="Documents written: ",e.next=6,t.et.st();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!tg(e.t4)){e.next=17;break}sm("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,Ym(e.t4);case 19:return e.next=21,t.nt(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),sg=function(){function e(t,n){d(this,e),this.localStore=t,this.persistence=n}return m(e,[{key:"st",value:function(){var e=Xe(Qe().mark((function e(){var t,n=this,r=arguments;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.it(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"it",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return $m.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return sm("IndexBackiller","Processing collection: ".concat(t)),n.rt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"rt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ot(i,n)})).next((function(n){return sm("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ot",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Bm(t);Hm(r,n)>0&&(n=r)})),new Wm(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),ug=function(){function e(t,n){var r=this;d(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return m(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();ug.at=-1;var cg=m((function e(t,n,r,i,a,o,s,u){d(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),lg=function(){function e(t,n){d(this,e),this.projectId=t,this.database=n||"(default)"}return m(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function fg(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function hg(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function dg(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function pg(e){return null==e}function vg(e){return 0===e&&1/e==-1/0}function yg(e){return"number"==typeof e&&Number.isInteger(e)&&!vg(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var mg=function(e){function t(e){d(this,t),this.binaryString=e}return m(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Im(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();mg.EMPTY_BYTE_STRING=new mg("");var gg=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bg(e){if(hm(!!e),"string"==typeof e){var t=0,n=gg.exec(e);if(hm(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:kg(e.seconds),nanos:kg(e.nanos)}}function kg(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function wg(e){return"string"==typeof e?mg.fromBase64String(e):mg.fromUint8Array(e)}function _g(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function xg(e){var t=e.mapValue.fields.__previous_value__;return _g(t)?xg(t):t}function Sg(e){var t=bg(e.mapValue.fields.__local_write_time__.timestampValue);return new Om(t.seconds,t.nanos)}var Eg={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Tg={nullValue:"NULL_VALUE"};function Ig(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?_g(e)?4:zg(e)?9007199254740991:10:fm()}function Cg(e,t){if(e===t)return!0;var n=Ig(e);if(n!==Ig(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Sg(e).isEqual(Sg(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=bg(e.timestampValue),r=bg(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return wg(e.bytesValue).isEqual(wg(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return kg(e.geoPointValue.latitude)===kg(t.geoPointValue.latitude)&&kg(e.geoPointValue.longitude)===kg(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return kg(e.integerValue)===kg(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=kg(e.doubleValue),r=kg(t.doubleValue);return n===r?vg(n)===vg(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Cm(e.arrayValue.values||[],t.arrayValue.values||[],Cg);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(fg(n)!==fg(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Cg(n[i],r[i])))return!1;return!0}(e,t);default:return fm()}}function Pg(e,t){return void 0!==(e.values||[]).find((function(e){return Cg(e,t)}))}function Og(e,t){if(e===t)return 0;var n=Ig(e),r=Ig(t);if(n!==r)return Im(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Im(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=kg(e.integerValue||e.doubleValue),r=kg(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Rg(e.timestampValue,t.timestampValue);case 4:return Rg(Sg(e),Sg(t));case 5:return Im(e.stringValue,t.stringValue);case 6:return function(e,t){var n=wg(e),r=wg(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Im(n[i],r[i]);if(0!==a)return a}return Im(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Im(kg(e.latitude),kg(t.latitude));return 0!==n?n:Im(kg(e.longitude),kg(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Og(n[i],r[i]);if(a)return a}return Im(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Eg.mapValue&&t===Eg.mapValue)return 0;if(e===Eg.mapValue)return 1;if(t===Eg.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=Im(r[o],a[o]);if(0!==s)return s;var u=Og(n[r[o]],i[a[o]]);if(0!==u)return u}return Im(r.length,a.length)}(e.mapValue,t.mapValue);default:throw fm()}}function Rg(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Im(e,t);var n=bg(e),r=bg(t),i=Im(n.seconds,r.seconds);return 0!==i?i:Im(n.nanos,r.nanos)}function Dg(e){return Ng(e)}function Ng(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=bg(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?wg(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Mm.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=C(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Ng(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=C(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Ng(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):fm();var t,n}function Ag(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function jg(e){return!!e&&"integerValue"in e}function Mg(e){return!!e&&"arrayValue"in e}function Lg(e){return!!e&&"nullValue"in e}function Fg(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ug(e){return!!e&&"mapValue"in e}function Vg(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return hg(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Vg(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Vg(e.arrayValue.values[r]);return n}return Object.assign({},e)}function zg(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function qg(e){return"nullValue"in e?Tg:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Ag(lg.empty(),Mm.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:fm()}function Bg(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Ag(lg.empty(),Mm.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Eg:fm()}function Wg(e,t){var n=Og(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Hg(e,t){var n=Og(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Gg=m((function e(t,n){d(this,e),this.position=t,this.inclusive=n}));function Kg(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Mm.comparator(Mm.fromName(o.referenceValue),n.key):Og(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Yg(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Cg(e.position[n],t.position[n]))return!1;return!0}var Qg=m((function e(){d(this,e)})),$g=function(e){b(n,e);var t=S(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return m(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Og(t,this.value)):null!==t&&Ig(this.value)===Ig(t)&&this.matchesComparison(Og(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return fm()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new ob(e,t,r):"array-contains"===t?new lb(e,r):"in"===t?new fb(e,r):"not-in"===t?new hb(e,r):"array-contains-any"===t?new db(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new sb(e,n):new ub(e,n)}}]),n}(Qg),Xg=function(e){b(n,e);var t=S(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).filters=e,i.op=r,i.ht=null,i}return m(n,[{key:"matches",value:function(e){return Jg(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ht||(this.ht=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ht}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.lt((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"lt",value:function(e){var t,n=C(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(Qg);function Jg(e){return"and"===e.op}function Zg(e){return"or"===e.op}function eb(e){return tb(e)&&Jg(e)}function tb(e){var t,n=C(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof Xg)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function nb(e){if(e instanceof $g)return e.field.canonicalString()+e.op.toString()+Dg(e.value);if(eb(e))return e.filters.map((function(e){return nb(e)})).join(",");var t=e.filters.map((function(e){return nb(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function rb(e,t){return e instanceof $g?function(e,t){return t instanceof $g&&e.op===t.op&&e.field.isEqual(t.field)&&Cg(e.value,t.value)}(e,t):e instanceof Xg?function(e,t){return t instanceof Xg&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&rb(n,t.filters[r])}),!0)}(e,t):void fm()}function ib(e,t){var n=e.filters.concat(t);return Xg.create(n,e.op)}function ab(e){return e instanceof $g?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Dg(e.value))}(e):e instanceof Xg?function(e){return e.op.toString()+" {"+e.getFilters().map(ab).join(" ,")+"}"}(e):"Filter"}var ob=function(e){b(n,e);var t=S(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,e,r,i)).key=Mm.fromName(i.referenceValue),a}return m(n,[{key:"matches",value:function(e){var t=Mm.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}($g),sb=function(e){b(n,e);var t=S(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,"in",r)).keys=cb("in",r),i}return m(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}($g),ub=function(e){b(n,e);var t=S(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,"not-in",r)).keys=cb("not-in",r),i}return m(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}($g);function cb(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Mm.fromName(e.referenceValue)}))}var lb=function(e){b(n,e);var t=S(n);function n(e,r){return d(this,n),t.call(this,e,"array-contains",r)}return m(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Mg(t)&&Pg(t.arrayValue,this.value)}}]),n}($g),fb=function(e){b(n,e);var t=S(n);function n(e,r){return d(this,n),t.call(this,e,"in",r)}return m(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Pg(this.value.arrayValue,t)}}]),n}($g),hb=function(e){b(n,e);var t=S(n);function n(e,r){return d(this,n),t.call(this,e,"not-in",r)}return m(n,[{key:"matches",value:function(e){if(Pg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Pg(this.value.arrayValue,t)}}]),n}($g),db=function(e){b(n,e);var t=S(n);function n(e,r){return d(this,n),t.call(this,e,"array-contains-any",r)}return m(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Mg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Pg(t.value.arrayValue,e)}))}}]),n}($g),pb=m((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";d(this,e),this.field=t,this.dir=n}));function vb(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var yb=function(){function e(t,n){d(this,e),this.comparator=t,this.root=n||gb.EMPTY}return m(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,gb.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,gb.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new mb(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new mb(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new mb(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new mb(this.root,e,this.comparator,!0)}}]),e}(),mb=function(){function e(t,n,r,i){d(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return m(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),gb=function(){function e(t,n,r,i,a){d(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return m(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw fm();if(this.right.isRed())throw fm();var e=this.left.check();if(e!==this.right.check())throw fm();return e+(this.isRed()?0:1)}}]),e}();gb.EMPTY=null,gb.RED=!0,gb.BLACK=!1,gb.EMPTY=new(function(){function e(){d(this,e),this.size=0}return m(e,[{key:"key",get:function(){throw fm()}},{key:"value",get:function(){throw fm()}},{key:"color",get:function(){throw fm()}},{key:"left",get:function(){throw fm()}},{key:"right",get:function(){throw fm()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new gb(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var bb=function(){function e(t){d(this,e),this.comparator=t,this.data=new yb(this.comparator)}return m(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new kb(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new kb(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),kb=function(){function e(t){d(this,e),this.iter=t}return m(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function wb(e){return e.hasNext()?e.getNext():void 0}var _b=function(){function e(t){d(this,e),this.fields=t,t.sort(jm.comparator)}return m(e,[{key:"unionWith",value:function(t){var n,r=new bb(jm.comparator),i=C(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,s=C(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=C(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Cm(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),xb=function(){function e(t){d(this,e),this.value=t}return m(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Ug(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vg(t)}},{key:"setAll",value:function(e){var t=this,n=jm.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Vg(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Ug(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Cg(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Ug(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){hg(t,(function(t,n){return e[t]=n}));var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Vg(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Sb(e){var t=[];return hg(e.fields,(function(e,n){var r=new jm([e]);if(Ug(n)){var i=Sb(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=C(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new _b(t)}var Eb=function(){function e(t,n,r,i,a,o,s){d(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return m(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(Rm.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=xb.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=xb.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Rm.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Rm.min(),Rm.min(),Rm.min(),xb.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,Rm.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Rm.min(),Rm.min(),xb.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Rm.min(),Rm.min(),xb.empty(),2)}}]),e}(),Tb=m((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;d(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ft=null}));function Ib(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Tb(e,t,n,r,i,a,o)}function Cb(e){var t=dm(e);if(null===t.ft){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return nb(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),pg(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Dg(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Dg(e)})).join(",")),t.ft=n}return t.ft}function Pb(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!vb(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!rb(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Yg(e.startAt,t.startAt)&&Yg(e.endAt,t.endAt)}function Ob(e){return Mm.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Rb(e,t){return e.filters.filter((function(e){return e instanceof $g&&e.field.isEqual(t)}))}function Db(e,t,n){var r,i=Tg,a=!0,o=C(Rb(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=Tg,c=!0;switch(s.op){case"<":case"<=":u=qg(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,c=!1;break;case"!=":case"not-in":u=Tg}Wg({value:i,inclusive:a},{value:u,inclusive:c})<0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Wg({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function Nb(e,t,n){var r,i=Eg,a=!0,o=C(Rb(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=Eg,c=!0;switch(s.op){case">=":case">":u=Bg(s.value),c=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,c=!1;break;case"!=":case"not-in":u=Eg}Hg({value:i,inclusive:a},{value:u,inclusive:c})>0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Hg({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var Ab=m((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;d(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.dt=null,this._t=null,this.startAt,this.endAt}));function jb(e,t,n,r,i,a,o,s){return new Ab(e,t,n,r,i,a,o,s)}function Mb(e){return new Ab(e)}function Lb(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Fb(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Ub(e){var t,n=C(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function Vb(e){return null!==e.collectionGroup}function zb(e){var t=dm(e);if(null===t.dt){t.dt=[];var n=Ub(t),r=Fb(t);if(null!==n&&null===r)n.isKeyField()||t.dt.push(new pb(n)),t.dt.push(new pb(jm.keyField(),"asc"));else{var i,a=!1,o=C(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.dt.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new pb(jm.keyField(),u))}}}return t.dt}function qb(e){var t=dm(e);if(!t._t)if("F"===t.limitType)t._t=Ib(t.path,t.collectionGroup,zb(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=C(zb(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new pb(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new Gg(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new Gg(t.startAt.position,t.startAt.inclusive):null;t._t=Ib(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t._t}function Bb(e,t){t.getFirstInequalityField(),Ub(e);var n=e.filters.concat([t]);return new Ab(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Wb(e,t,n){return new Ab(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Hb(e,t){return Pb(qb(e),qb(t))&&e.limitType===t.limitType}function Gb(e){return"".concat(Cb(qb(e)),"|lt:").concat(e.limitType)}function Kb(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return ab(e)})).join(", "),"]")),pg(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Dg(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Dg(e)})).join(",")),"Target(".concat(t,")")}(qb(e)),"; limitType=").concat(e.limitType,")")}function Yb(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Mm.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=C(zb(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=C(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Kg(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,zb(e),t))&&!(e.endAt&&!function(e,t,n){var r=Kg(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,zb(e),t))}(e,t)}function Qb(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function $b(e){return function(t,n){var r,i=!1,a=C(zb(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=Xb(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function Xb(e,t,n){var r=e.field.isKeyField()?Mm.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Og(r,i):fm()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return fm()}}function Jb(e,t){if(e.wt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vg(t)?"-0":t}}function Zb(e){return{integerValue:""+e}}function ek(e,t){return yg(t)?Zb(t):Jb(e,t)}var tk=m((function e(){d(this,e),this._=void 0}));function nk(e,t,n){return e instanceof ak?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof ok?sk(e,t):e instanceof uk?ck(e,t):function(e,t){var n=ik(e,t),r=fk(n)+fk(e.gt);return jg(n)&&jg(e.gt)?Zb(r):Jb(e.yt,r)}(e,t)}function rk(e,t,n){return e instanceof ok?sk(e,t):e instanceof uk?ck(e,t):n}function ik(e,t){return e instanceof lk?jg(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var ak=function(e){b(n,e);var t=S(n);function n(){return d(this,n),t.apply(this,arguments)}return m(n)}(tk),ok=function(e){b(n,e);var t=S(n);function n(e){var r;return d(this,n),(r=t.call(this)).elements=e,r}return m(n)}(tk);function sk(e,t){var n,r=hk(t),i=C(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Cg(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var uk=function(e){b(n,e);var t=S(n);function n(e){var r;return d(this,n),(r=t.call(this)).elements=e,r}return m(n)}(tk);function ck(e,t){var n,r=hk(t),i=C(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Cg(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var lk=function(e){b(n,e);var t=S(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).yt=e,i.gt=r,i}return m(n)}(tk);function fk(e){return kg(e.integerValue||e.doubleValue)}function hk(e){return Mg(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var dk=m((function e(t,n){d(this,e),this.field=t,this.transform=n}));var pk=m((function e(t,n){d(this,e),this.version=t,this.transformResults=n})),vk=function(){function e(t,n){d(this,e),this.updateTime=t,this.exists=n}return m(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function yk(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var mk=m((function e(){d(this,e)}));function gk(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Ok(e.key,vk.none()):new xk(e.key,e.data,vk.none());var n,r=e.data,i=xb.empty(),a=new bb(jm.comparator),o=C(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(c){o.e(c)}finally{o.f()}return new Sk(e.key,i,new _b(a.toArray()),vk.none())}function bk(e,t,n){e instanceof xk?function(e,t,n){var r=e.value.clone(),i=Tk(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Sk?function(e,t,n){if(yk(e.precondition,t)){var r=Tk(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Ek(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function kk(e,t,n,r){return e instanceof xk?function(e,t,n,r){if(!yk(e.precondition,t))return n;var i=e.value.clone(),a=Ik(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Sk?function(e,t,n,r){if(!yk(e.precondition,t))return n;var i=Ik(e.fieldTransforms,r,t),a=t.data;return a.setAll(Ek(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return yk(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function wk(e,t){var n,r=null,i=C(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=ik(a.transform,o||null);null!=s&&(null===r&&(r=xb.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function _k(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Cm(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ok&&t instanceof ok||e instanceof uk&&t instanceof uk?Cm(e.elements,t.elements,Cg):e instanceof lk&&t instanceof lk?Cg(e.gt,t.gt):e instanceof ak&&t instanceof ak}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var xk=function(e){b(n,e);var t=S(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return d(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return m(n,[{key:"getFieldMask",value:function(){return null}}]),n}(mk),Sk=function(e){b(n,e);var t=S(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return d(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return m(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(mk);function Ek(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Tk(e,t,n){var r=new Map;hm(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,rk(o,s,n[i]))}return r}function Ik(e,t,n){var r,i=new Map,a=C(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,nk(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Ck,Pk,Ok=function(e){b(n,e);var t=S(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return m(n,[{key:"getFieldMask",value:function(){return null}}]),n}(mk),Rk=function(e){b(n,e);var t=S(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return m(n,[{key:"getFieldMask",value:function(){return null}}]),n}(mk),Dk=m((function e(t){d(this,e),this.count=t}));function Nk(e){switch(e){default:return fm();case pm.CANCELLED:case pm.UNKNOWN:case pm.DEADLINE_EXCEEDED:case pm.RESOURCE_EXHAUSTED:case pm.INTERNAL:case pm.UNAVAILABLE:case pm.UNAUTHENTICATED:return!1;case pm.INVALID_ARGUMENT:case pm.NOT_FOUND:case pm.ALREADY_EXISTS:case pm.PERMISSION_DENIED:case pm.FAILED_PRECONDITION:case pm.ABORTED:case pm.OUT_OF_RANGE:case pm.UNIMPLEMENTED:case pm.DATA_LOSS:return!0}}function Ak(e){if(void 0===e)return um("GRPC error has no .code"),pm.UNKNOWN;switch(e){case Ck.OK:return pm.OK;case Ck.CANCELLED:return pm.CANCELLED;case Ck.UNKNOWN:return pm.UNKNOWN;case Ck.DEADLINE_EXCEEDED:return pm.DEADLINE_EXCEEDED;case Ck.RESOURCE_EXHAUSTED:return pm.RESOURCE_EXHAUSTED;case Ck.INTERNAL:return pm.INTERNAL;case Ck.UNAVAILABLE:return pm.UNAVAILABLE;case Ck.UNAUTHENTICATED:return pm.UNAUTHENTICATED;case Ck.INVALID_ARGUMENT:return pm.INVALID_ARGUMENT;case Ck.NOT_FOUND:return pm.NOT_FOUND;case Ck.ALREADY_EXISTS:return pm.ALREADY_EXISTS;case Ck.PERMISSION_DENIED:return pm.PERMISSION_DENIED;case Ck.FAILED_PRECONDITION:return pm.FAILED_PRECONDITION;case Ck.ABORTED:return pm.ABORTED;case Ck.OUT_OF_RANGE:return pm.OUT_OF_RANGE;case Ck.UNIMPLEMENTED:return pm.UNIMPLEMENTED;case Ck.DATA_LOSS:return pm.DATA_LOSS;default:return fm()}}(Pk=Ck||(Ck={}))[Pk.OK=0]="OK",Pk[Pk.CANCELLED=1]="CANCELLED",Pk[Pk.UNKNOWN=2]="UNKNOWN",Pk[Pk.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pk[Pk.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pk[Pk.NOT_FOUND=5]="NOT_FOUND",Pk[Pk.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pk[Pk.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pk[Pk.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pk[Pk.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pk[Pk.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pk[Pk.ABORTED=10]="ABORTED",Pk[Pk.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pk[Pk.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pk[Pk.INTERNAL=13]="INTERNAL",Pk[Pk.UNAVAILABLE=14]="UNAVAILABLE",Pk[Pk.DATA_LOSS=15]="DATA_LOSS";var jk=function(){function e(t,n){d(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return m(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){hg(this.inner,(function(t,n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return dg(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Mk=new yb(Mm.comparator);function Lk(){return Mk}var Fk=new yb(Mm.comparator);function Uk(){for(var e=Fk,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Vk(e){var t=Fk;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function zk(){return Bk()}function qk(){return Bk()}function Bk(){return new jk((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Wk=new yb(Mm.comparator),Hk=new bb(Mm.comparator);function Gk(){for(var e=Hk,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Kk=new bb(Im);function Yk(){return Kk}var Qk=function(){function e(t,n,r,i,a){d(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return m(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,$k.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Rm.min(),i,Yk(),Lk(),Gk())}}]),e}(),$k=function(){function e(t,n,r,i,a){d(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return m(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,Gk(),Gk(),Gk())}}]),e}(),Xk=m((function e(t,n,r,i){d(this,e),this.It=t,this.removedTargetIds=n,this.key=r,this.Tt=i})),Jk=m((function e(t,n){d(this,e),this.targetId=t,this.Et=n})),Zk=m((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:mg.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;d(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),ew=function(){function e(){d(this,e),this.At=0,this.Rt=rw(),this.bt=mg.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}return m(e,[{key:"current",get:function(){return this.Pt}},{key:"resumeToken",get:function(){return this.bt}},{key:"Vt",get:function(){return 0!==this.At}},{key:"St",get:function(){return this.vt}},{key:"Dt",value:function(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}},{key:"Ct",value:function(){var e=Gk(),t=Gk(),n=Gk();return this.Rt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:fm()}})),new $k(this.bt,this.Pt,e,t,n)}},{key:"xt",value:function(){this.vt=!1,this.Rt=rw()}},{key:"Nt",value:function(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}},{key:"kt",value:function(e){this.vt=!0,this.Rt=this.Rt.remove(e)}},{key:"Ot",value:function(){this.At+=1}},{key:"Mt",value:function(){this.At-=1}},{key:"Ft",value:function(){this.vt=!0,this.Pt=!0}}]),e}(),tw=function(){function e(t){d(this,e),this.$t=t,this.Bt=new Map,this.Lt=Lk(),this.qt=nw(),this.Ut=new bb(Im)}return m(e,[{key:"Kt",value:function(e){var t,n=C(e.It);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Tt&&e.Tt.isFoundDocument()?this.Gt(r,e.Tt):this.Qt(r,e.key,e.Tt)}}catch(s){n.e(s)}finally{n.f()}var i,a=C(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Qt(o,e.key,e.Tt)}}catch(s){a.e(s)}finally{a.f()}}},{key:"jt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Wt(n);switch(e.state){case 0:t.zt(n)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||t.removeTarget(n);break;case 3:t.zt(n)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:t.zt(n)&&(t.Ht(n),r.Dt(e.resumeToken));break;default:fm()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((function(e,r){n.zt(r)&&t(r)}))}},{key:"Jt",value:function(e){var t=e.targetId,n=e.Et.count,r=this.Yt(t);if(r){var i=r.target;if(Ob(i))if(0===n){var a=new Mm(i.path);this.Qt(t,a,Eb.newNoDocument(a,Rm.min()))}else hm(1===n);else this.Xt(t)!==n&&(this.Ht(t),this.Ut=this.Ut.add(t))}}},{key:"Zt",value:function(e){var t=this,n=new Map;this.Bt.forEach((function(r,i){var a=t.Yt(i);if(a){if(r.current&&Ob(a.target)){var o=new Mm(a.target.path);null!==t.Lt.get(o)||t.te(i,o)||t.Qt(i,o,Eb.newNoDocument(o,e))}r.St&&(n.set(i,r.Ct()),r.xt())}}));var r=Gk();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Yt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Lt.forEach((function(t,n){return n.setReadTime(e)}));var i=new Qk(e,n,this.Ut,this.Lt,r);return this.Lt=Lk(),this.qt=nw(),this.Ut=new bb(Im),i}},{key:"Gt",value:function(e,t){if(this.zt(e)){var n=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,n),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}}},{key:"Qt",value:function(e,t,n){if(this.zt(e)){var r=this.Wt(e);this.te(e,t)?r.Nt(t,1):r.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),n&&(this.Lt=this.Lt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Bt.delete(e)}},{key:"Xt",value:function(e){var t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.Wt(e).Ot()}},{key:"Wt",value:function(e){var t=this.Bt.get(e);return t||(t=new ew,this.Bt.set(e,t)),t}},{key:"ee",value:function(e){var t=this.qt.get(e);return t||(t=new bb(Im),this.qt=this.qt.insert(e,t)),t}},{key:"zt",value:function(e){var t=null!==this.Yt(e);return t||sm("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Yt",value:function(e){var t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}},{key:"Ht",value:function(e){var t=this;this.Bt.set(e,new ew),this.$t.getRemoteKeysForTarget(e).forEach((function(n){t.Qt(e,n,null)}))}},{key:"te",value:function(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}]),e}();function nw(){return new yb(Mm.comparator)}function rw(){return new yb(Mm.comparator)}var iw={asc:"ASCENDING",desc:"DESCENDING"},aw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ow={and:"AND",or:"OR"},sw=m((function e(t,n){d(this,e),this.databaseId=t,this.wt=n}));function uw(e,t){return e.wt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function cw(e,t){return e.wt?t.toBase64():t.toUint8Array()}function lw(e,t){return uw(e,t.toTimestamp())}function fw(e){return hm(!!e),Rm.fromTimestamp(function(e){var t=bg(e);return new Om(t.seconds,t.nanos)}(e))}function hw(e,t){return function(e){return new Nm(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function dw(e){var t=Nm.fromString(e);return hm(Mw(t)),t}function pw(e,t){return hw(e.databaseId,t.path)}function vw(e,t){var n=dw(t);if(n.get(1)!==e.databaseId.projectId)throw new vm(pm.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new vm(pm.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Mm(bw(n))}function yw(e,t){return hw(e.databaseId,t)}function mw(e){var t=dw(e);return 4===t.length?Nm.emptyPath():bw(t)}function gw(e){return new Nm(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function bw(e){return hm(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function kw(e,t,n){return{name:pw(e,t),fields:n.value.mapValue.fields}}function ww(e,t,n){var r=vw(e,t.name),i=fw(t.updateTime),a=t.createTime?fw(t.createTime):Rm.min(),o=new xb({mapValue:{fields:t.fields}}),s=Eb.newFoundDocument(r,i,a,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function _w(e,t){return"found"in t?function(e,t){hm(!!t.found),t.found.name,t.found.updateTime;var n=vw(e,t.found.name),r=fw(t.found.updateTime),i=t.found.createTime?fw(t.found.createTime):Rm.min(),a=new xb({mapValue:{fields:t.found.fields}});return Eb.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){hm(!!t.missing),hm(!!t.readTime);var n=vw(e,t.missing),r=fw(t.readTime);return Eb.newNoDocument(n,r)}(e,t):fm()}function xw(e,t){var n;if(t instanceof xk)n={update:kw(e,t.key,t.value)};else if(t instanceof Ok)n={delete:pw(e,t.key)};else if(t instanceof Sk)n={update:kw(e,t.key,t.data),updateMask:jw(t.fieldMask)};else{if(!(t instanceof Rk))return fm();n={verify:pw(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof ak)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ok)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof uk)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof lk)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw fm()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:lw(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:fm()}(e,t.precondition)),n}function Sw(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?vk.updateTime(fw(e.updateTime)):void 0!==e.exists?vk.exists(e.exists):vk.none()}(t.currentDocument):vk.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)hm("REQUEST_TIME"===t.setToServerValue),n=new ak;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new ok(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new uk(i)}else"increment"in t?n=new lk(e,t.increment):fm();var a=jm.fromServerFormat(t.fieldPath);return new dk(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=vw(e,t.update.name),a=new xb({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new _b(t.map((function(e){return jm.fromServerFormat(e)})))}(t.updateMask);return new Sk(i,a,o,n,r)}return new xk(i,a,n,r)}if(t.delete){var s=vw(e,t.delete);return new Ok(s,n)}if(t.verify){var u=vw(e,t.verify);return new Rk(u,n)}return fm()}function Ew(e,t){return{documents:[yw(e,t.path)]}}function Tw(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=yw(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=yw(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return Aw(Xg.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Dw(e.field),direction:Pw(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=function(e,t){return e.wt||pg(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Iw(e){var t=mw(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){hm(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=Cw(e);return t instanceof Xg&&eb(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new pb(Nw(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return pg(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Gg(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Gg(n,t)}(n.endAt)),jb(t,i,s,o,u,"F",c,l)}function Cw(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Nw(e.unaryFilter.field);return $g.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Nw(e.unaryFilter.field);return $g.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Nw(e.unaryFilter.field);return $g.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Nw(e.unaryFilter.field);return $g.create(i,"!=",{nullValue:"NULL_VALUE"});default:return fm()}}(e):void 0!==e.fieldFilter?function(e){return $g.create(Nw(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fm()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Xg.create(e.compositeFilter.filters.map((function(e){return Cw(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return fm()}}(e.compositeFilter.op))}(e):fm()}function Pw(e){return iw[e]}function Ow(e){return aw[e]}function Rw(e){return ow[e]}function Dw(e){return{fieldPath:e.canonicalString()}}function Nw(e){return jm.fromServerFormat(e.fieldPath)}function Aw(e){return e instanceof $g?function(e){if("=="===e.op){if(Fg(e.value))return{unaryFilter:{field:Dw(e.field),op:"IS_NAN"}};if(Lg(e.value))return{unaryFilter:{field:Dw(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Fg(e.value))return{unaryFilter:{field:Dw(e.field),op:"IS_NOT_NAN"}};if(Lg(e.value))return{unaryFilter:{field:Dw(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Dw(e.field),op:Ow(e.op),value:e.value}}}(e):e instanceof Xg?function(e){var t=e.getFilters().map((function(e){return Aw(e)}));return 1===t.length?t[0]:{compositeFilter:{op:Rw(e.op),filters:t}}}(e):fm()}function jw(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Mw(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Lw(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Uw(t)),t=Fw(e.get(n),t);return Uw(t)}function Fw(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Uw(e){return e+"\x01\x01"}function Vw(e){var t=e.length;if(hm(t>=2),2===t)return hm("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Nm.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&fm(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:fm()}a=o+2}return new Nm(r)}var zw=["userId","batchId"];function qw(e,t){return[e,Lw(t)]}function Bw(e,t,n){return[e,Lw(t),n]}var Ww={},Hw=["prefixPath","collectionGroup","readTime","documentId"],Gw=["prefixPath","collectionGroup","documentId"],Kw=["collectionGroup","readTime","prefixPath","documentId"],Yw=["canonicalId","targetId"],Qw=["targetId","path"],$w=["path","targetId"],Xw=["collectionId","parent"],Jw=["indexId","uid"],Zw=["uid","sequenceNumber"],e_=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],t_=["indexId","uid","orderedDocumentKey"],n_=["userId","collectionPath","documentId"],r_=["userId","collectionPath","largestBatchId"],i_=["userId","collectionGroup","largestBatchId"],a_=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),o_=[].concat(h(a_),["documentOverlays"]),s_=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],u_=s_,c_=[].concat(u_,["indexConfiguration","indexState","indexEntries"]),l_=function(e){b(n,e);var t=S(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).se=e,i.currentSequenceNumber=r,i}return m(n)}(Km);function f_(e,t){var n=dm(e);return Jm.M(n.se,t)}var h_=function(){function e(t,n,r,i){d(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return m(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&bk(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=C(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=kk(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=C(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=kk(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=qk();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=gk(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Rm.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Gk())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Cm(this.mutations,e.mutations,(function(e,t){return _k(e,t)}))&&Cm(this.baseMutations,e.baseMutations,(function(e,t){return _k(e,t)}))}}]),e}(),d_=function(){function e(t,n,r,i){d(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return m(e,null,[{key:"from",value:function(t,n,r){hm(t.mutations.length===r.length);for(var i=Wk,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),p_=function(){function e(t,n){d(this,e),this.largestBatchId=t,this.mutation=n}return m(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),v_=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Rm.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Rm.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:mg.EMPTY_BYTE_STRING;d(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return m(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),y_=m((function e(t){d(this,e),this.ie=t}));function m_(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:g_(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:pw(e,t.key),fields:t.data.value.mapValue.fields,updateTime:uw(e,t.version.toTimestamp()),createTime:uw(e,t.createTime.toTimestamp())}}(e.ie,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:b_(t.version)};else{if(!t.isUnknownDocument())return fm();r.unknownDocument={path:n.path.toArray(),version:b_(t.version)}}return r}function g_(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function b_(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function k_(e){var t=new Om(e.seconds,e.nanoseconds);return Rm.fromTimestamp(t)}function w_(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Sw(e.ie,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Sw(e.ie,t)})),s=Om.fromMillis(t.localWriteTimeMs);return new h_(t.batchId,s,n,o)}function __(e){var t,n,r=k_(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?k_(e.lastLimboFreeSnapshotVersion):Rm.min();return void 0!==e.query.documents?(hm(1===(n=e.query).documents.length),t=qb(Mb(mw(n.documents[0])))):t=function(e){return qb(Iw(e))}(e.query),new v_(t,e.targetId,0,e.lastListenSequenceNumber,r,i,mg.fromBase64String(e.resumeToken))}function x_(e,t){var n,r=b_(t.snapshotVersion),i=b_(t.lastLimboFreeSnapshotVersion);n=Ob(t.target)?Ew(e.ie,t.target):Tw(e.ie,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Cb(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function S_(e){var t=Iw({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Wb(t,t.limit,"L"):t}function E_(e,t){return new p_(t.largestBatchId,Sw(e.ie,t.overlayMutation))}function T_(e,t){var n=t.path.lastSegment();return[e,Lw(t.path.popLast()),n]}function I_(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:b_(r.readTime),documentKey:Lw(r.documentKey.path),largestBatchId:r.largestBatchId}}var C_=function(){function e(){d(this,e)}return m(e,[{key:"getBundleMetadata",value:function(e,t){return P_(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:k_(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return P_(e).put({bundleId:(n=t).id,createTime:b_(fw(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return O_(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:S_(t.bundledQuery),readTime:k_(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return O_(e).put(function(e){return{name:e.name,readTime:b_(fw(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function P_(e){return f_(e,"bundles")}function O_(e){return f_(e,"namedQueries")}var R_=function(){function e(t,n){d(this,e),this.yt=t,this.userId=n}return m(e,[{key:"getOverlay",value:function(e,t){var n=this;return D_(e).get(T_(this.userId,t)).next((function(e){return e?E_(n.yt,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=zk();return $m.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new p_(t,a);i.push(r.oe(e,o))})),$m.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Lw(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(D_(e).Y("collectionPathOverlayIndex",i))})),$m.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=zk(),a=Lw(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return D_(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=C(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=E_(r.yt,a);i.set(o.getKey(),o)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=zk(),s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return D_(e).Z({index:"collectionGroupOverlayIndex",range:s},(function(e,t,n){var s=E_(a.yt,t);o.size()<r||s.largestBatchId===i?(o.set(s.getKey(),s),i=s.largestBatchId):n.done()})).next((function(){return o}))}},{key:"oe",value:function(e,t){return D_(e).put(function(e,t,n){var r=l(T_(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:xw(e.ie,n.mutation)}}(this.yt,this.userId,t))}}],[{key:"re",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function D_(e){return f_(e,"documentOverlays")}var N_=function(){function e(){d(this,e)}return m(e,[{key:"ue",value:function(e,t){this.ce(e,t),t.ae()}},{key:"ce",value:function(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(kg(e.integerValue));else if("doubleValue"in e){var n=kg(e.doubleValue);isNaN(n)?this.he(t,13):(this.he(t,15),vg(n)?t.le(0):t.le(n))}else if("timestampValue"in e){var r=e.timestampValue;this.he(t,20),"string"==typeof r?t.fe(r):(t.fe("".concat(r.seconds||"")),t.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(wg(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.he(t,45),t.le(i.latitude||0),t.le(i.longitude||0)}else"mapValue"in e?zg(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):fm()}},{key:"de",value:function(e,t){this.he(t,25),this.pe(e,t)}},{key:"pe",value:function(e,t){t.fe(e)}},{key:"ge",value:function(e,t){var n=e.fields||{};this.he(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.de(a,t),this.ce(n[a],t)}}},{key:"ye",value:function(e,t){var n=e.values||[];this.he(t,50);var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ce(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"me",value:function(e,t){var n=this;this.he(t,37),Mm.fromName(e).path.forEach((function(e){n.he(t,60),n.pe(e,t)}))}},{key:"he",value:function(e,t){e.le(t)}},{key:"_e",value:function(e){e.le(2)}}]),e}();function A_(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function j_(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=A_(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}N_.Ie=new N_;var M_=function(){function e(){d(this,e),this.buffer=new Uint8Array(1024),this.position=0}return m(e,[{key:"Te",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ee(n.value),n=t.next();this.Ae()}},{key:"Re",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.be(n.value),n=t.next();this.Pe()}},{key:"ve",value:function(e){var t,n=C(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ee(i);else if(i<2048)this.Ee(960|i>>>6),this.Ee(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ee(480|i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i);else{var a=r.codePointAt(0);this.Ee(240|a>>>18),this.Ee(128|63&a>>>12),this.Ee(128|63&a>>>6),this.Ee(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ae()}},{key:"Ve",value:function(e){var t,n=C(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.be(i);else if(i<2048)this.be(960|i>>>6),this.be(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.be(480|i>>>12),this.be(128|63&i>>>6),this.be(128|63&i);else{var a=r.codePointAt(0);this.be(240|a>>>18),this.be(128|63&a>>>12),this.be(128|63&a>>>6),this.be(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Pe()}},{key:"Se",value:function(e){var t=this.De(e),n=j_(t);this.Ce(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"xe",value:function(e){var t=this.De(e),n=j_(t);this.Ce(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Ne",value:function(){this.ke(255),this.ke(255)}},{key:"Oe",value:function(){this.Me(255),this.Me(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Fe",value:function(){return this.buffer.slice(0,this.position)}},{key:"De",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ee",value:function(e){var t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}},{key:"be",value:function(e){var t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}},{key:"Ae",value:function(){this.ke(0),this.ke(1)}},{key:"Pe",value:function(){this.Me(0),this.Me(1)}},{key:"ke",value:function(e){this.Ce(1),this.buffer[this.position++]=e}},{key:"Me",value:function(e){this.Ce(1),this.buffer[this.position++]=~e}},{key:"Ce",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),L_=function(){function e(t){d(this,e),this.$e=t}return m(e,[{key:"we",value:function(e){this.$e.Te(e)}},{key:"fe",value:function(e){this.$e.ve(e)}},{key:"le",value:function(e){this.$e.Se(e)}},{key:"ae",value:function(){this.$e.Ne()}}]),e}(),F_=function(){function e(t){d(this,e),this.$e=t}return m(e,[{key:"we",value:function(e){this.$e.Re(e)}},{key:"fe",value:function(e){this.$e.Ve(e)}},{key:"le",value:function(e){this.$e.xe(e)}},{key:"ae",value:function(){this.$e.Oe()}}]),e}(),U_=function(){function e(){d(this,e),this.$e=new M_,this.Be=new L_(this.$e),this.Le=new F_(this.$e)}return m(e,[{key:"seed",value:function(e){this.$e.seed(e)}},{key:"qe",value:function(e){return 0===e?this.Be:this.Le}},{key:"Fe",value:function(){return this.$e.Fe()}},{key:"reset",value:function(){this.$e.reset()}}]),e}(),V_=function(){function e(t,n,r,i){d(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return m(e,[{key:"Ue",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function z_(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=q_(e.arrayValue,t.arrayValue))?n:0!==(n=q_(e.directionalValue,t.directionalValue))?n:Mm.comparator(e.documentKey,t.documentKey)}function q_(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var B_=function(){function e(t){d(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ke=t.orderBy,this.Ge=[];var n,r=C(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Qe=i:this.Ge.push(i)}}catch(a){r.e(a)}finally{r.f()}}return m(e,[{key:"je",value:function(e){hm(e.collectionGroup===this.collectionId);var t=Fm(e);if(void 0!==t&&!this.We(t))return!1;for(var n=Um(e),r=0,i=0;r<n.length&&this.We(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Qe){var a=n[r];if(!this.ze(this.Qe,a)||!this.He(this.Ke[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ke.length||!this.He(this.Ke[i++],o))return!1}return!0}},{key:"We",value:function(e){var t,n=C(this.Ge);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.ze(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"ze",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"He",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function W_(e){var t,n;if(hm(e instanceof $g||e instanceof Xg),e instanceof $g){if(e instanceof fb){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return $g.create(e.field,"==",t)})))||[];return Xg.create(r,"or")}return e}var i=e.filters.map((function(e){return W_(e)}));return Xg.create(i,e.op)}function H_(e){if(0===e.getFilters().length)return[];var t=Q_(W_(e));return hm(Y_(t)),G_(t)||K_(t)?[t]:t.getFilters()}function G_(e){return e instanceof $g}function K_(e){return e instanceof Xg&&eb(e)}function Y_(e){return G_(e)||K_(e)||function(e){if(e instanceof Xg&&Zg(e)){var t,n=C(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!G_(r)&&!K_(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function Q_(e){if(hm(e instanceof $g||e instanceof Xg),e instanceof $g)return e;if(1===e.filters.length)return Q_(e.filters[0]);var t=e.filters.map((function(e){return Q_(e)})),n=Xg.create(t,e.op);return Y_(n=J_(n))?n:(hm(n instanceof Xg),hm(Jg(n)),hm(n.filters.length>1),n.filters.reduce((function(e,t){return $_(e,t)})))}function $_(e,t){var n;return hm(e instanceof $g||e instanceof Xg),hm(t instanceof $g||t instanceof Xg),n=e instanceof $g?t instanceof $g?function(e,t){return Xg.create([e,t],"and")}(e,t):X_(e,t):t instanceof $g?X_(t,e):function(e,t){if(hm(e.filters.length>0&&t.filters.length>0),Jg(e)&&Jg(t))return ib(e,t.getFilters());var n=Zg(e)?e:t,r=Zg(e)?t:e,i=n.filters.map((function(e){return $_(e,r)}));return Xg.create(i,"or")}(e,t),J_(n)}function X_(e,t){if(Jg(t))return ib(t,e.getFilters());var n=t.filters.map((function(t){return $_(e,t)}));return Xg.create(n,"or")}function J_(e){if(hm(e instanceof $g||e instanceof Xg),e instanceof $g)return e;var t=e.getFilters();if(1===t.length)return J_(t[0]);if(tb(e))return e;var n=t.map((function(e){return J_(e)})),r=[];return n.forEach((function(t){t instanceof $g?r.push(t):t instanceof Xg&&(t.op===e.op?r.push.apply(r,h(t.filters)):r.push(t))})),1===r.length?r[0]:Xg.create(r,e.op)}var Z_=function(){function e(){d(this,e),this.Je=new ex}return m(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Je.add(t),$m.resolve()}},{key:"getCollectionParents",value:function(e,t){return $m.resolve(this.Je.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return $m.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return $m.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return $m.resolve(null)}},{key:"getIndexType",value:function(e,t){return $m.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return $m.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return $m.resolve(null)}},{key:"getMinOffset",value:function(e,t){return $m.resolve(Wm.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return $m.resolve(Wm.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return $m.resolve()}},{key:"updateIndexEntries",value:function(e,t){return $m.resolve()}}]),e}(),ex=function(){function e(){d(this,e),this.index={}}return m(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new bb(Nm.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new bb(Nm.comparator)).toArray()}}]),e}(),tx=new Uint8Array(0),nx=function(){function e(t,n){d(this,e),this.user=t,this.databaseId=n,this.Ye=new ex,this.Xe=new jk((function(e){return Cb(e)}),(function(e,t){return Pb(e,t)})),this.uid=t.uid||""}return m(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ye.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ye.add(t)}));var a={collectionId:r,parent:Lw(i)};return rx(e).put(a)}return $m.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Pm(t),""],!1,!0);return rx(e).W(r).next((function(e){var r,i=C(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Vw(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=ax(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=ox(e);return a.next((function(e){o.put(I_(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=ax(e),r=ox(e),i=ix(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=ix(e),i=!0,a=new Map;return $m.forEach(this.Ze(t),(function(t){return n.tn(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Gk(),o=[];return $m.forEach(a,(function(i,a){var s;sm("IndexedDbIndexManager","Using index ".concat((s=i,"id=".concat(s.indexId,"|cg=").concat(s.collectionGroup,"|f=").concat(s.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(Cb(t)));var u=function(e,t){var n=Fm(t);if(void 0===n)return null;var r,i=C(Rb(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=C(Um(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=C(Rb(e,o.fieldPath));try{for(s.s();!(a=s.n()).done;){var u=a.value;switch(u.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),u.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),u.value),Array.from(r.values())}}}catch(c){s.e(c)}finally{s.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=C(Um(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?Db(e,o.fieldPath,e.startAt):Nb(e,o.fieldPath,e.startAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new Gg(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=C(Um(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?Nb(e,o.fieldPath,e.endAt):Db(e,o.fieldPath,e.endAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new Gg(r,i)}(a,i),h=n.en(i,a,l),d=n.en(i,a,f),p=n.nn(i,a,c),v=n.sn(i.indexId,u,h,l.inclusive,d,f.inclusive,p);return $m.forEach(v,(function(n){return r.J(n,t.limit).next((function(t){t.forEach((function(t){var n=Mm.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return $m.resolve(null)}))}},{key:"Ze",value:function(e){var t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:H_(Xg.create(e.filters,"and")).map((function(t){return Ib(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.Xe.set(e,t),t)}},{key:"sn",value:function(e,t,n,r,i,a,o){for(var s=this,u=(null!=t?t.length:1)*Math.max(n.length,i.length),c=u/(null!=t?t.length:1),l=[],f=function(){var u=t?s.rn(t[d/c]):tx,f=s.on(e,u,n[d%c],r),p=s.un(e,u,i[d%c],a),v=o.map((function(t){return s.on(e,u,t,!0)}));l.push.apply(l,h(s.createRange(f,p,v)))},d=0;d<u;++d)f();return l}},{key:"on",value:function(e,t,n,r){var i=new V_(e,Mm.empty(),t,n);return r?i:i.Ue()}},{key:"un",value:function(e,t,n,r){var i=new V_(e,Mm.empty(),t,n);return r?i.Ue():i}},{key:"tn",value:function(e,t){var n=new B_(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=C(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.je(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.Ze(t);return $m.forEach(i,(function(t){return n.tn(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new bb(jm.comparator),r=!1,i=C(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=C(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var s=a.value;s.field.isKeyField()||("array-contains"===s.op||"array-contains-any"===s.op?r=!0:n=n.add(s.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var u,c=C(e.orderBy);try{for(c.s();!(u=c.n()).done;){var l=u.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"cn",value:function(e,t){var n,r=new U_,i=C(Um(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var s=r.qe(a.kind);N_.Ie.ue(o,s)}}catch(u){i.e(u)}finally{i.f()}return r.Fe()}},{key:"rn",value:function(e){var t=new U_;return N_.Ie.ue(e,t.qe(0)),t.Fe()}},{key:"an",value:function(e,t){var n=new U_;return N_.Ie.ue(Ag(this.databaseId,t),n.qe(function(e){var t=Um(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Fe()}},{key:"nn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new U_);var i,a=0,o=C(Um(e));try{for(o.s();!(i=o.n()).done;){var s,u=i.value,c=n[a++],l=C(r);try{for(l.s();!(s=l.n()).done;){var f=s.value;if(this.hn(t,u.fieldPath)&&Mg(c))r=this.ln(r,u,c);else{var h=f.qe(u.kind);N_.Ie.ue(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.fn(r)}},{key:"en",value:function(e,t,n){return this.nn(e,t,n.position)}},{key:"fn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Fe();return t}},{key:"ln",value:function(e,t,n){var r,i=h(e),a=[],o=C(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var s,u=r.value,c=C(i);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=new U_;f.seed(l.Fe()),N_.Ie.ue(u,f.qe(t.kind)),a.push(f)}}catch(d){c.e(d)}finally{c.f()}}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"hn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof $g&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=ax(e),i=ox(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return $m.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new zm(t.sequenceNumber,new Wm(k_(t.readTime),new Mm(Vw(t.documentKey)),t.largestBatchId)):zm.empty(),r=e.fields.map((function(e){var t=l(e,2),n=t[0],r=t[1];return new Vm(jm.fromServerFormat(n),r)}));return new Lm(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Im(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=ax(e),a=ox(e);return this.dn(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return $m.forEach(t,(function(t){return a.put(I_(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return $m.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?$m.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),$m.forEach(a,(function(r){return n._n(e,t,r).next((function(t){var a=n.wn(i,r);return t.isEqual(a)?$m.resolve():n.mn(e,i,r,t,a)}))}))}))}))}},{key:"gn",value:function(e,t,n,r){return ix(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.an(n,t.key),documentKey:t.key.path.toArray()})}},{key:"yn",value:function(e,t,n,r){return ix(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.an(n,t.key),t.key.path.toArray()])}},{key:"_n",value:function(e,t,n){var r=ix(e),i=new bb(z_);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.an(n,t)])},(function(e,r){i=i.add(new V_(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"wn",value:function(e,t){var n=new bb(z_),r=this.cn(t,e);if(null==r)return n;var i=Fm(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Mg(a)){var o,s=C(a.arrayValue.values||[]);try{for(s.s();!(o=s.n()).done;){var u=o.value;n=n.add(new V_(t.indexId,e.key,this.rn(u),r))}}catch(c){s.e(c)}finally{s.f()}}}else n=n.add(new V_(t.indexId,e.key,tx,r));return n}},{key:"mn",value:function(e,t,n,r,i){var a=this;sm("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),s=wb(a),u=wb(o);s||u;){var c=!1,l=!1;if(s&&u){var f=n(s,u);f<0?l=!0:f>0&&(c=!0)}else null!=s?l=!0:c=!0;c?(r(u),u=wb(o)):l?(i(s),s=wb(a)):(s=wb(a),u=wb(o))}}(r,i,z_,(function(r){o.push(a.gn(e,t,n,r))}),(function(r){o.push(a.yn(e,t,n,r))})),$m.waitFor(o)}},{key:"dn",value:function(e){var t=1;return ox(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return z_(e,t)})).filter((function(e,t,n){return!t||0!==z_(e,n[t-1])}));var r=[];r.push(e);var i,a=C(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=z_(o,e),u=z_(o,t);if(0===s)r[0]=e.Ue();else if(s>0&&u<0)r.push(o),r.push(o.Ue());else if(u>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.pn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,tx,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,tx,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"pn",value:function(e,t){return z_(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(sx)}},{key:"getMinOffset",value:function(e,t){var n=this;return $m.mapArray(this.Ze(t),(function(t){return n.tn(e,t).next((function(e){return e||fm()}))})).next(sx)}}]),e}();function rx(e){return f_(e,"collectionParents")}function ix(e){return f_(e,"indexEntries")}function ax(e){return f_(e,"indexConfiguration")}function ox(e){return f_(e,"indexState")}function sx(e){hm(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;Hm(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Wm(t.readTime,t.documentKey,n)}var ux={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cx=function(){function e(t,n,r){d(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return m(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function lx(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.Z({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){hm(1===s)})));var c,l=[],f=C(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Bw(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return $m.waitFor(a).next((function(){return l}))}function fx(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw fm();t=e.noDocument}return JSON.stringify(t).length}cx.DEFAULT_COLLECTION_PERCENTILE=10,cx.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cx.DEFAULT=new cx(41943040,cx.DEFAULT_COLLECTION_PERCENTILE,cx.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cx.DISABLED=new cx(-1,0,0);var hx=function(){function e(t,n,r,i){d(this,e),this.userId=t,this.yt=n,this.indexManager=r,this.referenceDelegate=i,this.In={}}return m(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return px(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=vx(e),o=px(e);return o.add({}).next((function(s){hm("number"==typeof s);var u,c=new h_(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return xw(e.ie,t)})),i=n.mutations.map((function(t){return xw(e.ie,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.yt,i.userId,c),f=[],h=new bb((function(e,t){return Im(e.canonicalString(),t.canonicalString())})),d=C(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=Bw(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Ww))}}catch(y){d.e(y)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.In[s]=c.keys()})),$m.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return px(e).get(t).next((function(e){return e?(hm(e.userId===n.userId),w_(n.yt,e)):null}))}},{key:"Tn",value:function(e,t){var n=this;return this.In[t]?$m.resolve(this.In[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.In[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return px(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(hm(t.batchId>=r),a=w_(n.yt,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return px(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return px(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return w_(t.yt,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=qw(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return vx(e).Z({range:i},(function(r,i,o){var s=l(r,3),u=s[0],c=s[1],f=s[2],h=Vw(c);if(u===n.userId&&t.path.isEqual(h))return px(e).get(f).next((function(e){if(!e)throw fm();hm(e.userId===n.userId),a.push(w_(n.yt,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new bb(Im),i=[];return t.forEach((function(t){var a=qw(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=vx(e).Z({range:o},(function(e,i,a){var o=l(e,3),s=o[0],u=o[1],c=o[2],f=Vw(u);s===n.userId&&t.path.isEqual(f)?r=r.add(c):a.done()}));i.push(s)})),$m.waitFor(i).next((function(){return n.En(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=qw(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new bb(Im);return vx(e).Z({range:o},(function(e,t,a){var o=l(e,3),u=o[0],c=o[1],f=o[2],h=Vw(c);u===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(f)):a.done()})).next((function(){return n.En(e,s)}))}},{key:"En",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(px(e).get(t).next((function(e){if(null===e)throw fm();hm(e.userId===n.userId),r.push(w_(n.yt,e))})))})),$m.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return lx(e.se,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.An(t.batchId)})),$m.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"An",value:function(e){delete this.In[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return $m.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return vx(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Vw(e[1]);i.push(a)}else r.done()})).next((function(){hm(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return dx(e,this.userId,t)}},{key:"Rn",value:function(e){var t=this;return yx(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"re",value:function(t,n,r,i){return hm(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function dx(e,t,n){var r=qw(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return vx(e).Z({range:a,X:!0},(function(e,n,r){var a=l(e,3),s=a[0],u=a[1];a[2];s===t&&u===i&&(o=!0),r.done()})).next((function(){return o}))}function px(e){return f_(e,"mutations")}function vx(e){return f_(e,"documentMutations")}function yx(e){return f_(e,"mutationQueues")}var mx=function(){function e(t){d(this,e),this.bn=t}return m(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}(),gx=function(){function e(t,n){d(this,e),this.referenceDelegate=t,this.yt=n}return m(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Vn(e).next((function(n){var r=new mx(n.highestTargetId);return n.highestTargetId=r.next(),t.Sn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Vn(e).next((function(e){return Rm.fromTimestamp(new Om(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Vn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Vn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Sn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Dn(e,t).next((function(){return n.Vn(e).next((function(r){return r.targetCount+=1,n.Cn(t,r),n.Sn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Dn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return bx(e).delete(t.targetId)})).next((function(){return n.Vn(e)})).next((function(t){return hm(t.targetCount>0),t.targetCount-=1,n.Sn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return bx(e).Z((function(o,s){var u=__(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return $m.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return bx(e).Z((function(e,n){var r=__(n);t(r)}))}},{key:"Vn",value:function(e){return kx(e).get("targetGlobalKey").next((function(e){return hm(null!==e),e}))}},{key:"Sn",value:function(e,t){return kx(e).put("targetGlobalKey",t)}},{key:"Dn",value:function(e,t){return bx(e).put(x_(this.yt,t))}},{key:"Cn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Vn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Cb(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return bx(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=__(n);Pb(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=wx(e);return t.forEach((function(t){var o=Lw(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),$m.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=wx(e);return $m.forEach(t,(function(t){var a=Lw(t.path);return $m.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=wx(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=wx(e),i=Gk();return r.Z({range:n,X:!0},(function(e,t,n){var r=Vw(e[1]),a=new Mm(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Lw(t.path),r=IDBKeyRange.bound([n],[Pm(n)],!1,!0),i=0;return wx(e).Z({index:"documentTargetsIndex",X:!0,range:r},(function(e,t,n){var r=l(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"ne",value:function(e,t){return bx(e).get(t).next((function(e){return e?__(e):null}))}}]),e}();function bx(e){return f_(e,"targets")}function kx(e){return f_(e,"targetGlobal")}function wx(e){return f_(e,"targetDocuments")}function _x(e,t){var n=l(e,2),r=n[0],i=n[1],a=l(t,2),o=a[0],s=a[1],u=Im(r,o);return 0===u?Im(i,s):u}var xx=function(){function e(t){d(this,e),this.xn=t,this.buffer=new bb(_x),this.Nn=0}return m(e,[{key:"kn",value:function(){return++this.Nn}},{key:"On",value:function(e){var t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();_x(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Sx=function(){function e(t,n,r){d(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Mn=null}return m(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}},{key:"stop",value:function(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}},{key:"started",get:function(){return null!==this.Mn}},{key:"Fn",value:function(e){var t=this;sm("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,Xe(Qe().mark((function e(){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Mn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!tg(e.t0)){e.next=12;break}sm("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,Ym(e.t0);case 14:return e.next=16,t.Fn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),Ex=function(){function e(t,n){d(this,e),this.$n=t,this.params=n}return m(e,[{key:"calculateTargetCount",value:function(e,t){return this.$n.Bn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return $m.resolve(ug.at);var r=new xx(t);return this.$n.forEachTarget(e,(function(e){return r.On(e.sequenceNumber)})).next((function(){return n.$n.Ln(e,(function(e){return r.On(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.$n.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.$n.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(sm("LruGarbageCollector","Garbage collection skipped; disabled"),$m.resolve(ux)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(sm("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),ux):n.qn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.$n.getCacheSize(e)}},{key:"qn",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(sm("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),om()<=hi.DEBUG&&sm("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),$m.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),Tx=function(){function e(t,n){d(this,e),this.db=t,this.garbageCollector=function(e,t){return new Ex(e,t)}(this,n)}return m(e,[{key:"Bn",value:function(e){var t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Un",value:function(e){var t=0;return this.Ln(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Ln",value:function(e,t){return this.Kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Ix(e,n)}},{key:"removeReference",value:function(e,t,n){return Ix(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Ix(e,t)}},{key:"Gn",value:function(e,t){return function(e,t){var n=!1;return yx(e).tt((function(r){return dx(e,r,t).next((function(e){return e&&(n=!0),$m.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Kn(e,(function(o,s){if(s<=t){var u=n.Gn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Rm.min()),wx(e).delete([0,Lw(o.path)])}))}));i.push(u)}})).next((function(){return $m.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Ix(e,t)}},{key:"Kn",value:function(e,t){var n,r=wx(e),i=ug.at;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=l(e,2),o=a[0],s=(a[1],r.path),u=r.sequenceNumber;0===o?(i!==ug.at&&t(new Mm(Vw(n)),i),i=u,n=s):i=ug.at})).next((function(){i!==ug.at&&t(new Mm(Vw(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Ix(e,t){return wx(e).put(function(e,t){return{targetId:0,path:Lw(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Cx=function(){function e(){d(this,e),this.changes=new jk((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return m(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Eb.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?$m.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Px=function(){function e(t){d(this,e),this.yt=t}return m(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Nx(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Nx(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],g_(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Eb.newInvalidDocument(t);return Nx(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Ax(t))},(function(e,i){r=n.jn(t,i)})).next((function(){return r}))}},{key:"Wn",value:function(e,t){var n=this,r={size:0,document:Eb.newInvalidDocument(t)};return Nx(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Ax(t))},(function(e,i){r={document:n.jn(t,i),size:fx(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Lk();return this.zn(e,t,(function(e,t){var i=n.jn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Hn",value:function(e,t){var n=this,r=Lk(),i=new yb(Mm.comparator);return this.zn(e,t,(function(e,t){var a=n.jn(e,t);r=r.insert(e,a),i=i.insert(e,fx(t))})).next((function(){return{documents:r,Jn:i}}))}},{key:"zn",value:function(e,t,n){if(t.isEmpty())return $m.resolve();var r=new bb(Mx);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(Ax(r.first()),Ax(r.last())),a=r.getIterator(),o=a.getNext();return Nx(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Mm.fromSegments([].concat(h(t.prefixPath),[t.collectionGroup,t.documentId]));o&&Mx(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.j(Ax(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),g_(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Nx(e).W(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=Lk(),i=C(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.jn(Mm.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(s){i.e(s)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Lk(),o=jx(t,n),s=jx(t,Wm.max());return Nx(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},(function(e,t,n){var o=i.jn(Mm.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new Rx(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Dx(e).get("remoteDocumentGlobalKey").next((function(e){return hm(!!e),e}))}},{key:"Qn",value:function(e,t){return Dx(e).put("remoteDocumentGlobalKey",t)}},{key:"jn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=ww(e.ie,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Mm.fromSegments(t.noDocument.path),i=k_(t.noDocument.readTime);n=Eb.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return fm();var a=Mm.fromSegments(t.unknownDocument.path),o=k_(t.unknownDocument.version);n=Eb.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Om(e[0],e[1]);return Rm.fromTimestamp(t)}(t.readTime)),n}(this.yt,t);if(!n.isNoDocument()||!n.version.isEqual(Rm.min()))return n}return Eb.newInvalidDocument(e)}}]),e}();function Ox(e){return new Px(e)}var Rx=function(e){b(n,e);var t=S(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).Yn=e,i.trackRemovals=r,i.Xn=new jk((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return m(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new bb((function(e,t){return Im(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.Xn.get(a);if(n.push(t.Yn.removeEntry(e,a,s.readTime)),o.isValidDocument()){var u=m_(t.Yn.yt,o);i=i.add(a.path.popLast());var c=fx(u);r+=c-s.size,n.push(t.Yn.addEntry(e,a,u))}else if(r-=s.size,t.trackRemovals){var l=m_(t.Yn.yt,o.convertToNoDocument(Rm.min()));n.push(t.Yn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Yn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Yn.updateMetadata(e,r)),$m.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Yn.Wn(e,t).next((function(e){return n.Xn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Yn.Hn(e,t).next((function(e){var t=e.documents;return e.Jn.forEach((function(e,r){n.Xn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(Cx);function Dx(e){return f_(e,"remoteDocumentGlobal")}function Nx(e){return f_(e,"remoteDocumentsV14")}function Ax(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function jx(e,t){var n=t.documentKey.path.toArray();return[e,g_(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Mx(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Im(n[a],r[a]))return i;return(i=Im(n.length,r.length))||((i=Im(n[n.length-2],r[r.length-2]))||Im(n[n.length-1],r[r.length-1]))}var Lx=m((function e(t,n){d(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Fx=function(){function e(t,n,r,i){d(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return m(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&kk(r.mutation,e,_b.empty(),Om.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Gk()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Gk(),i=zk();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Uk();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=zk();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Gk())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Lk(),a=Bk(),o=Bk();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Sk)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),kk(o.mutation,t,o.mutation.getFieldMask(),Om.now())):a.set(t.key,_b.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new Lx(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Bk(),i=new yb((function(e,t){return e-t})),a=Gk();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=C(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||_b.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||Gk()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=qk();c.forEach((function(e){if(!a.has(e)){var n=gk(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return $m.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Mm.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Vb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):$m.resolve(zk()),s=-1,u=a;return o.next((function(t){return $m.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?$m.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,Gk())})).next((function(e){return{batchId:s,changes:Vk(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Mm(t)).next((function(e){var t=Uk();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Uk();return this.indexManager.getCollectionParents(e,i).next((function(o){return $m.forEach(o,(function(o){var s=function(e,t){return new Ab(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,Eb.newInvalidDocument(n)))}));var n=Uk();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&kk(a.mutation,i,_b.empty(),Om.now()),Yb(t,i)&&(n=n.insert(r,i))})),n}))}}]),e}(),Ux=function(){function e(t){d(this,e),this.yt=t,this.Zn=new Map,this.ts=new Map}return m(e,[{key:"getBundleMetadata",value:function(e,t){return $m.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:fw(n.createTime)}),$m.resolve()}},{key:"getNamedQuery",value:function(e,t){return $m.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:S_(e.bundledQuery),readTime:fw(e.readTime)}}(t)),$m.resolve()}}]),e}(),Vx=function(){function e(){d(this,e),this.overlays=new yb(Mm.comparator),this.es=new Map}return m(e,[{key:"getOverlay",value:function(e,t){return $m.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=zk();return $m.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.oe(e,t,i)})),$m.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.es.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es.delete(n)),$m.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=zk(),i=t.length+1,a=new Mm(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return $m.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new yb((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=zk(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=zk(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return $m.resolve(u)}},{key:"oe",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new p_(t,n));var a=this.es.get(t);void 0===a&&(a=Gk(),this.es.set(t,a)),this.es.set(t,a.add(n.key))}}]),e}(),zx=function(){function e(){d(this,e),this.ns=new bb(qx.ss),this.rs=new bb(qx.os)}return m(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new qx(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new qx(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new Mm(new Nm([])),r=new qx(n,e),i=new qx(n,e+1),a=[];return this.rs.forEachInRange([r,i],(function(e){t.cs(e),a.push(e.key)})),a}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}},{key:"ds",value:function(e){var t=new Mm(new Nm([])),n=new qx(t,e),r=new qx(t,e+1),i=Gk();return this.rs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new qx(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),qx=function(){function e(t,n){d(this,e),this.key=t,this._s=n}return m(e,null,[{key:"ss",value:function(e,t){return Mm.comparator(e.key,t.key)||Im(e._s,t._s)}},{key:"os",value:function(e,t){return Im(e._s,t._s)||Mm.comparator(e.key,t.key)}}]),e}(),Bx=function(){function e(t,n){d(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new bb(qx.ss)}return m(e,[{key:"checkEmpty",value:function(e){return $m.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new h_(i,t,n,r);this.mutationQueue.push(a);var o,s=C(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.gs=this.gs.add(new qx(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return $m.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return $m.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),i=r<0?0:r;return $m.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return $m.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return $m.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new qx(t,0),i=new qx(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],(function(e){var t=n.ys(e._s);a.push(t)})),$m.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new bb(Im);return t.forEach((function(e){var t=new qx(e,0),i=new qx(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,i],(function(e){r=r.add(e._s)}))})),$m.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Mm.isDocumentKey(i)||(i=i.child(""));var a=new qx(new Mm(i),0),o=new bb(Im);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e._s)),!0)}),a),$m.resolve(this.Is(o))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;hm(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return $m.forEach(t.mutations,(function(i){var a=new qx(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new qx(t,0),r=this.gs.firstAfterOrEqual(n);return $m.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,$m.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Wx=function(){function e(t){d(this,e),this.Es=t,this.docs=new yb(Mm.comparator),this.size=0}return m(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return $m.resolve(n?n.document.mutableCopy():Eb.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Lk();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Eb.newInvalidDocument(e))})),$m.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=Lk(),i=new Mm(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value.document;if(!t.isPrefixOf(s.path))break;s.path.length>t.length+1||Hm(Bm(u),n)<=0||(r=r.insert(u.key,u.mutableCopy()))}return $m.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){fm()}},{key:"As",value:function(e,t){return $m.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Hx(this)}},{key:"getSize",value:function(e){return $m.resolve(this.size)}}]),e}(),Hx=function(e){b(n,e);var t=S(n);function n(e){var r;return d(this,n),(r=t.call(this)).Yn=e,r}return m(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Yn.addEntry(e,i)):t.Yn.removeEntry(r)})),$m.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(Cx),Gx=function(){function e(t){d(this,e),this.persistence=t,this.Rs=new jk((function(e){return Cb(e)}),Pb),this.lastRemoteSnapshotVersion=Rm.min(),this.highestTargetId=0,this.bs=0,this.Ps=new zx,this.targetCount=0,this.vs=mx.Pn()}return m(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),$m.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return $m.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return $m.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),$m.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),$m.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new mx(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,$m.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),$m.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,$m.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Rs.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Rs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),$m.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return $m.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return $m.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),$m.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),$m.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),$m.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return $m.resolve(n)}},{key:"containsKey",value:function(e,t){return $m.resolve(this.Ps.containsKey(t))}}]),e}(),Kx=function(){function e(t,n){var r=this;d(this,e),this.Vs={},this.overlays={},this.Ss=new ug(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new Gx(this),this.indexManager=new Z_,this.remoteDocumentCache=new Wx((function(e){return r.referenceDelegate.xs(e)})),this.yt=new y_(n),this.Ns=new Ux(this.yt)}return m(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Vx,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new Bx(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;sm("MemoryPersistence","Starting transaction:",e);var i=new Yx(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((function(e){return r.referenceDelegate.Os(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ms",value:function(e,t){return $m.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Yx=function(e){b(n,e);var t=S(n);function n(e){var r;return d(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return m(n)}(Km),Qx=function(){function e(t){d(this,e),this.persistence=t,this.Fs=new zx,this.$s=null}return m(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw fm()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),$m.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),$m.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),$m.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Os",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $m.forEach(this.Ls,(function(r){var i=Mm.fromPath(r);return t.qs(e,i).next((function(e){e||n.removeEntry(i,Rm.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.qs(e,t).next((function(e){e?n.Ls.delete(t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"qs",value:function(e,t){var n=this;return $m.or([function(){return $m.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ms(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}(),$x=function(){function e(t){d(this,e),this.yt=t}return m(e,[{key:"$",value:function(e,t,n,r){var i=this,a=new Xm("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",zw,{unique:!0}),e.createObjectStore("documentMutations")}(e),Xx(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=$m.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Xx(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Rm.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",zw,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return $m.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Us(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ks(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Gs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.js(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:n_});t.createIndex("collectionPathOverlayIndex",r_,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",i_,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Hw});t.createIndex("documentKeyIndex",Gw),t.createIndex("collectionGroupIndex",Kw)}(e)})).next((function(){return i.Ws(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.zs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Jw}).createIndex("sequenceNumberIndex",Zw,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:e_}).createIndex("documentKeyIndex",t_,{unique:!1})}(e)}))),o}},{key:"Ks",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=fx(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Us",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return $m.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return $m.forEach(r,(function(r){hm(r.userId===n.userId);var i=w_(t.yt,r);return lx(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Gs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new Nm(n),o=function(e){return[0,Lw(e)]}(a);r.push(t.get(o).next((function(n){return n?$m.resolve():function(n){return t.put({targetId:0,path:Lw(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return $m.waitFor(r)}))}))}},{key:"Qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Xw});var n=t.store("collectionParents"),r=new ex,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Lw(i)})}};return t.store("remoteDocuments").Z({X:!0},(function(e,t){var n=new Nm(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({X:!0},(function(e,t){var n=l(e,3),r=(n[0],n[1]),a=(n[2],Vw(r));return i(a.popLast())}))}))}},{key:"js",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=__(r),a=x_(t.yt,i);return n.put(a)}))}},{key:"Ws",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Mm(Nm.fromString(i.document.name).popFirst(5)):i.noDocument?Mm.fromSegments(i.noDocument.path):i.unknownDocument?Mm.fromSegments(i.unknownDocument.path):fm()).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(s))})).next((function(){return $m.waitFor(r)}))}},{key:"zs",value:function(e,t){var n=this,r=t.store("mutations"),i=Ox(this.yt),a=new Kx(Qx.Bs,this.yt.ie);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:Gk();w_(n.yt,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),$m.forEach(r,(function(e,r){var o=new rm(r),s=R_.re(n.yt,o),u=a.getIndexManager(o),c=hx.re(o,n.yt,u,a.referenceDelegate);return new Fx(i,c,s,u).recalculateAndSaveOverlaysForDocumentKeys(new l_(t,ug.at),e).next()}))}))}}]),e}();function Xx(e){e.createObjectStore("targetDocuments",{keyPath:Qw}).createIndex("documentTargetsIndex",$w,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Yw,{unique:!0}),e.createObjectStore("targetGlobal")}var Jx="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Zx=function(){function e(t,n,r,i,a,o,s,u,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(d(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Hs=a,this.window=o,this.document=s,this.Js=c,this.Ys=l,this.Xs=f,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=function(e){return Promise.resolve()},!e.C())throw new vm(pm.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Tx(this,i),this.ii=n+"main",this.yt=new y_(u),this.ri=new Jm(this.ii,this.Xs,new $x(this.yt)),this.Cs=new gx(this.referenceDelegate,this.yt),this.remoteDocumentCache=Ox(this.yt),this.Ns=new C_,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===l&&um("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return m(e,[{key:"start",value:function(){var e=this;return this.ui().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new vm(pm.FAILED_PRECONDITION,Jx);return e.ci(),e.ai(),e.hi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Cs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ss=new ug(t,e.Js)})).then((function(){e.Ds=!0})).catch((function(t){return e.ri&&e.ri.close(),Promise.reject(t)}))}},{key:"li",value:function(e){var t=this;return this.si=function(){var n=Xe(Qe().mark((function n(r){return Qe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ri.L(function(){var t=Xe(Qe().mark((function t(n){return Qe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget(Xe(Qe().mark((function e(){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ui();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ui",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return tS(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.fi(t).next((function(t){t||(e.isPrimary=!1,e.Hs.enqueueRetryable((function(){return e.si(!1)})))}))})).next((function(){return e.di(t)})).next((function(n){return e.isPrimary&&!n?e._i(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(tg(t))return sm("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return sm("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Hs.enqueueRetryable((function(){return e.si(t)})),e.isPrimary=t}))}},{key:"fi",value:function(e){var t=this;return eS(e).get("owner").next((function(e){return $m.resolve(t.mi(e))}))}},{key:"gi",value:function(e){return tS(e).delete(this.clientId)}},{key:"yi",value:function(){var e=Xe(Qe().mark((function e(){var t,n,r,i,a=this;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.pi(this.ni,18e5)){e.next=6;break}return this.ni=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=f_(e,"clientMetadata");return t.W().next((function(e){var n=a.Ii(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return $m.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.oi){n=C(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.oi.removeItem(this.Ti(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hi",value:function(){var e=this;this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ui().then((function(){return e.yi()})).then((function(){return e.hi()}))}))}},{key:"mi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"di",value:function(e){var t=this;return this.Ys?$m.resolve(!0):eS(e).get("owner").next((function(n){if(null!==n&&t.pi(n.leaseTimestampMs,5e3)&&!t.Ei(n.ownerId)){if(t.mi(n)&&t.networkEnabled)return!0;if(!t.mi(n)){if(!n.allowTabSynchronization)throw new vm(pm.FAILED_PRECONDITION,Jx);return!1}}return!(!t.networkEnabled||!t.inForeground)||tS(e).W().next((function(e){return void 0===t.Ii(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&sm("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Xe(Qe().mark((function e(){var t=this;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),e.next=7,this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new l_(e,ug.at);return t._i(n).next((function(){return t.gi(n)}))}));case 7:this.ri.close(),this.Pi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ii",value:function(e,t){var n=this;return e.filter((function(e){return n.pi(e.updateTimeMs,t)&&!n.Ei(e.clientId)}))}},{key:"vi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return tS(t).W().next((function(t){return e.Ii(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ds}},{key:"getMutationQueue",value:function(e,t){return hx.re(e,this.yt,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new nx(e,this.yt.ie.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return R_.re(this.yt,e)}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;sm("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",s=15===(i=this.Xs)?c_:14===i?u_:13===i?s_:12===i?o_:11===i?a_:void fm();return this.ri.runTransaction(e,o,s,(function(i){return a=new l_(i,r.Ss?r.Ss.next():ug.at),"readwrite-primary"===t?r.fi(a).next((function(e){return!!e||r.di(a)})).next((function(t){if(!t)throw um("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Hs.enqueueRetryable((function(){return r.si(!1)})),new vm(pm.FAILED_PRECONDITION,Gm);return n(a)})).next((function(e){return r.wi(a).next((function(){return e}))})):r.Vi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Vi",value:function(e){var t=this;return eS(e).get("owner").next((function(e){if(null!==e&&t.pi(e.leaseTimestampMs,5e3)&&!t.Ei(e.ownerId)&&!t.mi(e)&&!(t.Ys||t.allowTabSynchronization&&e.allowTabSynchronization))throw new vm(pm.FAILED_PRECONDITION,Jx)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return eS(e).put("owner",t)}},{key:"_i",value:function(e){var t=this,n=eS(e);return n.get("owner").next((function(e){return t.mi(e)?(sm("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):$m.resolve()}))}},{key:"pi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(um("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ci",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=function(){e.Hs.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ui()}))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ri",value:function(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}},{key:"ai",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=function(){t.Ai(),!Or()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Hs.enterRestrictedMode(!0),t.Hs.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Zs))}},{key:"bi",value:function(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}},{key:"Ei",value:function(e){var t;try{var n=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return sm("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return um("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ai",value:function(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(hd){um("Failed to set zombie client id.",hd)}}},{key:"Pi",value:function(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(hd){}}},{key:"Ti",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return Jm.C()}}]),e}();function eS(e){return f_(e,"owner")}function tS(e){return f_(e,"clientMetadata")}function nS(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var rS=function(){function e(t,n,r,i){d(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}return m(e,null,[{key:"Ci",value:function(t,n){var r,i=Gk(),a=Gk(),o=C(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),iS=function(){function e(){d(this,e),this.xi=!1}return m(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.ki(e,t).next((function(a){return a||i.Oi(e,t,r,n)})).next((function(n){return n||i.Mi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if(Lb(t))return $m.resolve(null);var r=qb(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Wb(t,null,"F"),r=qb(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Gk.apply(void 0,h(i));return n.Ni.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Fi(t,i);return n.$i(t,o,a,r.readTime)?n.ki(e,Wb(t,null,"F")):n.Bi(e,o,t,r)}))}))})))}))}},{key:"Oi",value:function(e,t,n,r){var i=this;return Lb(t)||r.isEqual(Rm.min())?this.Mi(e,t):this.Ni.getDocuments(e,n).next((function(a){var o=i.Fi(t,a);return i.$i(t,o,n,r)?i.Mi(e,t):(om()<=hi.DEBUG&&sm("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Kb(t)),i.Bi(e,o,t,qm(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new bb($b(e));return t.forEach((function(t,r){Yb(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mi",value:function(e,t){return om()<=hi.DEBUG&&sm("QueryEngine","Using full collection scan to execute query:",Kb(t)),this.Ni.getDocumentsMatchingQuery(e,t,Wm.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),aS=function(){function e(t,n,r,i){d(this,e),this.persistence=t,this.Li=n,this.yt=i,this.qi=new yb(Im),this.Ui=new jk((function(e){return Cb(e)}),Pb),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return m(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Fx(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qi)}))}}]),e}();function oS(e,t,n,r){return new aS(e,t,n,r)}function sS(e,t){return uS.apply(this,arguments)}function uS(){return uS=Xe(Qe().mark((function e(t,n){var r;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=dm(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=Gk(),u=C(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,f=C(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){u.e(b)}finally{u.f()}var d,p=C(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var y,m=C(v.mutations);try{for(m.s();!(y=m.n()).done;){var g=y.value;s=s.add(g.key)}}catch(b){m.e(b)}finally{m.f()}}}catch(b){p.e(b)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{ji:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),uS.apply(this,arguments)}function cS(e,t){var n=dm(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=$m.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);hm(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Gk(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function lS(e){var t=dm(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function fS(e,t){var n=dm(e),r=t.snapshotVersion,i=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.qi;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Cs.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Cs.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?c=c.withResumeToken(mg.EMPTY_BYTE_STRING,Rm.min()).withLastLimboFreeSnapshotVersion(Rm.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.Cs.updateTargetData(e,c))}}));var s=Lk(),u=Gk();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(hS(e,a,t.documentUpdates).next((function(e){s=e.Wi,u=e.zi}))),!r.isEqual(Rm.min())){var c=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return $m.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.qi=i,e}))}function hS(e,t,n){var r=Gk(),i=Gk();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Lk();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Rm.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):sm("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Wi:r,zi:i}}))}function dS(e,t){var n=dm(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function pS(e,t){var n=dm(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(i){return i?(r=i,$m.resolve(r)):n.Cs.allocateTargetId(e).next((function(i){return r=new v_(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.qi.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qi=n.qi.insert(e.targetId,e),n.Ui.set(t,e.targetId)),e}))}function vS(e,t,n){return yS.apply(this,arguments)}function yS(){return yS=Xe(Qe().mark((function e(t,n,r){var i,a,o;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=dm(t),a=i.qi.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),tg(e.t1)){e.next=12;break}throw e.t1;case 12:sm("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qi=i.qi.remove(n),i.Ui.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),yS.apply(this,arguments)}function mS(e,t,n){var r=dm(e),i=Rm.min(),a=Gk();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=dm(e),i=r.Ui.get(n);return void 0!==i?$m.resolve(r.qi.get(i)):r.Cs.getTargetData(t,n)}(r,e,qb(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?i:Rm.min(),n?a:Gk())})).next((function(e){return kS(r,Qb(t),e),{documents:e,Hi:a}}))}))}function gS(e,t){var n=dm(e),r=dm(n.Cs),i=n.qi.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.ne(e,t).next((function(e){return e?e.target:null}))}))}function bS(e,t){var n=dm(e),r=n.Ki.get(t)||Rm.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Gi.getAllFromCollectionGroup(e,t,qm(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return kS(n,t,e),e}))}function kS(e,t,n){var r=e.Ki.get(t)||Rm.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}function wS(e,t,n,r){return _S.apply(this,arguments)}function _S(){return _S=Xe(Qe().mark((function e(t,n,r,i){var a,o,s,u,c,l,f,h,d,p;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=dm(t),o=Gk(),s=Lk(),u=C(r);try{for(u.s();!(c=u.n()).done;)l=c.value,f=n.Ji(l.metadata.name),l.document&&(o=o.add(f)),(h=n.Yi(l)).setReadTime(n.Xi(l.metadata.readTime)),s=s.insert(f,h)}catch(v){u.e(v)}finally{u.f()}return d=a.Gi.newChangeBuffer({trackRemovals:!0}),e.next=7,pS(a,function(e){return qb(Mb(Nm.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return hS(e,d,s).next((function(t){return d.apply(e),t})).next((function(t){return a.Cs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Cs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Wi,t.zi)})).next((function(){return t.Wi}))}))})));case 9:case"end":return e.stop()}}),e)}))),_S.apply(this,arguments)}function xS(e,t){return SS.apply(this,arguments)}function SS(){return SS=Xe(Qe().mark((function e(t,n){var r,i,a,o=arguments;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Gk(),e.next=3,pS(t,qb(S_(n.bundledQuery)));case 3:return i=e.sent,a=dm(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=fw(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ns.saveNamedQuery(e,n);var o=i.withResumeToken(mg.EMPTY_BYTE_STRING,t);return a.qi=a.qi.insert(o.targetId,o),a.Cs.updateTargetData(e,o).next((function(){return a.Cs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Cs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ns.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),SS.apply(this,arguments)}function ES(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function TS(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function IS(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var CS=function(){function e(t,n,r,i){d(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return m(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new vm(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(um("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),PS=function(){function e(t,n,r){d(this,e),this.targetId=t,this.state=n,this.error=r}return m(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new vm(i.error.code,i.error.message))),a?new e(t,i.state,r):(um("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),OS=function(){function e(t,n){d(this,e),this.clientId=t,this.activeTargetIds=n}return m(e,null,[{key:"Zi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Yk(),o=0;i&&o<r.activeTargetIds.length;++o)i=yg(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(um("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),RS=function(){function e(t,n){d(this,e),this.clientId=t,this.onlineState=n}return m(e,null,[{key:"Zi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(um("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),DS=function(){function e(){d(this,e),this.activeTargetIds=Yk()}return m(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),NS=function(){function e(t,n,r,i,a){d(this,e),this.window=t,this.Hs=n,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new yb(Im),this.started=!1,this.cr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=ES(this.persistenceKey,this.sr),this.hr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new DS),this.lr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.dr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this._r=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.wr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.mr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}return m(e,[{key:"start",value:function(){var e=Xe(Qe().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f,h=this;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.vi();case 2:t=e.sent,n=C(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.sr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(ES(this.persistenceKey,i)))&&(o=OS.Zi(i,a))&&(this.ur=this.ur.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.gr(),(s=this.storage.getItem(this.wr))&&(u=this.yr(s))&&this.pr(u),c=C(this.cr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.rr(f)}catch(d){c.e(d)}finally{c.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.hr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Ir(this.ur)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ur.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Tr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Tr(e,t,n),this.Er(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(IS(this.persistenceKey,e));if(n){var r=PS.Zi(e,n);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ar.nr(e),this.gr()}},{key:"isLocalQueryTarget",value:function(e){return this.Ar.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(IS(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Rr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Er(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.br(e)}},{key:"notifyBundleLoaded",value:function(e){this.Pr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return sm("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){sm("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){sm("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"rr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(sm("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ar)return void um("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable(Xe(Qe().mark((function e(){var r,i,a,o,s,u,c;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.lr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Vr(r,null));case 6:if(!(i=t.Sr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Vr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.dr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Dr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Cr(a));case 16:e.next=41;break;case 18:if(!t._r.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Nr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.wr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.yr(n.newValue))){e.next=30;break}return e.abrupt("return",t.pr(s));case 30:e.next=41;break;case 32:if(n.key!==t.hr){e.next=37;break}u=function(e){var t=ug.at;if(null!=e)try{var n=JSON.parse(e);hm("number"==typeof n),t=n}catch(e){um("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==ug.at&&t.sequenceNumberHandler(u),e.next=41;break;case 37:if(n.key!==t.mr){e.next=41;break}return c=t.Or(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Mr(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ar",get:function(){return this.ur.get(this.sr)}},{key:"gr",value:function(){this.setItem(this.ar,this.Ar.tr())}},{key:"Tr",value:function(e,t,n){var r=new CS(this.currentUser,e,t,n),i=TS(this.persistenceKey,this.currentUser,e);this.setItem(i,r.tr())}},{key:"Er",value:function(e){var t=TS(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"br",value:function(e){var t={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}},{key:"Rr",value:function(e,t,n){var r=IS(this.persistenceKey,e),i=new PS(e,t,n);this.setItem(r,i.tr())}},{key:"Pr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}},{key:"vr",value:function(e){var t=this.lr.exec(e);return t?t[1]:null}},{key:"Sr",value:function(e,t){var n=this.vr(e);return OS.Zi(n,t)}},{key:"Dr",value:function(e,t){var n=this.dr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return CS.Zi(new rm(i),r,t)}},{key:"Nr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]);return PS.Zi(r,t)}},{key:"yr",value:function(e){return RS.Zi(e)}},{key:"Or",value:function(e){return JSON.parse(e)}},{key:"Cr",value:function(){var e=Xe(Qe().mark((function e(t){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Fr(t.batchId,t.state,t.error));case 2:sm("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"kr",value:function(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}},{key:"Vr",value:function(e,t){var n=this,r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.Br(o,s).then((function(){n.ur=r}))}},{key:"pr",value:function(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Ir",value:function(e){var t=Yk();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),AS=function(){function e(){d(this,e),this.Lr=new DS,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return m(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.qr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.qr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.qr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new DS,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),jS=function(){function e(){d(this,e)}return m(e,[{key:"Ur",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),MS=function(){function e(){var t=this;d(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return m(e,[{key:"Ur",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){sm("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=C(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"jr",value:function(){sm("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=C(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),LS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},FS=function(){function e(t){d(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return m(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),US=function(e){b(n,e);var t=S(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return m(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new tm;o.setWithCredentials(!0),o.listenOnce($y.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Qy.NO_ERROR:var t=o.getResponseJson();sm("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Qy.TIMEOUT:sm("Connection",'RPC "'+e+'" timed out'),a(new vm(pm.DEADLINE_EXCEEDED,"Request time out"));break;case Qy.HTTP_ERROR:var n=o.getStatus();if(sm("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson();Array.isArray(r)&&(r=r[0]);var s=null==r?void 0:r.error;if(s&&s.status&&s.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(pm).indexOf(t)>=0?t:pm.UNKNOWN}(s.status);a(new vm(u,s.message))}else a(new vm(pm.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new vm(pm.UNAVAILABLE,"Connection failed."));break;default:fm()}}finally{sm("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Ky(),a=Yy(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Zy({})),this.lo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;var s=r.join("");sm("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),c=!1,l=!1,f=new FS({Hr:function(e){l?sm("Connection","Not sending because WebChannel is closed:",e):(c||(sm("Connection","Opening WebChannel transport."),u.open(),c=!0),sm("Connection","WebChannel sending:",e),u.send(e))},Jr:function(){return u.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(u,em.EventType.OPEN,(function(){l||sm("Connection","WebChannel transport opened.")})),h(u,em.EventType.CLOSE,(function(){l||(l=!0,sm("Connection","WebChannel transport closed"),f.io())})),h(u,em.EventType.ERROR,(function(e){l||(l=!0,cm("Connection","WebChannel transport errored:",e),f.io(new vm(pm.UNAVAILABLE,"The operation could not be completed")))})),h(u,em.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];hm(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){sm("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Ck[e];if(void 0!==t)return Ak(t)}(a),s=i.message;void 0===o&&(o=pm.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),l=!0,f.io(new vm(o,s)),u.close()}else sm("Connection","WebChannel received:",n),f.ro(n)}})),h(a,Xy.STAT_EVENT,(function(e){e.stat===Jy.PROXY?sm("Connection","Detected buffering proxy"):e.stat===Jy.NOPROXY&&sm("Connection","Detected no buffering proxy")})),setTimeout((function(){f.so()}),0),f}}]),n}(function(){function e(t){d(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return m(e,[{key:"co",get:function(){return!1}},{key:"ao",value:function(e,t,n,r,i){var a=this.ho(e,t);sm("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return sm("RestConnection","Received: ",e),e}),(function(t){throw cm("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i,a){return this.ao(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+im,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=LS[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());function VS(){return"undefined"!=typeof window?window:null}function zS(){return"undefined"!=typeof document?document:null}function qS(e){return new sw(e,!0)}var BS=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;d(this,e),this.Hs=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return m(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&sm("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),WS=function(){function e(t,n,r,i,a,o,s,u){d(this,e),this.Hs=t,this.vo=r,this.Vo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new BS(t,n)}return m(e,[{key:"No",value:function(){return 1===this.state||5===this.state||this.ko()}},{key:"ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=Xe(Qe().mark((function e(){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.No(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Mo",value:function(){this.state=0,this.xo.reset()}},{key:"Fo",value:function(){var e=this;this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,(function(){return e.$o()})))}},{key:"Bo",value:function(e){this.Lo(),this.stream.send(e)}},{key:"$o",value:function(){var e=Xe(Qe().mark((function e(){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"qo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"close",value:function(){var e=Xe(Qe().mark((function e(t,n){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lo(),this.qo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():n&&n.code===pm.RESOURCE_EXHAUSTED?(um(n.toString()),um("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===pm.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Uo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=l(t,2),i=r[0],a=r[1];e.So===n&&e.Go(i,a)}),(function(n){t((function(){var t=new vm(pm.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Qo(t)}))}))}},{key:"Go",value:function(e,t){var n=this,r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.Co=n.Hs.enqueueAfterDelay(n.Vo,1e4,(function(){return n.ko()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.Qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.xo.Ro(Xe(Qe().mark((function t(){return Qe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Qo",value:function(e){return sm("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Ko",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.So===e?n():(sm("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),HS=function(e){b(n,e);var t=S(n);function n(e,r,i,a,o,s){var u;return d(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).yt=o,u}return m(n,[{key:"jo",value:function(e,t){return this.connection.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.xo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:fm()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.wt?(hm(void 0===t||"string"==typeof t),mg.fromBase64String(t||"")):(hm(void 0===t||t instanceof Uint8Array),mg.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?pm.UNKNOWN:Ak(e.code);return new vm(t,e.message||"")}(o);n=new Zk(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=vw(e,u.document.name),l=fw(u.document.updateTime),f=u.document.createTime?fw(u.document.createTime):Rm.min(),h=new xb({mapValue:{fields:u.document.fields}}),d=Eb.newFoundDocument(c,l,f,h),p=u.targetIds||[],v=u.removedTargetIds||[];n=new Xk(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var y=t.documentDelete;y.document;var m=vw(e,y.document),g=y.readTime?fw(y.readTime):Rm.min(),b=Eb.newNoDocument(m,g),k=y.removedTargetIds||[];n=new Xk([],k,b.key,b)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var _=vw(e,w.document),x=w.removedTargetIds||[];n=new Xk([],x,_,null)}else{if(!("filter"in t))return fm();t.filter;var S=t.filter;S.targetId;var E=S.count||0,T=new Dk(E),I=S.targetId;n=new Jk(I,T)}return n}(this.yt,e),n=function(e){if(!("targetChange"in e))return Rm.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Rm.min():t.readTime?fw(t.readTime):Rm.min()}(e);return this.listener.Wo(t,n)}},{key:"zo",value:function(e){var t={};t.database=gw(this.yt),t.addTarget=function(e,t){var n,r=t.target;return(n=Ob(r)?{documents:Ew(e,r)}:{query:Tw(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=cw(e,t.resumeToken):t.snapshotVersion.compareTo(Rm.min())>0&&(n.readTime=uw(e,t.snapshotVersion.toTimestamp())),n}(this.yt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return fm()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.yt,e);n&&(t.labels=n),this.Bo(t)}},{key:"Ho",value:function(e){var t={};t.database=gw(this.yt),t.removeTarget=e,this.Bo(t)}}]),n}(WS),GS=function(e){b(n,e);var t=S(n);function n(e,r,i,a,o,s){var u;return d(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).yt=o,u.Jo=!1,u}return m(n,[{key:"Yo",get:function(){return this.Jo}},{key:"start",value:function(){this.Jo=!1,this.lastStreamToken=void 0,ja(k(n.prototype),"start",this).call(this)}},{key:"Uo",value:function(){this.Jo&&this.Xo([])}},{key:"jo",value:function(e,t){return this.connection.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(hm(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();var t=function(e,t){return e&&e.length>0?(hm(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?fw(e.updateTime):fw(t);return n.isEqual(Rm.min())&&(n=fw(t)),new pk(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=fw(e.commitTime);return this.listener.Zo(n,t)}return hm(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}},{key:"eu",value:function(){var e={};e.database=gw(this.yt),this.Bo(e)}},{key:"Xo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return xw(t.yt,e)}))};this.Bo(n)}}]),n}(WS),KS=function(e){b(n,e);var t=S(n);function n(e,r,i,a){var o;return d(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.yt=a,o.nu=!1,o}return m(n,[{key:"su",value:function(){if(this.nu)throw new vm(pm.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ao",value:function(e,t,n){var r=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=l(i,2),o=a[0],s=a[1];return r.connection.ao(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===pm.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new vm(pm.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n,r){var i=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=l(a,2),s=o[0],u=o[1];return i.connection._o(e,t,n,s,u,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===pm.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new vm(pm.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.nu=!0}}]),n}(function(){return m((function e(){d(this,e)}))}());var YS=function(){function e(t,n){d(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}return m(e,[{key:"uu",value:function(){var e=this;0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ru=null,e.au("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"hu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"au",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ou?(um(t),this.ou=!1):sm("OnlineStateTracker",t)}},{key:"lu",value:function(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}]),e}(),QS=m((function e(t,n,r,i,a){var o=this;d(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.Ur((function(e){r.enqueueAndForget(Xe(Qe().mark((function e(){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=oE(o),!e.t0){e.next=5;break}return sm("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Xe(Qe().mark((function e(t){var n;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=dm(t))._u.add(4),e.next=4,JS(n);case 4:return n.gu.set("Unknown"),n._u.delete(4),e.next=8,$S(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.gu=new YS(r,i)}));function $S(e){return XS.apply(this,arguments)}function XS(){return XS=Xe(Qe().mark((function e(t){var n,r,i;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!oE(t)){e.next=18;break}n=C(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),XS.apply(this,arguments)}function JS(e){return ZS.apply(this,arguments)}function ZS(){return ZS=Xe(Qe().mark((function e(t){var n,r,i;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=C(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),ZS.apply(this,arguments)}function eE(e,t){var n=dm(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),aE(n)?iE(n):jE(n).ko()&&nE(n,t))}function tE(e,t){var n=dm(e),r=jE(n);n.du.delete(t),r.ko()&&rE(n,t),0===n.du.size&&(r.ko()?r.Fo():oE(n)&&n.gu.set("Unknown"))}function nE(e,t){e.yu.Ot(t.targetId),jE(e).zo(t)}function rE(e,t){e.yu.Ot(t),jE(e).Ho(t)}function iE(e){e.yu=new tw({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ne:function(t){return e.du.get(t)||null}}),jE(e).start(),e.gu.uu()}function aE(e){return oE(e)&&!jE(e).No()&&e.du.size>0}function oE(e){return 0===dm(e)._u.size}function sE(e){e.yu=void 0}function uE(e){return cE.apply(this,arguments)}function cE(){return cE=Xe(Qe().mark((function e(t){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.du.forEach((function(e,n){nE(t,e)}));case 1:case"end":return e.stop()}}),e)}))),cE.apply(this,arguments)}function lE(e,t){return fE.apply(this,arguments)}function fE(){return fE=Xe(Qe().mark((function e(t,n){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:sE(t),aE(t)?(t.gu.hu(n),iE(t)):t.gu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),fE.apply(this,arguments)}function hE(e,t,n){return dE.apply(this,arguments)}function dE(){return dE=Xe(Qe().mark((function e(t,n,r){var i;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.gu.set("Online"),!(n instanceof Zk&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Xe(Qe().mark((function e(t,n){var r,i,a,o;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=C(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.du.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.du.delete(o),t.yu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),sm("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,pE(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Xk?t.yu.Kt(n):n instanceof Jk?t.yu.Jt(n):t.yu.jt(n),r.isEqual(Rm.min())){e.next=29;break}return e.prev=14,e.next=17,lS(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.yu.Zt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.du.get(t);if(n){e.du.set(t,n.withResumeToken(mg.EMPTY_BYTE_STRING,n.snapshotVersion)),rE(e,t);var r=new v_(n.target,t,1,n.sequenceNumber);nE(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),sm("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,pE(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),dE.apply(this,arguments)}function pE(e,t,n){return vE.apply(this,arguments)}function vE(){return vE=Xe(Qe().mark((function e(t,n,r){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(tg(n)){e.next=2;break}throw n;case 2:return t._u.add(1),e.next=5,JS(t);case 5:t.gu.set("Offline"),r||(r=function(){return lS(t.localStore)}),t.asyncQueue.enqueueRetryable(Xe(Qe().mark((function e(){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sm("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t._u.delete(1),e.next=6,$S(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),vE.apply(this,arguments)}function yE(e,t){return t().catch((function(n){return pE(e,n,t)}))}function mE(e){return gE.apply(this,arguments)}function gE(){return gE=Xe(Qe().mark((function e(t){var n,r,i,a;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=dm(t),r=ME(n),i=n.fu.length>0?n.fu[n.fu.length-1].batchId:-1;case 2:if(!bE(n)){e.next=19;break}return e.prev=3,e.next=6,dS(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.fu.length&&r.Fo(),e.abrupt("break",19);case 10:i=a.batchId,kE(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,pE(n,e.t0);case 17:e.next=2;break;case 19:wE(n)&&_E(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),gE.apply(this,arguments)}function bE(e){return oE(e)&&e.fu.length<10}function kE(e,t){e.fu.push(t);var n=ME(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function wE(e){return oE(e)&&!ME(e).No()&&e.fu.length>0}function _E(e){ME(e).start()}function xE(e){return SE.apply(this,arguments)}function SE(){return SE=Xe(Qe().mark((function e(t){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ME(t).eu();case 1:case"end":return e.stop()}}),e)}))),SE.apply(this,arguments)}function EE(e){return TE.apply(this,arguments)}function TE(){return TE=Xe(Qe().mark((function e(t){var n,r,i,a;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ME(t),r=C(t.fu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Xo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),TE.apply(this,arguments)}function IE(e,t,n){return CE.apply(this,arguments)}function CE(){return CE=Xe(Qe().mark((function e(t,n,r){var i,a;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.fu.shift(),a=d_.from(i,n,r),e.next=3,yE(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,mE(t);case 5:case"end":return e.stop()}}),e)}))),CE.apply(this,arguments)}function PE(e,t){return OE.apply(this,arguments)}function OE(){return OE=Xe(Qe().mark((function e(t,n){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&ME(t).Yo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Xe(Qe().mark((function e(t,n){var r,i;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Nk(i=n.code)||i===pm.ABORTED){e.next=7;break}return r=t.fu.shift(),ME(t).Mo(),e.next=5,yE(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,mE(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:wE(t)&&_E(t);case 5:case"end":return e.stop()}}),e)}))),OE.apply(this,arguments)}function RE(e,t){return DE.apply(this,arguments)}function DE(){return DE=Xe(Qe().mark((function e(t,n){var r,i;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=dm(t)).asyncQueue.verifyOperationInProgress(),sm("RemoteStore","RemoteStore received new credentials"),i=oE(r),r._u.add(3),e.next=6,JS(r);case 6:return i&&r.gu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r._u.delete(3),e.next=12,$S(r);case 12:case"end":return e.stop()}}),e)}))),DE.apply(this,arguments)}function NE(e,t){return AE.apply(this,arguments)}function AE(){return AE=Xe(Qe().mark((function e(t,n){var r;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=dm(t),!n){e.next=7;break}return r._u.delete(2),e.next=5,$S(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r._u.add(2),e.next=12,JS(r);case 12:r.gu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),AE.apply(this,arguments)}function jE(e){return e.pu||(e.pu=function(e,t,n){var r=dm(e);return r.su(),new HS(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)}(e.datastore,e.asyncQueue,{Yr:uE.bind(null,e),Zr:lE.bind(null,e),Wo:hE.bind(null,e)}),e.wu.push(function(){var t=Xe(Qe().mark((function t(n){return Qe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.pu.Mo(),aE(e)?iE(e):e.gu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.pu.stop();case 6:sE(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}function ME(e){return e.Iu||(e.Iu=function(e,t,n){var r=dm(e);return r.su(),new GS(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)}(e.datastore,e.asyncQueue,{Yr:xE.bind(null,e),Zr:PE.bind(null,e),tu:EE.bind(null,e),Zo:IE.bind(null,e)}),e.wu.push(function(){var t=Xe(Qe().mark((function t(n){return Qe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Iu.Mo(),t.next=4,mE(e);case 4:t.next=9;break;case 6:return t.next=8,e.Iu.stop();case 8:e.fu.length>0&&(sm("RemoteStore","Stopping write stream with ".concat(e.fu.length," pending writes")),e.fu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}var LE=function(){function e(t,n,r,i,a){d(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new ym,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return m(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new vm(pm.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function FE(e,t){if(um("AsyncQueue","".concat(t,": ").concat(e)),tg(e))return new vm(pm.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var UE=function(){function e(t){d(this,e),this.comparator=t?function(e,n){return t(e,n)||Mm.comparator(e.key,n.key)}:function(e,t){return Mm.comparator(e.key,t.key)},this.keyedMap=Uk(),this.sortedSet=new yb(this.comparator)}return m(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),VE=function(){function e(){d(this,e),this.Tu=new yb(Mm.comparator)}return m(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):fm():this.Tu=this.Tu.insert(t,e)}},{key:"Eu",value:function(){var e=[];return this.Tu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),zE=function(){function e(t,n,r,i,a,o,s,u,c){d(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=c}return m(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,UE.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),qE=m((function e(){d(this,e),this.Au=void 0,this.listeners=[]})),BE=m((function e(){d(this,e),this.queries=new jk((function(e){return Gb(e)}),Hb),this.onlineState="Unknown",this.Ru=new Set}));function WE(e,t){return HE.apply(this,arguments)}function HE(){return HE=Xe(Qe().mark((function e(t,n){var r,i,a,o,s;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=dm(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new qE),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Au=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=FE(e.t0,"Initialization of query '".concat(Kb(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.bu(r.onlineState),o.Au&&n.Pu(o.Au)&&$E(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),HE.apply(this,arguments)}function GE(e,t){return KE.apply(this,arguments)}function KE(){return KE=Xe(Qe().mark((function e(t,n){var r,i,a,o,s;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=dm(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),KE.apply(this,arguments)}function YE(e,t){var n,r=dm(e),i=!1,a=C(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=C(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Pu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.Au=o}}}catch(f){a.e(f)}finally{a.f()}i&&$E(r)}function QE(e,t,n){var r=dm(e),i=r.queries.get(t);if(i){var a,o=C(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function $E(e){e.Ru.forEach((function(e){e.next()}))}var XE=function(){function e(t,n,r){d(this,e),this.query=t,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}return m(e,[{key:"Pu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=C(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new zE(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),a=!0):this.Cu(e,this.onlineState)&&(this.xu(e),a=!0),this.Su=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}},{key:"Cu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Du",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"xu",value:function(e){e=zE.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}]),e}(),JE=function(){function e(t,n){d(this,e),this.ku=t,this.byteLength=n}return m(e,[{key:"Ou",value:function(){return"metadata"in this.ku}}]),e}(),ZE=function(){function e(t){d(this,e),this.yt=t}return m(e,[{key:"Ji",value:function(e){return vw(this.yt,e)}},{key:"Yi",value:function(e){return e.metadata.exists?ww(this.yt,e.document,!1):Eb.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}},{key:"Xi",value:function(e){return fw(e)}}]),e}(),eT=function(){function e(t,n,r){d(this,e),this.Mu=t,this.localStore=n,this.yt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=tT(t)}return m(e,[{key:"Fu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;var n=Nm.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"$u",value:function(e){var t,n=new Map,r=new ZE(this.yt),i=C(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.Ji(a.metadata.name),u=C(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||Gk()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Xe(Qe().mark((function e(){var t,n,r,i,a;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wS(this.localStore,new ZE(this.yt),this.documents,this.Mu.id);case 2:t=e.sent,n=this.$u(this.documents),r=C(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,xS(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function tT(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var nT=m((function e(t){d(this,e),this.key=t})),rT=m((function e(t){d(this,e),this.key=t})),iT=function(){function e(t,n){d(this,e),this.query=t,this.qu=n,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Gk(),this.mutatedKeys=Gk(),this.Gu=$b(t),this.Qu=new UE(this.Gu)}return m(e,[{key:"ju",get:function(){return this.qu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new VE,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Yb(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Hu(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Gu(f,u)>0||c&&n.Gu(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,$i:s,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Eu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fm()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],s=0===this.Ku.size&&this.current?1:0,u=s!==this.Uu;return this.Uu=s,0!==a.length||u?{snapshot:new zE(this.query,e.Qu,i,a,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new VE,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.qu=t.qu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.qu=t.qu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=Gk(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new rT(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new nT(e))})),n}},{key:"tc",value:function(e){this.qu=e.Hi,this.Ku=Gk();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ec",value:function(){return zE.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}]),e}(),aT=m((function e(t,n,r){d(this,e),this.query=t,this.targetId=n,this.view=r})),oT=m((function e(t){d(this,e),this.key=t,this.nc=!1})),sT=function(){function e(t,n,r,i,a,o){d(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new jk((function(e){return Gb(e)}),Hb),this.rc=new Map,this.oc=new Set,this.uc=new yb(Mm.comparator),this.cc=new Map,this.ac=new zx,this.hc={},this.lc=new Map,this.fc=mx.vn(),this.onlineState="Unknown",this.dc=void 0}return m(e,[{key:"isPrimaryClient",get:function(){return!0===this.dc}}]),e}();function uT(e,t){return cT.apply(this,arguments)}function cT(){return cT=Xe(Qe().mark((function e(t,n){var r,i,a,o,s,u;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=tI(t),!(o=r.ic.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.ec(),e.next=15;break;case 6:return e.next=8,pS(r.localStore,qb(n));case 8:return s=e.sent,r.isPrimaryClient&&eE(r.remoteStore,s),u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=14,lT(r,n,i,"current"===u,s.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),cT.apply(this,arguments)}function lT(e,t,n,r,i){return fT.apply(this,arguments)}function fT(){return fT=Xe(Qe().mark((function e(t,n,r,i,a){var o,s,u,c,l,f;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._c=function(e,n,r){return function(){var e=Xe(Qe().mark((function e(t,n,r,i){var a,o,s;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Wu(r),e.t0=a.$i,!e.t0){e.next=6;break}return e.next=5,mS(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(RT(t,n.targetId,s.Xu),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,mS(t.localStore,n,!0);case 3:return o=e.sent,s=new iT(n,o.Hi),u=s.Wu(o.documents),c=$k.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=s.applyChanges(u,t.isPrimaryClient,c),RT(t,r,l.Xu),f=new aT(n,r,s),e.abrupt("return",(t.ic.set(n,f),t.rc.has(r)?t.rc.get(r).push(n):t.rc.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),fT.apply(this,arguments)}function hT(e,t){return dT.apply(this,arguments)}function dT(){return dT=Xe(Qe().mark((function e(t,n){var r,i,a;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=dm(t),i=r.ic.get(n),!((a=r.rc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.rc.set(i.targetId,a.filter((function(e){return!Hb(e,n)}))),void r.ic.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,vS(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),tE(r.remoteStore,i.targetId),PT(r,i.targetId)})).catch(Ym);case 9:e.next=14;break;case 11:return PT(r,i.targetId),e.next=14,vS(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),dT.apply(this,arguments)}function pT(e,t,n){return vT.apply(this,arguments)}function vT(){return vT=Xe(Qe().mark((function e(t,n,r){var i,a,o;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=nI(t),e.prev=1,e.next=4,function(e,t){var n,r,i=dm(e),a=Om.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Gk());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=Lk(),u=Gk();return i.Gi.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=C(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=wk(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new Sk(c.key,l,Sb(l.value.mapValue),vk.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Vk(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.hc[e.currentUser.toKey()];r||(r=new yb(Im)),r=r.insert(t,n),e.hc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,AT(i,a.changes);case 9:return e.next=11,mE(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=FE(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),vT.apply(this,arguments)}function yT(e,t){return mT.apply(this,arguments)}function mT(){return mT=Xe(Qe().mark((function e(t,n){var r,i;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=dm(t),e.prev=1,e.next=4,fS(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.cc.get(t);n&&(hm(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.nc=!0:e.modifiedDocuments.size>0?hm(n.nc):e.removedDocuments.size>0&&(hm(n.nc),n.nc=!1))})),e.next=8,AT(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Ym(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),mT.apply(this,arguments)}function gT(e,t,n){var r=dm(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ic.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=dm(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=C(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.bu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&$E(n)}(r.eventManager,t),i.length&&r.sc.Wo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function bT(e,t,n){return kT.apply(this,arguments)}function kT(){return kT=Xe(Qe().mark((function e(t,n,r){var i,a,o,s,u,c;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=dm(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.cc.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new yb(Mm.comparator)).insert(o,Eb.newNoDocument(o,Rm.min())),u=Gk().add(o),c=new Qk(Rm.min(),new Map,new bb(Im),s,u),e.next=9,yT(i,c);case 9:i.uc=i.uc.remove(o),i.cc.delete(n),NT(i),e.next=16;break;case 14:return e.next=16,vS(i.localStore,n,!1).then((function(){return PT(i,n,r)})).catch(Ym);case 16:case"end":return e.stop()}}),e)}))),kT.apply(this,arguments)}function wT(e,t){return _T.apply(this,arguments)}function _T(){return _T=Xe(Qe().mark((function e(t,n){var r,i,a;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=dm(t),i=n.batch.batchId,e.prev=1,e.next=4,cS(r.localStore,n);case 4:return a=e.sent,CT(r,i,null),IT(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,AT(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Ym(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),_T.apply(this,arguments)}function xT(e,t,n){return ST.apply(this,arguments)}function ST(){return ST=Xe(Qe().mark((function e(t,n,r){var i,a;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=dm(t),e.prev=1,e.next=4,function(e,t){var n=dm(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return hm(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,CT(i,n,r),IT(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,AT(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Ym(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),ST.apply(this,arguments)}function ET(e,t){return TT.apply(this,arguments)}function TT(){return TT=Xe(Qe().mark((function e(t,n){var r,i,a,o;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return oE((r=dm(t)).remoteStore)||sm("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=dm(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.lc.get(i)||[]).push(n),r.lc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=FE(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),TT.apply(this,arguments)}function IT(e,t){(e.lc.get(t)||[]).forEach((function(e){e.resolve()})),e.lc.delete(t)}function CT(e,t,n){var r=dm(e),i=r.hc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.hc[r.currentUser.toKey()]=i}}function PT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=C(e.rc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ic.delete(a),n&&e.sc.wc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.rc.delete(t),e.isPrimaryClient&&e.ac.ls(t).forEach((function(t){e.ac.containsKey(t)||OT(e,t)}))}function OT(e,t){e.oc.delete(t.path.canonicalString());var n=e.uc.get(t);null!==n&&(tE(e.remoteStore,n),e.uc=e.uc.remove(t),e.cc.delete(n),NT(e))}function RT(e,t,n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof nT?(e.ac.addReference(a.key,t),DT(e,a)):a instanceof rT?(sm("SyncEngine","Document no longer in limbo: "+a.key),e.ac.removeReference(a.key,t),e.ac.containsKey(a.key)||OT(e,a.key)):fm()}}catch(o){i.e(o)}finally{i.f()}}function DT(e,t){var n=t.key,r=n.path.canonicalString();e.uc.get(n)||e.oc.has(r)||(sm("SyncEngine","New document in limbo: "+n),e.oc.add(r),NT(e))}function NT(e){for(;e.oc.size>0&&e.uc.size<e.maxConcurrentLimboResolutions;){var t=e.oc.values().next().value;e.oc.delete(t);var n=new Mm(Nm.fromString(t)),r=e.fc.next();e.cc.set(r,new oT(n)),e.uc=e.uc.insert(n,r),eE(e.remoteStore,new v_(qb(Mb(n.path)),r,2,ug.at))}}function AT(e,t,n){return jT.apply(this,arguments)}function jT(){return jT=Xe(Qe().mark((function e(t,n,r){var i,a,o,s;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=dm(t),a=[],o=[],s=[],e.t0=i.ic.isEmpty(),e.t0){e.next=9;break}return i.ic.forEach((function(e,t){s.push(i._c(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=rS.Ci(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.sc.Wo(a),e.next=9,function(){var e=Xe(Qe().mark((function e(t,n){var r,i,a,o,s,u,c,l;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=dm(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return $m.forEach(n,(function(t){return $m.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return $m.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),tg(e.t0)){e.next=10;break}throw e.t0;case 10:sm("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=C(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.qi.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.qi=r.qi.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),jT.apply(this,arguments)}function MT(e,t){return LT.apply(this,arguments)}function LT(){return LT=Xe(Qe().mark((function e(t,n){var r,i;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=dm(t)).currentUser.isEqual(n)){e.next=11;break}return sm("SyncEngine","User change. New user:",n.toKey()),e.next=5,sS(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.lc.forEach((function(e){e.forEach((function(e){e.reject(new vm(pm.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.lc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,AT(r,i.ji);case 11:case"end":return e.stop()}}),e)}))),LT.apply(this,arguments)}function FT(e,t){var n=dm(e),r=n.cc.get(t);if(r&&r.nc)return Gk().add(r.key);var i=Gk(),a=n.rc.get(t);if(!a)return i;var o,s=C(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.ic.get(u);i=i.unionWith(c.view.ju)}}catch(l){s.e(l)}finally{s.f()}return i}function UT(e,t){return VT.apply(this,arguments)}function VT(){return VT=Xe(Qe().mark((function e(t,n){var r,i,a;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=dm(t),e.next=3,mS(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.tc(i),e.abrupt("return",(r.isPrimaryClient&&RT(r,n.targetId,a.Xu),a));case 6:case"end":return e.stop()}}),e)}))),VT.apply(this,arguments)}function zT(e,t){return qT.apply(this,arguments)}function qT(){return qT=Xe(Qe().mark((function e(t,n){var r;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=dm(t),e.abrupt("return",bS(r.localStore,n).then((function(e){return AT(r,e)})));case 2:case"end":return e.stop()}}),e)}))),qT.apply(this,arguments)}function BT(e,t,n,r){return WT.apply(this,arguments)}function WT(){return WT=Xe(Qe().mark((function e(t,n,r,i){var a,o;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=dm(t),e.next=3,function(e,t){var n=dm(e),r=dm(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Tn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):$m.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,mE(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(CT(a,n,i||null),IT(a,n),function(e,t){dm(dm(e).mutationQueue).An(t)}(a.localStore,n)):fm();case 11:return e.next=13,AT(a,o);case 13:e.next=16;break;case 15:sm("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),WT.apply(this,arguments)}function HT(e,t){return GT.apply(this,arguments)}function GT(){return GT=Xe(Qe().mark((function e(t,n){var r,i,a,o,s,u,c,l;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(tI(r=dm(t)),nI(r),!0!==n||!0===r.dc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,KT(r,i.toArray());case 5:return a=e.sent,r.dc=!0,e.next=9,NE(r.remoteStore,!0);case 9:o=C(a);try{for(o.s();!(s=o.n()).done;)u=s.value,eE(r.remoteStore,u)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.dc){e.next=25;break}return c=[],l=Promise.resolve(),r.rc.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return PT(r,t),vS(r.localStore,t,!0)})),tE(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,KT(r,c);case 21:return function(e){var t=dm(e);t.cc.forEach((function(e,n){tE(t.remoteStore,n)})),t.ac.fs(),t.cc=new Map,t.uc=new yb(Mm.comparator)}(r),r.dc=!1,e.next=25,NE(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),GT.apply(this,arguments)}function KT(e,t,n){return YT.apply(this,arguments)}function YT(){return YT=Xe(Qe().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d,p,v,y,m;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=dm(t),a=[],o=[],s=C(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(f=i.rc.get(c))||0===f.length){e.next=34;break}return e.next=11,pS(i.localStore,qb(f[0]));case 11:l=e.sent,h=C(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ic.get(p),e.next=20,UT(i,v);case 20:(y=e.sent).snapshot&&o.push(y.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,gS(i.localStore,c);case 36:return m=e.sent,e.next=39,pS(i.localStore,m);case 39:return l=e.sent,e.next=42,lT(i,QT(m),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.sc.Wo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),YT.apply(this,arguments)}function QT(e){return jb(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function $T(e){var t=dm(e);return dm(dm(t.localStore).persistence).vi()}function XT(e,t,n,r){return JT.apply(this,arguments)}function JT(){return JT=Xe(Qe().mark((function e(t,n,r,i){var a,o,s,u;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=dm(t)).dc){e.next=3;break}return e.abrupt("return",void sm("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.rc.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,bS(a.localStore,Qb(o[0]));case 10:return s=e.sent,u=Qk.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,mg.EMPTY_BYTE_STRING),e.next=14,AT(a,s,u);case 14:return e.abrupt("break",20);case 15:return e.next=17,vS(a.localStore,n,!0);case 17:return PT(a,n,i),e.abrupt("break",20);case 19:fm();case 20:case"end":return e.stop()}}),e)}))),JT.apply(this,arguments)}function ZT(e,t,n){return eI.apply(this,arguments)}function eI(){return eI=Xe(Qe().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=tI(t)).dc){e.next=45;break}a=C(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i.rc.has(s)){e.next=10;break}return sm("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,gS(i.localStore,s);case 12:return u=e.sent,e.next=15,pS(i.localStore,u);case 15:return c=e.sent,e.next=18,lT(i,QT(u),c.targetId,!1,c.resumeToken);case 18:eE(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=C(r),e.prev=30,h=Qe().mark((function e(){var t;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.rc.has(t),!e.t0){e.next=5;break}return e.next=5,vS(i.localStore,t,!1).then((function(){tE(i.remoteStore,t),PT(i,t)})).catch(Ym);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),eI.apply(this,arguments)}function tI(e){var t=dm(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=yT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=FT.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=bT.bind(null,t),t.sc.Wo=YE.bind(null,t.eventManager),t.sc.wc=QE.bind(null,t.eventManager),t}function nI(e){var t=dm(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=wT.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=xT.bind(null,t),t}function rI(e,t,n){var r=dm(e);(function(){var e=Xe(Qe().mark((function e(t,n,r){var i,a,o,s,u;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=dm(e),r=fw(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ns.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(tT(i)),a=new eT(i,t.localStore,n.yt),e.next=15,n.mc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Fu(o);case 19:return(s=e.sent)&&r._updateProgress(s),e.next=23,n.mc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return u=e.sent,e.next=31,AT(t,u.Lu,void 0);case 31:return e.next=33,function(e,t){var n=dm(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ns.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(u.progress),e.abrupt("return",Promise.resolve(u.Bu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(cm("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var iI=function(){function e(){d(this,e),this.synchronizeTabs=!1}return m(e,[{key:"initialize",value:function(){var e=Xe(Qe().mark((function e(t){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.yt=qS(t.databaseInfo.databaseId),this.sharedClientState=this.gc(t),this.persistence=this.yc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.Ic(t),this.gcScheduler=this.Tc(t,this.localStore),this.indexBackfillerScheduler=this.Ec(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Tc",value:function(e,t){return null}},{key:"Ec",value:function(e,t){return null}},{key:"Ic",value:function(e){return oS(this.persistence,new iS,e.initialUser,this.yt)}},{key:"yc",value:function(e){return new Kx(Qx.Bs,this.yt)}},{key:"gc",value:function(e){return new AS}},{key:"terminate",value:function(){var e=Xe(Qe().mark((function e(){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),aI=function(e){b(n,e);var t=S(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).Ac=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return m(n,[{key:"initialize",value:function(){var e=Xe(Qe().mark((function e(t){var r=this;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ja(k(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ac.initialize(this,t);case 4:return e.next=6,nI(this.Ac.syncEngine);case 6:return e.next=8,mE(this.Ac.remoteStore);case 8:return e.next=10,this.persistence.li((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e){return oS(this.persistence,new iS,e.initialUser,this.yt)}},{key:"Tc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new Sx(n,e.asyncQueue,t)}},{key:"Ec",value:function(e,t){var n=new sg(t,this.persistence);return new og(e.asyncQueue,n)}},{key:"yc",value:function(e){var t=nS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?cx.withCacheSize(this.cacheSizeBytes):cx.DEFAULT;return new Zx(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,VS(),zS(),this.yt,this.sharedClientState,!!this.forceOwnership)}},{key:"gc",value:function(e){return new AS}}]),n}(iI),oI=function(e){b(n,e);var t=S(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r,!1)).Ac=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return m(n,[{key:"initialize",value:function(){var e=Xe(Qe().mark((function e(t){var r,i=this;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ja(k(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ac.syncEngine,e.t0=this.sharedClientState instanceof NS,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Fr:BT.bind(null,r),$r:XT.bind(null,r),Br:ZT.bind(null,r),vi:$T.bind(null,r),Mr:zT.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.li(function(){var e=Xe(Qe().mark((function e(t){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,HT(i.Ac.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"gc",value:function(e){var t=VS();if(!NS.C(t))throw new vm(pm.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=nS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new NS(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(aI),sI=function(){function e(){d(this,e)}return m(e,[{key:"initialize",value:function(){var e=Xe(Qe().mark((function e(t,n){var r=this;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return gT(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=MT.bind(null,this.syncEngine),e.next=12,NE(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new BE}},{key:"createDatastore",value:function(e){var t,n=qS(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new US(t));return function(e,t,n,r){return new KS(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return gT(o.syncEngine,e,0)},a=MS.C()?new MS:new jS,new QS(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new sT(e,t,n,r,i,a);return o&&(s.dc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Xe(Qe().mark((function e(t){var n;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=dm(t),sm("RemoteStore","RemoteStore shutting down."),n._u.add(5),e.next=5,JS(n);case 5:n.mu.shutdown(),n.gu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function uI(e,t,n){if(!n)throw new vm(pm.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function cI(e,t,n,r){if(!0===t&&!0===r)throw new vm(pm.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function lI(e){if(!Mm.isDocumentKey(e))throw new vm(pm.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function fI(e){if(Mm.isDocumentKey(e))throw new vm(pm.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function hI(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":fm()}function dI(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new vm(pm.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=hI(e);throw new vm(pm.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function pI(e,t){if(t<=0)throw new vm(pm.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var vI=new Map,yI=function(){function e(t){var n;if(d(this,e),void 0===t.host){if(void 0!==t.ssl)throw new vm(pm.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new vm(pm.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,cI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return m(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),mI=function(){function e(t,n,r,i){d(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yI({}),this._settingsFrozen=!1}return m(e,[{key:"app",get:function(){if(!this._app)throw new vm(pm.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new vm(pm.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yI(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new gm;switch(e.type){case"gapi":var t=e.client;return new _m(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new vm(pm.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=vI.get(e);t&&(sm("ComponentProvider","Removing Datastore"),vI.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function gI(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=dI(e,mI))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&cm("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=rm.MOCK_USER;else{o=Ir(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new vm(pm.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new rm(u)}e._authCredentials=new bm(new mm(o,s))}}var bI=function(){function e(t,n,r){d(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return m(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new wI(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),kI=function(){function e(t,n,r){d(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return m(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),wI=function(e){b(n,e);var t=S(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,e,r,Mb(i)))._path=i,a.type="collection",a}return m(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new bI(this.firestore,null,new Mm(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(kI);function _I(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=si(e),uI("collection","path",t),e instanceof mI){var a=Nm.fromString.apply(Nm,[t].concat(r));return fI(a),new wI(e,null,a)}if(!(e instanceof bI||e instanceof wI))throw new vm(pm.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Nm.fromString.apply(Nm,[t].concat(r)));return fI(o),new wI(e.firestore,null,o)}function xI(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=si(e),1===arguments.length&&(t=Tm.R()),uI("doc","path",t),e instanceof mI){var a=Nm.fromString.apply(Nm,[t].concat(r));return lI(a),new bI(e,null,new Mm(a))}if(!(e instanceof bI||e instanceof wI))throw new vm(pm.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Nm.fromString.apply(Nm,[t].concat(r)));return lI(o),new bI(e.firestore,e instanceof wI?e.converter:null,new Mm(o))}function SI(e,t){return e=si(e),t=si(t),(e instanceof bI||e instanceof wI)&&(t instanceof bI||t instanceof wI)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function EI(e,t){return e=si(e),t=si(t),e instanceof kI&&t instanceof kI&&e.firestore===t.firestore&&Hb(e._query,t._query)&&e.converter===t.converter}function TI(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Xe(Qe().mark((function r(){var i;return Qe().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Xe(Qe().mark((function e(){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var II=function(){function e(t){d(this,e),this.observer=t,this.muted=!1}return m(e,[{key:"next",value:function(e){this.observer.next&&this.Rc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Rc(this.observer.error,e):um("Uncaught Error in snapshot listener:",e.toString())}},{key:"bc",value:function(){this.muted=!0}},{key:"Rc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),CI=function(){function e(t,n){var r=this;d(this,e),this.Pc=t,this.yt=n,this.metadata=new ym,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then((function(e){e&&e.Ou()?r.metadata.resolve(e.ku.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.ku))))}),(function(e){return r.metadata.reject(e)}))}return m(e,[{key:"close",value:function(){return this.Pc.cancel()}},{key:"getMetadata",value:function(){var e=Xe(Qe().mark((function e(){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"mc",value:function(){var e=Xe(Qe().mark((function e(){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Vc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){var e=Xe(Qe().mark((function e(){var t,n,r,i;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Sc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.vc.decode(t),r=Number(n),isNaN(r)&&this.Dc("length string (".concat(n,") is not valid number")),e.next=9,this.Cc(r);case 9:return i=e.sent,e.abrupt("return",new JE(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"xc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Sc",value:function(){var e=Xe(Qe().mark((function e(){var t,n;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.xc()<0)){e.next=7;break}return e.next=3,this.Nc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.xc())<0&&this.Dc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(){var e=Xe(Qe().mark((function e(t){var n;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Nc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Dc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.vc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dc",value:function(e){throw this.Pc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Nc",value:function(){var e=Xe(Qe().mark((function e(){var t,n;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Pc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),PI=function(){function e(t){d(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return m(e,[{key:"lookup",value:function(){var e=Xe(Qe().mark((function e(t){var n,r=this;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new vm(pm.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Xe(Qe().mark((function e(t,n){var r,i,a,o,s,u;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=dm(t),i=gw(r.yt)+"/documents",a={documents:n.map((function(e){return pw(r.yt,e)}))},e.next=5,r._o("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=_w(r.yt,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());hm(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Ok(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Xe(Qe().mark((function e(){var t,n=this;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Mm.fromPath(t);n.mutations.push(new Rk(r,n.precondition(r)))})),e.next=7,function(){var e=Xe(Qe().mark((function e(t,n){var r,i,a;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=dm(t),i=gw(r.yt)+"/documents",a={writes:n.map((function(e){return xw(r.yt,e)}))},e.next=3,r.ao("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw fm();t=Rm.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new vm(pm.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Rm.min())?vk.exists(!1):vk.updateTime(t):vk.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Rm.min()))throw new vm(pm.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return vk.updateTime(t)}return vk.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),OI=function(){function e(t,n,r,i,a){d(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.kc=r.maxAttempts,this.xo=new BS(this.asyncQueue,"transaction_retry")}return m(e,[{key:"run",value:function(){this.kc-=1,this.Oc()}},{key:"Oc",value:function(){var e=this;this.xo.Ro(Xe(Qe().mark((function t(){var n,r;return Qe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new PI(e.datastore),(r=e.Mc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Fc(t)}))}))})).catch((function(t){e.Fc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Mc",value:function(e){try{var t=this.updateFunction(e);return!pg(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Fc",value:function(e){var t=this;this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Oc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"$c",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Nk(t)}return!1}}]),e}(),RI=function(){function e(t,n,r,i){var a=this;d(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=rm.UNAUTHENTICATED,this.clientId=Tm.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Xe(Qe().mark((function e(t){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sm("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return sm("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return m(e,[{key:"getConfiguration",value:function(){var e=Xe(Qe().mark((function e(){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new vm(pm.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new ym;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Xe(Qe().mark((function n(){var r;return Qe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=FE(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function DI(e,t){return NI.apply(this,arguments)}function NI(){return NI=Xe(Qe().mark((function e(t,n){var r,i;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),sm("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Xe(Qe().mark((function e(t){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,sS(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),NI.apply(this,arguments)}function AI(e,t){return jI.apply(this,arguments)}function jI(){return jI=Xe(Qe().mark((function e(t,n){var r,i;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,MI(t);case 3:return r=e.sent,sm("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return RE(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return RE(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),jI.apply(this,arguments)}function MI(e){return LI.apply(this,arguments)}function LI(){return LI=Xe(Qe().mark((function e(t){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return sm("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,DI(t,new iI);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),LI.apply(this,arguments)}function FI(e){return UI.apply(this,arguments)}function UI(){return UI=Xe(Qe().mark((function e(t){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return sm("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,AI(t,new sI);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),UI.apply(this,arguments)}function VI(e){return MI(e).then((function(e){return e.persistence}))}function zI(e){return MI(e).then((function(e){return e.localStore}))}function qI(e){return FI(e).then((function(e){return e.remoteStore}))}function BI(e){return FI(e).then((function(e){return e.syncEngine}))}function WI(e){return FI(e).then((function(e){return e.datastore}))}function HI(e){return GI.apply(this,arguments)}function GI(){return GI=Xe(Qe().mark((function e(t){var n,r;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,FI(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=uT.bind(null,n.syncEngine),r.onUnlisten=hT.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),GI.apply(this,arguments)}function KI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new ym;return e.asyncQueue.enqueueAndForget(Xe(Qe().mark((function i(){return Qe().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new II({next:function(a){t.enqueueAndForget((function(){return GE(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new vm(pm.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new vm(pm.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new XE(Mb(n.path),a,{includeMetadataChanges:!0,Nu:!0});return WE(e,o)},i.next=3,HI(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function YI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new ym;return e.asyncQueue.enqueueAndForget(Xe(Qe().mark((function i(){return Qe().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new II({next:function(n){t.enqueueAndForget((function(){return GE(e,o)})),n.fromCache&&"server"===r.source?i.reject(new vm(pm.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new XE(n,a,{includeMetadataChanges:!0,Nu:!0});return WE(e,o)},i.next=3,HI(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var QI=function(){function e(){var t=this;d(this,e),this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new BS(this,"async_queue_retry"),this.Wc=function(){var e=zS();e&&sm("AsyncQueue","Visibility state changed to "+e.visibilityState),t.xo.Po()};var n=zS();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Wc)}return m(e,[{key:"isShuttingDown",get:function(){return this.qc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.zc(),this.Hc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;var t=zS();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}},{key:"enqueue",value:function(e){var t=this;if(this.zc(),this.qc)return new Promise((function(){}));var n=new ym;return this.Hc((function(){return t.qc&&t.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Lc.push(e),t.Jc()}))}},{key:"Jc",value:function(){var e=Xe(Qe().mark((function e(){var t=this;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Lc.length){e.next=14;break}return e.prev=1,e.next=4,this.Lc[0]();case 4:this.Lc.shift(),this.xo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),tg(e.t0)){e.next=12;break}throw e.t0;case 12:sm("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Lc.length>0&&this.xo.Ro((function(){return t.Jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t=this,n=this.Bc.then((function(){return t.Gc=!0,e().catch((function(e){t.Kc=e,t.Gc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw um("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Gc=!1,e}))}));return this.Bc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.zc(),this.jc.indexOf(e)>-1&&(t=0);var i=LE.createAndSchedule(this,e,t,n,(function(e){return r.Yc(e)}));return this.Uc.push(i),i}},{key:"zc",value:function(){this.Kc&&fm()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Xc",value:function(){var e=Xe(Qe().mark((function e(){var t;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Bc,e.next=3,t;case 3:if(t!==this.Bc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(e){var t,n=C(this.Uc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ta",value:function(e){var t=this;return this.Xc().then((function(){t.Uc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=C(t.Uc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Xc()}))}},{key:"ea",value:function(e){this.jc.push(e)}},{key:"Yc",value:function(e){var t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}]),e}();function $I(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=C(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var XI=function(){function e(){d(this,e),this._progressObserver={},this._taskCompletionResolver=new ym,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return m(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),JI=function(e){b(n,e);var t=S(n);function n(e,r,i,a){var o;return d(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new QI,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return m(n,[{key:"_terminate",value:function(){return this._firestoreClient||eC(this),this._firestoreClient.terminate()}}]),n}(mI);function ZI(e){return e._firestoreClient||eC(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function eC(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new cg(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new RI(e._authCredentials,e._appCheckCredentials,e._queue,r)}function tC(e,t,n){var r=new ym;return e.asyncQueue.enqueue(Xe(Qe().mark((function i(){var a;return Qe().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,DI(e,n);case 3:return i.next=5,AI(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===pm.FAILED_PRECONDITION||e.code===pm.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:cm("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function nC(e){return function(e){return e.asyncQueue.enqueue(Xe(Qe().mark((function t(){var n,r;return Qe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,VI(e);case 2:return n=t.sent,t.next=5,qI(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=dm(e);return t._u.delete(0),$S(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(ZI(e=dI(e,JI)))}function rC(e){return function(e){return e.asyncQueue.enqueue(Xe(Qe().mark((function t(){var n,r;return Qe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,VI(e);case 2:return n=t.sent,t.next=5,qI(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Xe(Qe().mark((function e(t){var n;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=dm(t))._u.add(0),e.next=4,JS(n);case 4:n.gu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(ZI(e=dI(e,JI)))}function iC(e,t){var n=ZI(e=dI(e,JI)),r=new XI;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new CI(e,t)}(function(e,t){if(e instanceof Uint8Array)return TI(e,t);if(e instanceof ArrayBuffer)return TI(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,qS(t));e.asyncQueue.enqueueAndForget(Xe(Qe().mark((function t(){return Qe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=rI,t.next=3,BI(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function aC(e,t){return function(e,t){return e.asyncQueue.enqueue(Xe(Qe().mark((function n(){return Qe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=dm(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ns.getNamedQuery(e,t)}))},n.next=3,zI(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(ZI(e=dI(e,JI)),t).then((function(t){return t?new kI(e,null,t.query):null}))}function oC(e){if(e._initialized||e._terminated)throw new vm(pm.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var sC=function(){function e(t){d(this,e),this._byteString=t}return m(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(mg.fromBase64String(t))}catch(t){throw new vm(pm.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(mg.fromUint8Array(t))}}]),e}(),uC=function(){function e(){d(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new vm(pm.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jm(n)}return m(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var cC=m((function e(t){d(this,e),this._methodName=t})),lC=function(){function e(t,n){if(d(this,e),!isFinite(t)||t<-90||t>90)throw new vm(pm.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new vm(pm.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return m(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Im(this._lat,e._lat)||Im(this._long,e._long)}}]),e}(),fC=/^__.*__$/,hC=function(){function e(t,n,r){d(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return m(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Sk(e,this.data,this.fieldMask,t,this.fieldTransforms):new xk(e,this.data,t,this.fieldTransforms)}}]),e}(),dC=function(){function e(t,n,r){d(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return m(e,[{key:"toMutation",value:function(e,t){return new Sk(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function pC(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fm()}}var vC=function(){function e(t,n,r,i,a,o){d(this,e),this.settings=t,this.databaseId=n,this.yt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return m(e,[{key:"path",get:function(){return this.settings.path}},{key:"sa",get:function(){return this.settings.sa}},{key:"ia",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ra",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.ua(e),r}},{key:"ca",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.na(),r}},{key:"aa",value:function(e){return this.ia({path:void 0,oa:!0})}},{key:"ha",value:function(e){return jC(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"na",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ua(this.path.get(e))}},{key:"ua",value:function(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(pC(this.sa)&&fC.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}]),e}(),yC=function(){function e(t,n,r){d(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.yt=r||qS(t)}return m(e,[{key:"da",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new vC({sa:e,methodName:t,fa:n,path:jm.emptyPath(),oa:!1,la:r},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}]),e}();function mC(e){var t=e._freezeSettings(),n=qS(e._databaseId);return new yC(e._databaseId,!!t.ignoreUndefinedProperties,n)}function gC(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.da(a.merge||a.mergeFields?2:0,t,n,i);RC("Data must be an object, but it was:",o,r);var s,u,c=PC(r,o);if(a.merge)s=new _b(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=C(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=DC(t,d,n);if(!o.contains(p))throw new vm(pm.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));MC(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}s=new _b(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new hC(new xb(c),s,u)}var bC=function(e){b(n,e);var t=S(n);function n(){return d(this,n),t.apply(this,arguments)}return m(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.sa)throw 1===e.sa?e.ha("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ha("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(cC);function kC(e,t,n){return new vC({sa:3,fa:t.settings.fa,methodName:e._methodName,oa:n},t.databaseId,t.yt,t.ignoreUndefinedProperties)}var wC=function(e){b(n,e);var t=S(n);function n(){return d(this,n),t.apply(this,arguments)}return m(n,[{key:"_toFieldTransform",value:function(e){return new dk(e.path,new ak)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(cC),_C=function(e){b(n,e);var t=S(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e))._a=r,i}return m(n,[{key:"_toFieldTransform",value:function(e){var t=kC(this,e,!0),n=this._a.map((function(e){return CC(e,t)})),r=new ok(n);return new dk(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(cC),xC=function(e){b(n,e);var t=S(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e))._a=r,i}return m(n,[{key:"_toFieldTransform",value:function(e){var t=kC(this,e,!0),n=this._a.map((function(e){return CC(e,t)})),r=new uk(n);return new dk(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(cC),SC=function(e){b(n,e);var t=S(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e)).wa=r,i}return m(n,[{key:"_toFieldTransform",value:function(e){var t=new lk(e.yt,ek(e.yt,this.wa));return new dk(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(cC);function EC(e,t,n,r){var i=e.da(1,t,n);RC("Data must be an object, but it was:",i,r);var a=[],o=xb.empty();hg(r,(function(e,r){var s=AC(t,e,n);r=si(r);var u=i.ca(s);if(r instanceof bC)a.push(s);else{var c=CC(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new _b(a);return new dC(o,s,i.fieldTransforms)}function TC(e,t,n,r,i,a){var o=e.da(1,t,n),s=[DC(t,r,n)],u=[i];if(a.length%2!=0)throw new vm(pm.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(DC(t,a[c])),u.push(a[c+1]);for(var l=[],f=xb.empty(),h=s.length-1;h>=0;--h)if(!MC(l,s[h])){var d=s[h],p=u[h];p=si(p);var v=o.ca(d);if(p instanceof bC)l.push(d);else{var y=CC(p,v);null!=y&&(l.push(d),f.set(d,y))}}var m=new _b(l);return new dC(f,m,o.fieldTransforms)}function IC(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return CC(n,e.da(r?4:3,t))}function CC(e,t){if(OC(e=si(e)))return RC("Unsupported field value:",t,e),PC(e,t);if(e instanceof cC)return function(e,t){if(!pC(t.sa))throw t.ha("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ha("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=C(e);try{for(a.s();!(n=a.n()).done;){var o=CC(n.value,t.aa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=si(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ek(t.yt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Om.fromDate(e);return{timestampValue:uw(t.yt,n)}}if(e instanceof Om){var r=new Om(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:uw(t.yt,r)}}if(e instanceof lC)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof sC)return{bytesValue:cw(t.yt,e._byteString)};if(e instanceof bI){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ha("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:hw(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ha("Unsupported field value: ".concat(hI(e)))}(e,t)}function PC(e,t){var n={};return dg(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):hg(e,(function(e,r){var i=CC(r,t.ra(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function OC(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Om||e instanceof lC||e instanceof sC||e instanceof bI||e instanceof cC)}function RC(e,t,n){if(!OC(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=hI(n);throw"an object"===r?t.ha(e+" a custom object"):t.ha(e+" "+r)}}function DC(e,t,n){if((t=si(t))instanceof uC)return t._internalPath;if("string"==typeof t)return AC(e,t);throw jC("Field path arguments must be of type string or ",e,!1,void 0,n)}var NC=new RegExp("[~\\*/\\[\\]]");function AC(e,t,n){if(t.search(NC)>=0)throw jC("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return E(uC,h(t.split(".")))._internalPath}catch(r){throw jC("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function jC(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new vm(pm.INVALID_ARGUMENT,s+e+u)}function MC(e,t){return e.some((function(e){return e.isEqual(t)}))}var LC=function(){function e(t,n,r,i,a){d(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return m(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new bI(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new FC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(UC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),FC=function(e){b(n,e);var t=S(n);function n(){return d(this,n),t.apply(this,arguments)}return m(n,[{key:"data",value:function(){return ja(k(n.prototype),"data",this).call(this)}}]),n}(LC);function UC(e,t){return"string"==typeof t?AC(e,t):t instanceof uC?t._internalPath:t._delegate._internalPath}function VC(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new vm(pm.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var zC=m((function e(){d(this,e)})),qC=function(e){b(n,e);var t=S(n);function n(){return d(this,n),t.apply(this,arguments)}return m(n)}(zC);function BC(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof zC&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof HC})).length,n=e.filter((function(e){return e instanceof WC})).length;if(t>1||t>0&&n>0)throw new vm(pm.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,s=C(n);try{for(s.s();!(o=s.n()).done;){var u=o.value;e=u._apply(e)}}catch(c){s.e(c)}finally{s.f()}return e}var WC=function(e){b(n,e);var t=S(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return m(n,[{key:"_apply",value:function(e){var t=this._parse(e);return rP(e._query,t),new kI(e.firestore,e.converter,Bb(e._query,t))}},{key:"_parse",value:function(e){var t=mC(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new vm(pm.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){nP(o,a);var u,c=[],l=C(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(tP(r,e,f))}}catch(h){l.e(h)}finally{l.f()}s={arrayValue:{values:c}}}else s=tP(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||nP(o,a),s=IC(n,"where",o,"in"===a||"not-in"===a);return $g.create(i,a,s)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(qC);var HC=function(e){b(n,e);var t=S(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return m(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:Xg.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=C(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;rP(r,a),r=Bb(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new kI(e.firestore,e.converter,Bb(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(zC);var GC=function(e){b(n,e);var t=S(n);function n(e,r){var i;return d(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return m(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new vm(pm.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new vm(pm.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new pb(t,n);return function(e,t){if(null===Fb(e)){var n=Ub(e);null!==n&&iP(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new kI(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Ab(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(qC);var KC=function(e){b(n,e);var t=S(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return m(n,[{key:"_apply",value:function(e){return new kI(e.firestore,e.converter,Wb(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(qC);var YC=function(e){b(n,e);var t=S(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return m(n,[{key:"_apply",value:function(e){var t=eP(e,this.type,this._docOrFields,this._inclusive);return new kI(e.firestore,e.converter,function(e,t){return new Ab(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(qC);function QC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return YC._create("startAt",t,!0)}function $C(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return YC._create("startAfter",t,!1)}var XC=function(e){b(n,e);var t=S(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return m(n,[{key:"_apply",value:function(e){var t=eP(e,this.type,this._docOrFields,this._inclusive);return new kI(e.firestore,e.converter,function(e,t){return new Ab(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(qC);function JC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return XC._create("endBefore",t,!1)}function ZC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return XC._create("endAt",t,!0)}function eP(e,t,n,r){if(n[0]=si(n[0]),n[0]instanceof LC)return function(e,t,n,r,i){if(!r)throw new vm(pm.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=C(zb(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(Ag(t,r.key));else{var c=r.data.field(u.field);if(_g(c))throw new vm(pm.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new vm(pm.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new Gg(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=mC(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new vm(pm.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new vm(pm.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Vb(e)&&-1!==c.indexOf("/"))throw new vm(pm.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Nm.fromString(c));if(!Mm.isDocumentKey(l))throw new vm(pm.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Mm(l);s.push(Ag(t,f))}else{var h=IC(n,r,c);s.push(h)}}return new Gg(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function tP(e,t,n){if("string"==typeof(n=si(n))){if(""===n)throw new vm(pm.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Vb(t)&&-1!==n.indexOf("/"))throw new vm(pm.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Nm.fromString(n));if(!Mm.isDocumentKey(r))throw new vm(pm.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Ag(e,new Mm(r))}if(n instanceof bI)return Ag(e,n._key);throw new vm(pm.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(hI(n),"."))}function nP(e,t){if(!Array.isArray(e)||0===e.length)throw new vm(pm.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new vm(pm.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function rP(e,t){if(t.isInequality()){var n=Ub(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new vm(pm.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=Fb(e);null!==i&&iP(e,r,i)}var a=function(e,t){var n,r=C(e);try{for(r.s();!(n=r.n()).done;){var i,a=C(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(s){a.e(s)}finally{a.f()}}}catch(s){r.e(s)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new vm(pm.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new vm(pm.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function iP(e,t,n){if(!n.isEqual(t))throw new vm(pm.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var aP=function(){function e(){d(this,e)}return m(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Ig(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kg(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(wg(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw fm()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return hg(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new lC(kg(e.latitude),kg(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=xg(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Sg(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=bg(e);return new Om(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Nm.fromString(e);hm(Mw(n));var r=new lg(n.get(1),n.get(3)),i=new Mm(n.popFirst(5));return r.isEqual(t)||um("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function oP(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var sP=function(e){b(n,e);var t=S(n);function n(e){var r;return d(this,n),(r=t.call(this)).firestore=e,r}return m(n,[{key:"convertBytes",value:function(e){return new sC(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new bI(this.firestore,null,t)}}]),n}(aP),uP=function(){function e(t,n){d(this,e),this.hasPendingWrites=t,this.fromCache=n}return m(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),cP=function(e){b(n,e);var t=S(n);function n(e,r,i,a,o,s){var u;return d(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return m(n,[{key:"exists",value:function(){return ja(k(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new lP(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(UC("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(LC),lP=function(e){b(n,e);var t=S(n);function n(){return d(this,n),t.apply(this,arguments)}return m(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ja(k(n.prototype),"data",this).call(this,e)}}]),n}(cP),fP=function(){function e(t,n,r,i){d(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new uP(i.hasPendingWrites,i.fromCache),this.query=r}return m(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new lP(n._firestore,n._userDataWriter,r.key,r,new uP(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new vm(pm.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new lP(e._firestore,e._userDataWriter,t.doc.key,t.doc,new uP(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new lP(e._firestore,e._userDataWriter,t.doc.key,t.doc,new uP(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:hP(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function hP(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fm()}}function dP(e,t){return e instanceof cP&&t instanceof cP?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof fP&&t instanceof fP&&e._firestore===t._firestore&&EI(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var pP=function(e){b(n,e);var t=S(n);function n(e){var r;return d(this,n),(r=t.call(this)).firestore=e,r}return m(n,[{key:"convertBytes",value:function(e){return new sC(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new bI(this.firestore,null,t)}}]),n}(aP);function vP(e){e=dI(e,bI);var t=dI(e.firestore,JI),n=ZI(t),r=new pP(t);return function(e,t){var n=new ym;return e.asyncQueue.enqueueAndForget(Xe(Qe().mark((function r(){return Qe().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Xe(Qe().mark((function e(t,n,r){var i,a;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=dm(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new vm(pm.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=FE(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,zI(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new cP(t,r,e._key,n,new uP(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function yP(e){e=dI(e,kI);var t=dI(e.firestore,JI),n=ZI(t),r=new pP(t);return function(e,t){var n=new ym;return e.asyncQueue.enqueueAndForget(Xe(Qe().mark((function r(){return Qe().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Xe(Qe().mark((function e(t,n,r){var i,a,o,s,u;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,mS(t,n,!0);case 3:i=e.sent,a=new iT(n,i.Hi),o=a.Wu(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=FE(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,zI(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new fP(t,r,e,n)}))}function mP(e,t,n){e=dI(e,bI);var r=dI(e.firestore,JI),i=oP(e.converter,t,n);return wP(r,[gC(mC(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,vk.none())])}function gP(e,t,n){e=dI(e,bI);for(var r=dI(e.firestore,JI),i=mC(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return wP(r,[("string"==typeof(t=si(t))||t instanceof uC?TC(i,"updateDoc",e._key,t,n,o):EC(i,"updateDoc",e._key,t)).toMutation(e._key,vk.exists(!0))])}function bP(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=si(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||$I(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if($I(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof bI)l=dI(e.firestore,JI),f=Mb(e._key.path),c={next:function(t){n[u]&&n[u](_P(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=dI(e,kI);l=dI(p.firestore,JI),f=p._query;var v=new pP(l);c={next:function(e){n[u]&&n[u](new fP(l,v,p,e))},error:n[u+1],complete:n[u+2]},VC(e._query)}return function(e,t,n,r){var i=new II(r),a=new XE(t,i,n);return e.asyncQueue.enqueueAndForget(Xe(Qe().mark((function t(){return Qe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=WE,t.next=3,HI(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.bc(),e.asyncQueue.enqueueAndForget(Xe(Qe().mark((function t(){return Qe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=GE,t.next=3,HI(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(ZI(l),f,h,c)}function kP(e,t){return function(e,t){var n=new II(t);return e.asyncQueue.enqueueAndForget(Xe(Qe().mark((function t(){return Qe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){dm(e).Ru.add(t),t.next()},t.next=3,HI(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.bc(),e.asyncQueue.enqueueAndForget(Xe(Qe().mark((function t(){return Qe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){dm(e).Ru.delete(t)},t.next=3,HI(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(ZI(e=dI(e,JI)),$I(t)?t:{next:t})}function wP(e,t){return function(e,t){var n=new ym;return e.asyncQueue.enqueueAndForget(Xe(Qe().mark((function r(){return Qe().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=pT,r.next=3,BI(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(ZI(e),t)}function _P(e,t,n){var r=n.docs.get(t._key),i=new pP(e);return new cP(e,i,t._key,r,new uP(n.hasPendingWrites,n.fromCache),t.converter)}var xP={maxAttempts:5},SP=function(){function e(t,n){d(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=mC(t)}return m(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=EP(e,this._firestore),i=oP(r.converter,t,n),a=gC(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,vk.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=EP(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=si(t))||t instanceof uC?TC(this._dataReader,"WriteBatch.update",i._key,t,n,o):EC(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,vk.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=EP(e,this._firestore);return this._mutations=this._mutations.concat(new Ok(t._key,vk.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new vm(pm.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function EP(e,t){if((e=si(e)).firestore!==t)throw new vm(pm.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var TP=function(e){b(n,e);var t=S(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r))._firestore=e,i}return m(n,[{key:"get",value:function(e){var t=this,r=EP(e,this._firestore),i=new pP(this._firestore);return ja(k(n.prototype),"get",this).call(this,e).then((function(e){return new cP(t._firestore,i,r._key,e._document,new uP(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){d(this,e),this._firestore=t,this._transaction=n,this._dataReader=mC(t)}return m(e,[{key:"get",value:function(e){var t=this,n=EP(e,this._firestore),r=new sP(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return fm();var i=e[0];if(i.isFoundDocument())return new LC(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new LC(t._firestore,r,n._key,null,n.converter);throw fm()}))}},{key:"set",value:function(e,t,n){var r=EP(e,this._firestore),i=oP(r.converter,t,n),a=gC(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=EP(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=si(t))||t instanceof uC?TC(this._dataReader,"Transaction.update",i._key,t,n,o):EC(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=EP(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function IP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new _C("arrayUnion",t)}function CP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new xC("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){im=e}(ra),$i(new ui("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new JI(new km(e.getProvider("auth-internal")),new Sm(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new vm(pm.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lg(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),ca(nm,"3.8.1",e),ca(nm,"3.8.1","esm2017")}();function PP(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new vm("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function OP(){if("undefined"===typeof Uint8Array)throw new vm("unimplemented","Uint8Arrays are not available in this environment.")}function RP(){if("undefined"==typeof atob)throw new vm("unimplemented","Blobs are unavailable in Firestore in this environment.")}var DP=function(){function e(t){d(this,e),this._delegate=t}return m(e,[{key:"toBase64",value:function(){return RP(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return OP(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return RP(),new e(sC.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return OP(),new e(sC.fromUint8Array(t))}}]),e}();function NP(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=C(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var AP=function(){function e(){d(this,e)}return m(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){oC(e=dI(e,JI));var n=ZI(e),r=e._freezeSettings(),i=new sI;return tC(n,i,new aI(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){oC(e=dI(e,JI));var t=ZI(e),n=e._freezeSettings(),r=new sI;return tC(t,r,new oI(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new vm(pm.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new ym;return e._queue.enqueueAndForgetEvenWhileRestricted(Xe(Qe().mark((function n(){return Qe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Xe(Qe().mark((function e(t){var n;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Jm.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Jm.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(nS(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),jP=function(){function e(t,n,r){var i=this;d(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof lg||(this._appCompat=t)}return m(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||cm("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};gI(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return nC(this._delegate)}},{key:"disableNetwork",value:function(){return rC(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&cI("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new ym;return e.asyncQueue.enqueueAndForget(Xe(Qe().mark((function n(){return Qe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=ET,n.next=3,BI(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(ZI(e=dI(e,JI)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return kP(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new vm("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new QP(this,_I(this._delegate,e))}catch(t){throw zP(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new VP(this,xI(this._delegate,e))}catch(t){throw zP(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new GP(this,function(e,t){if(e=dI(e,mI),uI("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new vm(pm.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new kI(e,null,function(e){return new Ab(Nm.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw zP(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=dI(e,JI);var r=Object.assign(Object.assign({},xP),n);return function(e){if(e.maxAttempts<1)throw new vm(pm.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new ym;return e.asyncQueue.enqueueAndForget(Xe(Qe().mark((function i(){var a;return Qe().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,WI(e);case 2:a=i.sent,new OI(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(ZI(e),(function(n){return t(new TP(e,n))}),r)}(this._delegate,(function(n){return e(new LP(t,n))}))}},{key:"batch",value:function(){var e=this;return ZI(this._delegate),new FP(new SP(this._delegate,(function(t){return wP(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return iC(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return aC(this._delegate,e).then((function(e){return e?new GP(t,e):null}))}}]),e}(),MP=function(e){b(n,e);var t=S(n);function n(e){var r;return d(this,n),(r=t.call(this)).firestore=e,r}return m(n,[{key:"convertBytes",value:function(e){return new DP(new sC(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return VP.forKey(t,this.firestore,null)}}]),n}(aP);var LP=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new MP(t)}return m(e,[{key:"get",value:function(e){var t=this,n=$P(e);return this._delegate.get(n).then((function(e){return new WP(t._firestore,new cP(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=$P(e);return n?(PP("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=$P(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=$P(e);return this._delegate.delete(t),this}}]),e}(),FP=function(){function e(t){d(this,e),this._delegate=t}return m(e,[{key:"set",value:function(e,t,n){var r=$P(e);return n?(PP("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=$P(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=$P(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),UP=function(){function e(t,n,r){d(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return m(e,[{key:"fromFirestore",value:function(e,t){var n=new lP(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new HP(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new MP(t),n),i.set(n,a)),a}}]),e}();UP.INSTANCES=new WeakMap;var VP=function(){function e(t,n){d(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new MP(t)}return m(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new QP(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new QP(this.firestore,_I(this._delegate,e))}catch(t){throw zP(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=si(e))instanceof bI&&SI(this._delegate,e)}},{key:"set",value:function(e,t){t=PP("DocumentReference.set",t);try{return t?mP(this._delegate,e,t):mP(this._delegate,e)}catch(n){throw zP(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?gP(this._delegate,e):gP.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw zP(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return wP(dI(e.firestore,JI),[new Ok(e._key,vk.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=qP(n),a=BP(n,(function(t){return new WP(e.firestore,new cP(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return bP(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?vP(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=dI(e,bI);var t=dI(e.firestore,JI);return KI(ZI(t),e._key,{source:"server"}).then((function(n){return _P(t,e,n)}))}(this._delegate):function(e){e=dI(e,bI);var t=dI(e.firestore,JI);return KI(ZI(t),e._key).then((function(n){return _P(t,e,n)}))}(this._delegate),t.then((function(e){return new WP(n.firestore,new cP(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(UP.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new vm("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new bI(n._delegate,r,new Mm(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new bI(n._delegate,r,t))}}]),e}();function zP(e,t,n){return e.message=e.message.replace(t,n),e}function qP(e){var t,n=C(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!NP(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function BP(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=NP(e[0])?e[0]:NP(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var WP=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n}return m(e,[{key:"ref",get:function(){return new VP(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return dP(this._delegate,e._delegate)}}]),e}(),HP=function(e){b(n,e);var t=S(n);function n(){return d(this,n),t.apply(this,arguments)}return m(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||fm()}(void 0!==t),t}}]),n}(WP),GP=function(){function e(t,n){d(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new MP(t)}return m(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,BC(this._delegate,function(e,t,n){var r=t,i=UC("where",e);return WC._create(i,r,n)}(t,n,r)))}catch(i){throw zP(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,BC(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=t,r=UC("orderBy",e);return GC._create(r,n)}(t,n)))}catch(r){throw zP(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,BC(this._delegate,function(e){return pI("limit",e),KC._create("limit",e,"F")}(t)))}catch(n){throw zP(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,BC(this._delegate,function(e){return pI("limitToLast",e),KC._create("limitToLast",e,"L")}(t)))}catch(n){throw zP(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,BC(this._delegate,QC.apply(void 0,arguments)))}catch(t){throw zP(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,BC(this._delegate,$C.apply(void 0,arguments)))}catch(t){throw zP(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,BC(this._delegate,JC.apply(void 0,arguments)))}catch(t){throw zP(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,BC(this._delegate,ZC.apply(void 0,arguments)))}catch(t){throw zP(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return EI(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?yP(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=dI(e,kI);var t=dI(e.firestore,JI),n=ZI(t),r=new pP(t);return YI(n,e._query,{source:"server"}).then((function(n){return new fP(t,r,e,n)}))}(this._delegate):function(e){e=dI(e,kI);var t=dI(e.firestore,JI),n=ZI(t),r=new pP(t);return VC(e._query),YI(n,e._query).then((function(n){return new fP(t,r,e,n)}))}(this._delegate),t.then((function(e){return new YP(n.firestore,new fP(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=qP(n),a=BP(n,(function(t){return new YP(e.firestore,new fP(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return bP(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(UP.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),KP=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n}return m(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new HP(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),YP=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n}return m(e,[{key:"query",get:function(){return new GP(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new HP(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new KP(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new HP(n._firestore,r))}))}},{key:"isEqual",value:function(e){return dP(this._delegate,e._delegate)}}]),e}(),QP=function(e){b(n,e);var t=S(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return m(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new VP(this.firestore,e):null}},{key:"doc",value:function(e){try{return new VP(this.firestore,void 0===e?xI(this._delegate):xI(this._delegate,e))}catch(t){throw zP(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=dI(e.firestore,JI),r=xI(e),i=oP(e.converter,t);return wP(n,[gC(mC(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,vk.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new VP(t.firestore,e)}))}},{key:"isEqual",value:function(e){return SI(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(UP.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(GP);function $P(e){return dI(e,bI)}var XP=function(){function e(){d(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=E(uC,n)}return m(e,[{key:"isEqual",value:function(e){return(e=si(e))instanceof uC&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(jm.keyField().canonicalString())}}]),e}(),JP=function(){function e(t){d(this,e),this._delegate=t}return m(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new wC("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new bC("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=IP.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=CP.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new SC("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),ZP={Firestore:jP,GeoPoint:lC,Timestamp:Om,Blob:DP,Transaction:LP,WriteBatch:FP,DocumentReference:VP,DocumentSnapshot:WP,Query:GP,QueryDocumentSnapshot:HP,QuerySnapshot:YP,CollectionReference:QP,FieldPath:XP,FieldValue:JP,setLogLevel:function(e){!function(e){am.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new ui("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},ZP)))}(e,(function(e,t){return new jP(e,t,new AP)})),e.registerVersion("@firebase/firestore-compat","0.3.1")}(Na);var eO="firebasestorage.googleapis.com",tO="storageBucket",nO=function(e){b(n,e);var t=S(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return d(this,n),(i=t.call(this,rO(e),"Firebase Storage: ".concat(r," (").concat(rO(e),")"))).status_=a,i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(_(i),n.prototype),i}return m(n,[{key:"status",get:function(){return this.status_},set:function(e){this.status_=e}},{key:"_codeEquals",value:function(e){return rO(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(Mr);function rO(e){return"storage/"+e}function iO(){return new nO("unknown","An unknown error occurred, please check the error payload for server response.")}function aO(){return new nO("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function oO(){return new nO("canceled","User canceled the upload/download.")}function sO(){return new nO("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function uO(e){return new nO("invalid-argument",e)}function cO(){return new nO("app-deleted","The Firebase app was deleted.")}function lO(e){return new nO("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function fO(e,t){return new nO("invalid-format","String does not match format '"+e+"': "+t)}function hO(e){throw new nO("internal-error","Internal error: "+e)}var dO,pO=function(){function e(t,n){d(this,e),this.bucket=t,this.path_=n}return m(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new nO("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===eO?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<u.length;c++){var l=u[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new nO("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),vO=function(){function e(t){d(this,e),this.promise_=Promise.reject(t)}return m(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function yO(e){return"string"===typeof e||e instanceof String}function mO(e){return gO()&&e instanceof Blob}function gO(){return"undefined"!==typeof Blob&&!Or()}function bO(e,t,n,r){if(r<t)throw uO("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw uO("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function kO(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function wO(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}function _O(e,t){var n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(dO||(dO={}));var xO=function(){function e(t,n,r,i,a,o,s,u,c,l,f){var h=this,p=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];d(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return m(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(u){i(u)}else if(null!==a){var s=iO();s.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,s)):i(s)}else{if(n.canceled)i(e.appDelete_?cO():oO());else i(aO())}};this.canceled_?t(0,new SO(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,s=0;function u(){return 2===s}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,u())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(u()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(s=2),clearTimeout(i),f(0)):e||(s=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new SO(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===dO.NO_ERROR,a=r.getStatus();if(!n||_O(a,e.additionalRetryCodes_)&&e.retry){var o=r.getErrorCode()===dO.ABORT;t(!1,new SO(!1,null,o))}else{var s=-1!==e.successCodes_.indexOf(a);t(!0,new SO(s,r))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}]),e}(),SO=m((function e(t,n,r){d(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function EO(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}function TO(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}function IO(e,t){t&&(e["X-Firebase-GMPID"]=t)}function CO(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}function PO(e,t,n,r,i,a){var o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],s=wO(e.urlParams),u=e.url+s,c=Object.assign({},e.headers);return IO(c,t),EO(c,n),TO(c,a),CO(c,r),new xO(u,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}function OO(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function RO(){for(var e=OO(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(gO())return new Blob(n);throw new nO("unsupported-environment","This browser doesn't seem to support creating Blobs")}function DO(e){if("undefined"===typeof atob)throw new nO("unsupported-environment","".concat("base-64"," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));return atob(e)}var NO={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},AO=m((function e(t,n){d(this,e),this.data=t,this.contentType=n||null}));function jO(e,t){switch(e){case NO.RAW:return new AO(MO(t));case NO.BASE64:case NO.BASE64URL:return new AO(LO(e,t));case NO.DATA_URL:return new AO(function(e){var t=new FO(e);return t.base64?LO(NO.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw fO(NO.DATA_URL,"Malformed data URL.")}return MO(t)}(t.rest)}(t),new FO(t).contentType)}throw iO()}function MO(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function LO(e,t){switch(e){case NO.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw fO(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case NO.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw fO(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=DO(t)}catch(c){if(c.message.includes("polyfill"))throw c;throw fO(e,"Invalid character found")}for(var s=new Uint8Array(o.length),u=0;u<o.length;u++)s[u]=o.charCodeAt(u);return s}var FO=m((function e(t){d(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw fO(NO.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var UO=function(){function e(t,n){d(this,e);var r=0,i="";mO(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return m(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(mO(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(gO()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(RO.apply(null,i))}var a=n.map((function(e){return yO(e)?jO(NO.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var s=new Uint8Array(o),u=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)s[u++]=e[t]})),new e(s,!0)}}]),e}();function VO(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function zO(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function qO(e,t){return t}var BO=m((function e(t,n,r,i){d(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||qO})),WO=null;function HO(){if(WO)return WO;var e=[];e.push(new BO("bucket")),e.push(new BO("generation")),e.push(new BO("metageneration")),e.push(new BO("name","fullPath",!0));var t=new BO("name");t.xform=function(e,t){return function(e){return!yO(e)||e.length<2?e:zO(e)}(t)},e.push(t);var n=new BO("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new BO("timeCreated")),e.push(new BO("updated")),e.push(new BO("md5Hash",null,!0)),e.push(new BO("cacheControl",null,!0)),e.push(new BO("contentDisposition",null,!0)),e.push(new BO("contentEncoding",null,!0)),e.push(new BO("contentLanguage",null,!0)),e.push(new BO("contentType",null,!0)),e.push(new BO("metadata","customMetadata",!0)),WO=e}function GO(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new pO(n,r);return t._makeStorageReference(i)}})}(r,e),r}function KO(e,t,n){var r=VO(t);return null===r?null:GO(e,r,n)}function YO(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}var QO="prefixes",$O="items";function XO(e,t,n){var r=VO(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[QO]){var i,a=C(n[QO]);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,""),s=e._makeStorageReference(new pO(t,o));r.prefixes.push(s)}}catch(h){a.e(h)}finally{a.f()}}if(n[$O]){var u,c=C(n[$O]);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=e._makeStorageReference(new pO(t,l.name));r.items.push(f)}}catch(h){c.e(h)}finally{c.f()}}return r}(e,t,r)}var JO=m((function e(t,n,r,i){d(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function ZO(e){if(!e)throw iO()}function eR(e,t){return function(n,r){var i=KO(e,r,t);return ZO(null!==i),i}}function tR(e,t){return function(n,r){var i=KO(e,r,t);return ZO(null!==i),function(e,t,n,r){var i=VO(t);if(null===i)return null;if(!yO(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return kO("/b/"+o(i)+"/o/"+o(a),n,r)+wO({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function nR(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new nO("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new nO("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new nO("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new nO("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function rR(e){var t=nR(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new nO("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function iR(e,t,n){var r=kO(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new JO(r,"GET",eR(e,n),i);return a.errorHandler=rR(t),a}function aR(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=kO(t.bucketOnlyServerUrl(),e.host,e._protocol),s=e.maxOperationRetryTime,u=new JO(o,"GET",function(e,t){return function(n,r){var i=XO(e,t,r);return ZO(null!==i),i}}(e,t.bucket),s);return u.urlParams=a,u.errorHandler=nR(t),u}function oR(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function sR(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+s;var u=oR(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+YO(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",f=UO.getBlob(c,r,l);if(null===f)throw sO();var h={name:u.fullPath},d=kO(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new JO(d,"POST",eR(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=nR(t),v}var uR=m((function e(t,n,r,i){d(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function cR(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){ZO(!1)}return ZO(!!n&&-1!==(t||["active"]).indexOf(n)),n}var lR=262144;function fR(e,t,n,r,i,a,o,s){var u=new uR(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new nO("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var f=u.current,h=f+l,d={"X-Goog-Upload-Command":0===l?"finalize":c===l?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(u.current)},p=r.slice(f,h);if(null===p)throw sO();var v=t.maxUploadRetryTime,y=new JO(n,"POST",(function(e,n){var i,o=cR(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===o?eR(t,a)(e,n):null,new uR(s,c,"final"===o,i)}),v);return y.headers=d,y.body=p.uploadData(),y.progressCallback=s||null,y.errorHandler=nR(e),y}var hR={STATE_CHANGED:"state_changed"},dR={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function pR(e){switch(e){case"running":case"pausing":case"canceling":return dR.RUNNING;case"paused":return dR.PAUSED;case"success":return dR.SUCCESS;case"canceled":return dR.CANCELED;default:return dR.ERROR}}var vR=m((function e(t,n,r){d(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function yR(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var mR=function(){function e(){var t=this;d(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=dO.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=dO.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=dO.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return m(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw hO("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw hO("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw hO("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw hO("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw hO("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),gR=function(e){b(n,e);var t=S(n);function n(){return d(this,n),t.apply(this,arguments)}return m(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(mR);function bR(){return new gR}var kR=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;d(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=HO(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){if(r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled"))r._needToFetchStatus=!0,r.completeTransitions_();else{var t=r.isExponentialBackoffExpired();if(_O(e.status,[])){if(!t)return r.sleepTime=Math.max(2*r.sleepTime,1e3),r._needToFetchStatus=!0,void r.completeTransitions_();e=aO()}r._error=e,r._transition("error")}},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return m(e,[{key:"isExponentialBackoffExpired",value:function(){return this.sleepTime>this.maxSleepTime}},{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){var e=this;"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((function(){e.pendingTimeout=void 0,e._continueUpload()}),this.sleepTime):this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=l(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=oR(t,r,i),s={name:o.fullPath},u=kO(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=YO(o,n),f=e.maxUploadRetryTime,h=new JO(u,"POST",(function(e){var t;cR(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){ZO(!1)}return ZO(yO(t)),t}),f);return h.urlParams=s,h.headers=c,h.body=l,h.errorHandler=nR(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,bR,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new JO(n,"POST",(function(e){var t=cR(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){ZO(!1)}n||ZO(!1);var i=Number(n);return ZO(!isNaN(i)),new uR(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=nR(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,bR,n,r);e._request=a,a.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=lR*this._chunkMultiplier,n=new uR(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=fR(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(u){return e._error=u,void e._transition("error")}var s=e._ref.storage._makeRequest(o,bR,i,a,!1);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){2*(lR*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=iR(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,bR,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=sR(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,bR,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=oO(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=pR(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new vR(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(pR(this._state)){case dR.SUCCESS:yR(this._resolve.bind(null,this.snapshot))();break;case dR.CANCELED:case dR.ERROR:yR(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(pR(this._state)){case dR.RUNNING:case dR.PAUSED:e.next&&yR(e.next.bind(e,this.snapshot))();break;case dR.SUCCESS:e.complete&&yR(e.complete.bind(e))();break;default:e.error&&yR(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),wR=function(){function e(t,n){d(this,e),this._service=t,this._location=n instanceof pO?n:pO.makeFromUrl(n,t.host)}return m(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new pO(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return zO(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new pO(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw lO(e)}}]),e}();function _R(e,t,n){return xR.apply(this,arguments)}function xR(){return(xR=Xe(Qe().mark((function e(t,n,r){var i,a,o,s;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={pageToken:r},e.next=3,SR(t,o);case 3:if(s=e.sent,(i=n.prefixes).push.apply(i,h(s.prefixes)),(a=n.items).push.apply(a,h(s.items)),null==s.nextPageToken){e.next=9;break}return e.next=9,_R(t,n,s.nextPageToken);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function SR(e,t){null!=t&&"number"===typeof t.maxResults&&bO("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=aR(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,bR)}function ER(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=kO(t.fullServerUrl(),e.host,e._protocol),a=YO(n,r),o=e.maxOperationRetryTime,s=new JO(i,"PATCH",eR(e,r),o);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=a,s.errorHandler=rR(t),s}(e.storage,e._location,t,HO());return e.storage.makeRequestWithTokens(n,bR)}function TR(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=kO(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new JO(r,"GET",tR(e,n),i);return a.errorHandler=rR(t),a}(e.storage,e._location,HO());return e.storage.makeRequestWithTokens(t,bR).then((function(e){if(null===e)throw new nO("no-download-url","The given file does not have any download URLs.");return e}))}function IR(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=kO(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new JO(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=rR(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,bR)}function CR(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new pO(e._location.bucket,n);return new wR(e.storage,r)}function PR(e,t){if(e instanceof NR){var n=e;if(null==n._bucket)throw new nO("no-default-bucket","No default bucket found. Did you set the '"+tO+"' property when initializing the app?");var r=new wR(n,n._bucket);return null!=t?PR(r,t):r}return void 0!==t?CR(e,t):e}function OR(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof NR)return new wR(e,t);throw uO("To use ref(service, url), the first argument must be a Storage instance.")}return PR(e,t)}function RR(e,t){var n=null===t||void 0===t?void 0:t[tO];return null==n?null:pO.makeFromBucketSpec(n,e)}function DR(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:Ir(i,e.app.options.projectId))}var NR=function(){function e(t,n,r,i,a){d(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=eO,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?pO.makeFromBucketSpec(i,this._host):RR(this._host,this.app.options)}return m(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=pO.makeFromBucketSpec(this._url,e):this._bucket=RR(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){bO("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){bO("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=Xe(Qe().mark((function e(){var t,n;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=Xe(Qe().mark((function e(){var t,n;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new wR(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new vO(cO());var o=PO(e,this._appId,n,r,t,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then((function(){return i._requests.delete(o)}),(function(){return i._requests.delete(o)})),o}},{key:"makeRequestWithTokens",value:function(){var e=Xe(Qe().mark((function e(t,n){var r,i,a,o;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=l(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),AR="@firebase/storage",jR="0.10.1",MR="storage";function LR(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new kR(e,new UO(t),n)}(e=si(e),t,n)}function FR(e){return function(e){e._throwIfRoot("getMetadata");var t=iR(e.storage,e._location,HO());return e.storage.makeRequestWithTokens(t,bR)}(e=si(e))}function UR(e){return function(e){var t={prefixes:[],items:[]};return _R(e,t).then((function(){return t}))}(e=si(e))}function VR(e,t){return OR(e=si(e),t)}function zR(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};DR(e,t,n,r)}function qR(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new NR(r,i,a,n,ra)}$i(new ui(MR,qR,"PUBLIC").setMultipleInstances(!0)),ca(AR,jR,""),ca(AR,jR,"esm2017");var BR=function(){function e(t,n,r){d(this,e),this._delegate=t,this.task=n,this.ref=r}return m(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),WR=function(){function e(t,n){d(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return m(e,[{key:"snapshot",get:function(){return new BR(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new BR(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"===typeof t?function(e){return t(new BR(e,i,i._ref))}:{next:t.next?function(e){return t.next(new BR(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)}}]),e}(),HR=function(){function e(t,n){d(this,e),this._delegate=t,this._service=n}return m(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new GR(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new GR(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),GR=function(){function e(t,n){d(this,e),this._delegate=t,this.storage=n}return m(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){var n=function(e,t){return CR(e,t)}(this._delegate,t);return new e(n,this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new WR(LR(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NO.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=jO(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new WR(new kR(this._delegate,new UO(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return UR(this._delegate).then((function(t){return new HR(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return function(e,t){return SR(e=si(e),t)}(this._delegate,e||void 0).then((function(e){return new HR(e,t.storage)}))}},{key:"getMetadata",value:function(){return FR(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return ER(e=si(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return TR(si(this._delegate))}},{key:"delete",value:function(){return this._throwIfRoot("delete"),IR(si(this._delegate))}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw lO(e)}}]),e}(),KR=function(){function e(t,n){d(this,e),this.app=t,this._delegate=n}return m(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(YR(e))throw uO("ref() expected a child path but got a URL, use refFromURL instead.");return new GR(VR(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!YR(e))throw uO("refFromURL() expected a full URL but got a child path, use ref() instead.");try{pO.makeFromUrl(e,this._delegate.host)}catch(t){throw uO("refFromUrl() expected a valid full URL but got an invalid one.")}return new GR(VR(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};zR(this._delegate,e,t,n)}}]),e}();function YR(e){return/^[A-Za-z]+:\/\//.test(e)}function QR(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new KR(r,i)}!function(e){var t={TaskState:dR,TaskEvent:hR,StringFormat:NO,Storage:KR,Reference:GR};e.INTERNAL.registerComponent(new ui("storage-compat",QR,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.2.1")}(Na);var $R="@firebase/database",XR="0.14.1",JR="";function ZR(e){JR=e}var eD=function(){function e(t){d(this,e),this.domStorage_=t,this.prefix_="firebase:"}return m(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),zr(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Vr(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),tD=function(){function e(){d(this,e),this.cache_={},this.isInMemoryStorage=!0}return m(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return Br(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),nD=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new eD(t)}}catch(n){}return new tD},rD=nD("localStorage"),iD=nD("sessionStorage"),aD=new bi("@firebase/database"),oD=function(){var e=1;return function(){return e++}}(),sD=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,vr(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new Jr;n.update(t);var r=n.digest();return gr.encodeByteArray(r)},uD=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?zr(r):r,t+=" "}return t},cD=null,lD=!0,fD=function(e,t){vr(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(aD.logLevel=hi.VERBOSE,cD=aD.log.bind(aD),t&&iD.set("logging_enabled",!0)):"function"===typeof e?cD=e:(cD=null,iD.remove("logging_enabled"))},hD=function(){if(!0===lD&&(lD=!1,null===cD&&!0===iD.get("logging_enabled")&&fD(!0)),cD){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=uD.apply(null,t);cD(r)}},dD=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];hD.apply(void 0,[e].concat(n))}},pD=function(){var e="FIREBASE INTERNAL ERROR: "+uD.apply(void 0,arguments);aD.error(e)},vD=function(){var e="FIREBASE FATAL ERROR: ".concat(uD.apply(void 0,arguments));throw aD.error(e),new Error(e)},yD=function(){var e="FIREBASE WARNING: "+uD.apply(void 0,arguments);aD.warn(e)},mD=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},gD="[MIN_NAME]",bD="[MAX_NAME]",kD=function(e,t){if(e===t)return 0;if(e===gD||t===bD)return-1;if(t===gD||e===bD)return 1;var n=CD(e),r=CD(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},wD=function(e,t){return e===t?0:e<t?-1:1},_D=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+zr(t))},xD=function e(t){if("object"!==typeof t||null===t)return zr(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=zr(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},SD=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function ED(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var TD=function(e){vr(!mD(e),"Invalid JSON number");var t,n,r,i,a,o=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),o))+o,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),c="";for(a=0;a<64;a+=8){var l=parseInt(u.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()};var ID=new RegExp("^-?(0*)\\d{1,10}$"),CD=function(e){if(ID.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},PD=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw yD("Exception was thrown by user callback.",e),t}),Math.floor(0))}},OD=function(e,t){var n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n},RD=function(){function e(t,n){var r=this;d(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return m(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){yD('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),DD=function(){function e(t,n,r){var i=this;d(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return m(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(hD("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',yD(e)}}]),e}(),ND=function(){function e(t){d(this,e),this.accessToken=t}return m(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();ND.OWNER="owner";var AD="5",jD=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,MD="ac",LD="websocket",FD="long_polling",UD=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];d(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=rD.get("host:"+t)||this._host}return m(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&rD.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function VD(e,t,n){var r;if(vr("string"===typeof t,"typeof type must == string"),vr("object"===typeof n,"typeof params must == object"),t===LD)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==FD)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return ED(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var zD=function(){function e(){d(this,e),this.counters_={}}return m(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Br(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return _r(void 0,this.counters_)}}]),e}(),qD={},BD={};function WD(e){var t=e.toString();return qD[t]||(qD[t]=new zD),qD[t]}var HD=function(){function e(t){d(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return m(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&PD((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),GD="start",KD="close",YD=function(){function e(t,n,r,i,a,o,s){var u=this;d(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=dD(t),this.stats_=WD(n),this.urlFn=function(e){return u.appCheckToken&&(e[MD]=u.appCheckToken),VD(n,FD,e)}}return m(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new HD(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Ar()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new QD((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===GD)n.id=a,n.password=o;else{if(i!==KD)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={};e[GD]="t",e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=AD,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e[MD]=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&jD.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=zr(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=br(t),r=SD(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!Ar()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=zr(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!Ar()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),QD=function(){function e(t,n,r,i){if(d(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Ar())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=oD(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(s){hD("frame writing exception"),s.stack&&hD(s.stack),hD(s)}}}return m(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;Ar()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){hD("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||hD("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),$D=null;"undefined"!==typeof MozWebSocket?$D=MozWebSocket:"undefined"!==typeof WebSocket&&($D=WebSocket);var XD=function(){function e(t,n,r,i,a,o,s){d(this,e),this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=dD(this.connId),this.stats_=WD(n),this.connURL=e.connectionURL_(n,o,s,i,r),this.nodeAdmin=n.nodeAdmin}return m(e,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,rD.set("previous_websocket_failure",!0);try{var r;if(Ar()){var i=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":"Firebase/".concat(AD,"/").concat(JR,"/").concat(process.platform,"/").concat(i),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},o=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;o&&(r.proxy={origin:o})}this.mySock=new $D(this.connURL,[],r)}catch(u){this.log_("Error instantiating WebSocket.");var s=u.message||u.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){rD.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Vr(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(vr(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=zr(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=SD(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,i){var a={};return a.v=AD,!Ar()&&"undefined"!==typeof location&&location.hostname&&jD.test(location.hostname)&&(a.r="f"),t&&(a.s=t),n&&(a.ls=n),r&&(a[MD]=r),i&&(a.p=i),VD(e,LD,a)}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==$D&&!e.forceDisallow_}},{key:"previouslyFailed",value:function(){return rD.isInMemoryStorage||!0===rD.get("previous_websocket_failure")}}]),e}();XD.responsesRequiredToBeHealthy=2,XD.healthyTimeout=3e4;var JD=function(){function e(t){d(this,e),this.initTransports_(t)}return m(e,[{key:"initTransports_",value:function(t){var n=XD&&XD.isAvailable(),r=n&&!XD.previouslyFailed();if(t.webSocketOnly&&(n||yD("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[XD];else{var i,a=this.transports_=[],o=C(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var s=i.value;s&&s.isAvailable()&&a.push(s)}}catch(u){o.e(u)}finally{o.f()}e.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[YD,XD]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),e}();JD.globalTransportInitialized_=!1;var ZD=function(){function e(t,n,r,i,a,o,s,u,c,l){d(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=u,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=dD("c:"+this.id+":"),this.transportManager_=new JD(n),this.log_("Connection created"),this.start_()}return m(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=OD((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=_D("t",e),n=_D("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=_D("t",e),n=_D("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=_D("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?pD("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):pD("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),AD!==n&&yD("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),OD((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):OD((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(rD.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),eN=function(){function e(){d(this,e)}return m(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),tN=function(){function e(t){d(this,e),this.allowedEvents_=t,this.listeners_={},vr(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return m(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=h(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){vr(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),nN=function(e){b(n,e);var t=S(n);function n(){var e;return d(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Pr()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return m(n,[{key:"getInitialEvent",value:function(e){return vr("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(tN),rN=function(){function e(t,n){if(d(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return m(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function iN(){return new rN("")}function aN(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function oN(e){return e.pieces_.length-e.pieceNum_}function sN(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new rN(e.pieces_,t)}function uN(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function cN(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function lN(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new rN(t,0)}function fN(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof rN)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new rN(n,0)}function hN(e){return e.pieceNum_>=e.pieces_.length}function dN(e,t){var n=aN(e),r=aN(t);if(null===n)return t;if(n===r)return dN(sN(e),sN(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function pN(e,t){for(var n=cN(e,0),r=cN(t,0),i=0;i<n.length&&i<r.length;i++){var a=kD(n[i],r[i]);if(0!==a)return a}return n.length===r.length?0:n.length<r.length?-1:1}function vN(e,t){if(oN(e)!==oN(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function yN(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(oN(e)>oN(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var mN=m((function e(t,n){d(this,e),this.errorPrefix_=n,this.parts_=cN(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=oi(this.parts_[r]);gN(this)}));function gN(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+bN(e))}function bN(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var kN=function(e){b(n,e);var t=S(n);function n(){var e,r,i;return d(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return m(n,[{key:"getInitialEvent",value:function(e){return vr("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(tN),wN=1e3,_N=function(e){b(n,e);var t=S(n);function n(e,r,i,a,o,s,u,c){var l;if(d(this,n),(l=t.call(this)).repoInfo_=e,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=a,l.onServerInfoUpdate_=o,l.authTokenProvider_=s,l.appCheckTokenProvider_=u,l.authOverride_=c,l.id=n.nextPersistentConnectionId_++,l.log_=dD("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=wN,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.appCheckToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.invalidAppCheckTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!Ar())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return kN.getInstance().on("visible",l.onVisible_,_(l)),-1===e.host.indexOf("fblocal")&&nN.getInstance().on("online",l.onOnline_,_(l)),l}return m(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(zr(i)),vr(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){this.initConnection_();var t=new Tr,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:function(e){var n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;var r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),vr(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),vr(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var s=o.d,u=o.s;n.warnOnListenWarnings_(s,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",o),"ok"!==u&&t.removeListen_(i,a),e.onComplete&&e.onComplete(u,s))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){var t=qr(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=qr(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),vr(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+zr(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):pD("Unrecognized action received from server: "+zr(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;vr(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=wN,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=wN,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=wN),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=Xe(Qe().mark((function e(){var t,r,i,a,o,s,u,c,f,h,d,p,v,y,m=this;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+n.nextConnectionId_++,o=this.lastSessionId,s=!1,u=null,c=function(){u?u.close():(s=!0,i())},f=function(e){vr(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(e)},this.realtime_={close:c,sendRequest:f},h=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);case 19:d=e.sent,p=l(d,2),v=p[0],y=p[1],s?hD("getToken() completed but was canceled"):(hD("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=y&&y.token,u=new ZD(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,(function(e){yD(e+" ("+m.repoInfo_.toString()+")"),m.interrupt("server_kill")}),o)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),s||(this.repoInfo_.nodeAdmin&&yD(e.t0),c());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){hD("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){hD("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Hr(this.interruptReasons_)&&(this.reconnectDelay_=wN,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return xD(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new rN(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){hD("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){hD("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=C(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=C(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(u){r.e(u)}finally{r.f()}}}catch(u){t.e(u)}finally{t.f()}for(var a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){var o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(var s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}},{key:"sendConnectStats_",value:function(){var e={},t="js";Ar()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+JR.replace(/\./g,"-")]=1,Pr()?e["framework.cordova"]=1:Dr()&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=nN.getInstance().currentlyOnline();return Hr(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&Br(e,"w")){var n=Wr(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();yD("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(eN);_N.nextPersistentConnectionId_=0,_N.nextConnectionId_=0;var xN,SN=function(){function e(t,n){d(this,e),this.name=t,this.node=n}return m(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),EN=function(){function e(){d(this,e)}return m(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new SN(gD,e),r=new SN(gD,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return SN.MIN}}]),e}(),TN=function(e){b(n,e);var t=S(n);function n(){return d(this,n),t.apply(this,arguments)}return m(n,[{key:"compare",value:function(e,t){return kD(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw yr("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return SN.MIN}},{key:"maxPost",value:function(){return new SN(bD,xN)}},{key:"makePost",value:function(e,t){return vr("string"===typeof e,"KeyIndex indexValue must always be a string."),new SN(e,xN)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return xN},set:function(e){xN=e}}]),n}(EN),IN=new TN,CN=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;d(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return m(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),PN=function(){function e(t,n,r,i,a){d(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:DN.EMPTY_NODE,this.right=null!=a?a:DN.EMPTY_NODE}return m(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return DN.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return DN.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();PN.RED=!0,PN.BLACK=!1;var ON,RN=function(){function e(){d(this,e)}return m(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new PN(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),DN=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;d(this,e),this.comparator_=t,this.root_=n}return m(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,PN.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,PN.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new CN(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new CN(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new CN(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new CN(this.root_,null,this.comparator_,!0,e)}}]),e}();function NN(e,t){return kD(e.name,t.name)}function AN(e,t){return kD(e,t)}DN.EMPTY_NODE=new RN;var jN,MN,LN,FN=function(e){return"number"===typeof e?"number:"+TD(e):"string:"+e},UN=function(e){if(e.isLeafNode()){var t=e.val();vr("string"===typeof t||"number"===typeof t||"object"===typeof t&&Br(t,".sv"),"Priority must be a string or number.")}else vr(e===ON||e.isEmpty(),"priority of unexpected type.");vr(e===ON||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},VN=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;d(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,vr(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),UN(this.priorityNode_)}return m(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return hN(t)?this:".priority"===aN(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=aN(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(vr(".priority"!==r||1===oN(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(sN(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+FN(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?TD(this.value_):this.value_,this.lazyHash_=sD(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(vr(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return vr(i>=0,"Unknown leaf type: "+n),vr(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return jN},set:function(e){jN=e}}]),e}();VN.VALUE_TYPE_ORDER=["object","boolean","number","string"];var zN,qN,BN=function(e){b(n,e);var t=S(n);function n(){return d(this,n),t.apply(this,arguments)}return m(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?kD(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return SN.MIN}},{key:"maxPost",value:function(){return new SN(bD,new VN("[PRIORITY-POST]",LN))}},{key:"makePost",value:function(e,t){var n=MN(e);return new SN(t,new VN("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(EN),WN=new BN,HN=Math.log(2),GN=function(){function e(t){d(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/HN,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return m(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),KN=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,s=i-r;if(0===s)return null;if(1===s)return a=e[r],o=n?n(a):a,new PN(o,a.node,PN.BLACK,null,null);var u=parseInt(s/2,10)+r,c=t(r,u),l=t(u+1,i);return a=e[u],o=n?n(a):a,new PN(o,a.node,PN.BLACK,c,l)},a=function(t){for(var r=null,a=null,o=e.length,s=function(t,r){var a=o-t,s=o;o-=t;var c=i(a+1,s),l=e[a],f=n?n(l):l;u(new PN(f,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(a=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),f=Math.pow(2,t.count-(c+1));l?s(f,PN.BLACK):(s(f,PN.BLACK),s(f,PN.RED))}return a}(new GN(e.length));return new DN(r||t,a)},YN={},QN=function(){function e(t,n){d(this,e),this.indexes_=t,this.indexSet_=n}return m(e,[{key:"get",value:function(e){var t=Wr(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof DN?t:null}},{key:"hasIndex",value:function(e){return Br(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){vr(t!==IN,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(SN.Wrap),s=o.getNext();s;)a=a||t.isDefinedOn(s.node),i.push(s),s=o.getNext();r=a?KN(i,t.getCompare()):YN;var u=t.toString(),c=Object.assign({},this.indexSet_);c[u]=t;var l=Object.assign({},this.indexes_);return l[u]=r,new e(l,c)}},{key:"addToIndexes",value:function(t,n){var r=this;return new e(Gr(this.indexes_,(function(e,i){var a=Wr(r.indexSet_,i);if(vr(a,"Missing index implementation for "+i),e===YN){if(a.isDefinedOn(t.node)){for(var o=[],s=n.getIterator(SN.Wrap),u=s.getNext();u;)u.name!==t.name&&o.push(u),u=s.getNext();return o.push(t),KN(o,a.getCompare())}return YN}var c=n.get(t.name),l=e;return c&&(l=l.remove(new SN(t.name,c))),l.insert(t,t.node)})),this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(Gr(this.indexes_,(function(e){if(e===YN)return e;var r=n.get(t.name);return r?e.remove(new SN(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return vr(YN&&WN,"ChildrenNode.ts has not been loaded"),zN=zN||new e({".priority":YN},{".priority":WN})}}]),e}(),$N=function(){function e(t,n,r){d(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&UN(this.priorityNode_),this.children_.isEmpty()&&vr(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return m(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||qN}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?qN:t}},{key:"getChild",value:function(e){var t=aN(e);return null===t?this:this.getImmediateChild(t).getChild(sN(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(vr(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new SN(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?qN:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=aN(e);if(null===n)return t;vr(".priority"!==aN(e)||1===oN(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(sN(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(WN,(function(o,s){n[o]=s.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var s in n)o[s]=n[s];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+FN(this.getPriority().val())+":"),this.forEachChild(WN,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":sD(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new SN(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new SN(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new SN(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,SN.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,SN.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===XN?-1:0}},{key:"withIndex",value:function(t){if(t===IN||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===IN||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(WN),r=t.getIterator(WN),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===IN?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return qN||(qN=new e(new DN(AN),null,QN.Default))}}]),e}();$N.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var XN=new(function(e){b(n,e);var t=S(n);function n(){return d(this,n),t.call(this,new DN(AN),$N.EMPTY_NODE,QN.Default)}return m(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return $N.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}($N));Object.defineProperties(SN,{MIN:{value:new SN(gD,$N.EMPTY_NODE)},MAX:{value:new SN(bD,XN)}}),TN.__EMPTY_NODE=$N.EMPTY_NODE,VN.__childrenNodeConstructor=$N,ON=XN,function(e){LN=e}(XN);function JN(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return $N.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),vr(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){var n=e;return new VN(n,JN(t))}if(e instanceof Array){var r=$N.EMPTY_NODE;return ED(e,(function(t,n){if(Br(e,t)&&"."!==t.substring(0,1)){var i=JN(n);!i.isLeafNode()&&i.isEmpty()||(r=r.updateImmediateChild(t,i))}})),r.updatePriority(JN(t))}var i=[],a=!1,o=e;if(ED(o,(function(e,t){if("."!==e.substring(0,1)){var n=JN(t);n.isEmpty()||(a=a||!n.getPriority().isEmpty(),i.push(new SN(e,n)))}})),0===i.length)return $N.EMPTY_NODE;var s=KN(i,NN,(function(e){return e.name}),AN);if(a){var u=KN(i,WN.getCompare());return new $N(s,JN(t),new QN({".priority":u},{".priority":WN}))}return new $N(s,JN(t),QN.Default)}!function(e){MN=e}(JN);var ZN=function(e){b(n,e);var t=S(n);function n(e){var r;return d(this,n),(r=t.call(this)).indexPath_=e,vr(!hN(e)&&".priority"!==aN(e),"Can't create PathIndex with empty path or .priority key"),r}return m(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?kD(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=JN(e),r=$N.EMPTY_NODE.updateChild(this.indexPath_,n);return new SN(t,r)}},{key:"maxPost",value:function(){var e=$N.EMPTY_NODE.updateChild(this.indexPath_,XN);return new SN(bD,e)}},{key:"toString",value:function(){return cN(this.indexPath_,0).join("/")}}]),n}(EN),eA=function(e){b(n,e);var t=S(n);function n(){return d(this,n),t.apply(this,arguments)}return m(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?kD(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return SN.MIN}},{key:"maxPost",value:function(){return SN.MAX}},{key:"makePost",value:function(e,t){var n=JN(e);return new SN(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(EN),tA=new eA;function nA(e){return{type:"value",snapshotNode:e}}function rA(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function iA(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function aA(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var oA=function(){function e(t){d(this,e),this.index_=t}return m(e,[{key:"updateChild",value:function(e,t,n,r,i,a){vr(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(iA(t,o)):vr(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(rA(t,n)):a.trackChildChange(aA(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}},{key:"updateFullNode",value:function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(WN,(function(e,r){t.hasChild(e)||n.trackChildChange(iA(e,r))})),t.isLeafNode()||t.forEachChild(WN,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(aA(t,r,i))}else n.trackChildChange(rA(t,r))}))),t.withIndex(this.index_)}},{key:"updatePriority",value:function(e,t){return e.isEmpty()?$N.EMPTY_NODE:e.updatePriority(t)}},{key:"filtersNodes",value:function(){return!1}},{key:"getIndexedFilter",value:function(){return this}},{key:"getIndex",value:function(){return this.index_}}]),e}(),sA=function(){function e(t){d(this,e),this.indexedFilter_=new oA(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}return m(e,[{key:"getStartPost",value:function(){return this.startPost_}},{key:"getEndPost",value:function(){return this.endPost_}},{key:"matches",value:function(e){var t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}},{key:"updateChild",value:function(e,t,n,r,i,a){return this.matches(new SN(t,n))||(n=$N.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,a)}},{key:"updateFullNode",value:function(e,t,n){t.isLeafNode()&&(t=$N.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority($N.EMPTY_NODE);var i=this;return t.forEachChild(WN,(function(e,t){i.matches(new SN(e,t))||(r=r.updateImmediateChild(e,$N.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.indexedFilter_}},{key:"getIndex",value:function(){return this.index_}}],[{key:"getStartPost_",value:function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}},{key:"getEndPost_",value:function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}]),e}(),uA=function(){function e(t){var n=this;d(this,e),this.withinDirectionalStart=function(e){return n.reverse_?n.withinEndPost(e):n.withinStartPost(e)},this.withinDirectionalEnd=function(e){return n.reverse_?n.withinStartPost(e):n.withinEndPost(e)},this.withinStartPost=function(e){var t=n.index_.compare(n.rangedFilter_.getStartPost(),e);return n.startIsInclusive_?t<=0:t<0},this.withinEndPost=function(e){var t=n.index_.compare(e,n.rangedFilter_.getEndPost());return n.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new sA(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}return m(e,[{key:"updateChild",value:function(e,t,n,r,i,a){return this.rangedFilter_.matches(new SN(t,n))||(n=$N.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,a):this.fullLimitUpdateChild_(e,t,n,i,a)}},{key:"updateFullNode",value:function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=$N.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){var i;r=$N.EMPTY_NODE.withIndex(this.index_),i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;i.hasNext()&&a<this.limit_;){var o=i.getNext();if(this.withinDirectionalStart(o)){if(!this.withinDirectionalEnd(o))break;r=r.updateImmediateChild(o.name,o.node),a++}}}else{var s;r=(r=t.withIndex(this.index_)).updatePriority($N.EMPTY_NODE),s=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);for(var u=0;s.hasNext();){var c=s.getNext();u<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?u++:r=r.updateImmediateChild(c.name,$N.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.rangedFilter_.getIndexedFilter()}},{key:"getIndex",value:function(){return this.index_}},{key:"fullLimitUpdateChild_",value:function(e,t,n,r,i){var a;if(this.reverse_){var o=this.index_.getCompare();a=function(e,t){return o(t,e)}}else a=this.index_.getCompare();var s=e;vr(s.numChildren()===this.limit_,"");var u=new SN(t,n),c=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),l=this.rangedFilter_.matches(u);if(s.hasChild(t)){for(var f=s.getImmediateChild(t),h=r.getChildAfterChild(this.index_,c,this.reverse_);null!=h&&(h.name===t||s.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);var d=null==h?1:a(h,u);if(l&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(aA(t,n,f)),s.updateImmediateChild(t,n);null!=i&&i.trackChildChange(iA(t,f));var p=s.updateImmediateChild(t,$N.EMPTY_NODE);return null!=h&&this.rangedFilter_.matches(h)?(null!=i&&i.trackChildChange(rA(h.name,h.node)),p.updateImmediateChild(h.name,h.node)):p}return n.isEmpty()?e:l&&a(c,u)>=0?(null!=i&&(i.trackChildChange(iA(c.name,c.node)),i.trackChildChange(rA(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(c.name,$N.EMPTY_NODE)):e}}]),e}(),cA=function(){function e(){d(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=WN}return m(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return vr(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return vr(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:gD}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return vr(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return vr(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:bD}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return vr(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===WN}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function lA(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function fA(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function hA(e,t){var n=e.copy();return n.index_=t,n}function dA(e){var t,n={};if(e.isDefault())return n;if(e.index_===WN?t="$priority":e.index_===tA?t="$value":e.index_===IN?t="$key":(vr(e.index_ instanceof ZN,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=zr(t),e.startSet_){var r=e.startAfterSet_?"startAfter":"startAt";n[r]=zr(e.indexStartValue_),e.startNameSet_&&(n[r]+=","+zr(e.indexStartName_))}if(e.endSet_){var i=e.endBeforeSet_?"endBefore":"endAt";n[i]=zr(e.indexEndValue_),e.endNameSet_&&(n[i]+=","+zr(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_),n}function pA(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==WN&&(t.i=e.index_.toString()),t}var vA=function(e){b(n,e);var t=S(n);function n(e,r,i,a){var o;return d(this,n),(o=t.call(this)).repoInfo_=e,o.onDataUpdate_=r,o.authTokenProvider_=i,o.appCheckTokenProvider_=a,o.log_=dD("p:rest:"),o.listens_={},o}return m(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var s=n.getListenId_(e,r),u={};this.listens_[s]=u;var c=dA(e._queryParams);this.restRequest_(o+".json",c,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),Wr(a.listens_,s)===u)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=dA(e._queryParams),r=e._path.toString(),i=new Tr;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var a=l(i,2),o=a[0],s=a[1];o&&o.accessToken&&(n.auth=o.accessToken),s&&s.token&&(n.ac=s.token);var u=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+Qr(n);t.log_("Sending REST request for "+u);var c=new XMLHttpRequest;c.onreadystatechange=function(){if(r&&4===c.readyState){t.log_("REST Response for "+u+" received. status:",c.status,"response:",c.responseText);var e=null;if(c.status>=200&&c.status<300){try{e=Vr(c.responseText)}catch(n){yD("Failed to parse JSON response for "+u+": "+c.responseText)}r(null,e)}else 401!==c.status&&404!==c.status&&yD("Got unsuccessful REST response for "+u+" Status: "+c.status),r(c.status);r=null}},c.open("GET",u,!0),c.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(vr(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(eN),yA=function(){function e(){d(this,e),this.rootNode_=$N.EMPTY_NODE}return m(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function mA(){return{value:null,children:new Map}}function gA(e,t,n){if(hN(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=aN(t);e.children.has(r)||e.children.set(r,mA()),gA(e.children.get(r),t=sN(t),n)}}function bA(e,t){if(hN(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(WN,(function(t,n){gA(e,new rN(t),n)})),bA(e,t)}if(e.children.size>0){var r=aN(t);if(t=sN(t),e.children.has(r))bA(e.children.get(r),t)&&e.children.delete(r);return 0===e.children.size}return!0}function kA(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){kA(r,new rN(t.toString()+"/"+e),n)}))}var wA,_A=function(){function e(t){d(this,e),this.collection_=t,this.last_=null}return m(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&ED(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),xA=function(){function e(t,n){d(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new _A(t);var r=1e4+2e4*Math.random();OD(this.reportStats_.bind(this),Math.floor(r))}return m(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;ED(t,(function(t,i){i>0&&Br(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),OD(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function SA(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(wA||(wA={}));var EA,TA=function(){function e(t,n,r){d(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=wA.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return m(e,[{key:"operationForChild",value:function(t){if(hN(this.path)){if(null!=this.affectedTree.value)return vr(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new rN(t));return new e(iN(),n,this.revert)}return vr(aN(this.path)===t,"operationForChild called for unrelated child."),new e(sN(this.path),this.affectedTree,this.revert)}}]),e}(),IA=function(){function e(t,n){d(this,e),this.source=t,this.path=n,this.type=wA.LISTEN_COMPLETE}return m(e,[{key:"operationForChild",value:function(t){return hN(this.path)?new e(this.source,iN()):new e(this.source,sN(this.path))}}]),e}(),CA=function(){function e(t,n,r){d(this,e),this.source=t,this.path=n,this.snap=r,this.type=wA.OVERWRITE}return m(e,[{key:"operationForChild",value:function(t){return hN(this.path)?new e(this.source,iN(),this.snap.getImmediateChild(t)):new e(this.source,sN(this.path),this.snap)}}]),e}(),PA=function(){function e(t,n,r){d(this,e),this.source=t,this.path=n,this.children=r,this.type=wA.MERGE}return m(e,[{key:"operationForChild",value:function(t){if(hN(this.path)){var n=this.children.subtree(new rN(t));return n.isEmpty()?null:n.value?new CA(this.source,iN(),n.value):new e(this.source,iN(),n)}return vr(aN(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,sN(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),OA=function(){function e(t,n,r){d(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return m(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(hN(e))return this.isFullyInitialized()&&!this.filtered_;var t=aN(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}(),RA=m((function e(t){d(this,e),this.query_=t,this.index_=this.query_._queryParams.getIndex()}));function DA(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw yr("Should only compare child_ events.");var r=new SN(t.childName,t.snapshotNode),i=new SN(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),o.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function NA(e,t){return{eventCache:e,serverCache:t}}function AA(e,t,n,r){return NA(new OA(t,n,r),e.serverCache)}function jA(e,t,n,r){return NA(e.eventCache,new OA(t,n,r))}function MA(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function LA(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var FA=function(){return EA||(EA=new DN(wD)),EA},UA=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:FA();d(this,e),this.value=t,this.children=n}return m(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:iN(),value:this.value};if(hN(e))return null;var n=aN(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(sN(e),t);return null!=i?{path:fN(new rN(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(hN(t))return this;var n=aN(t),r=this.children.get(n);return null!==r?r.subtree(sN(t)):new e(null)}},{key:"set",value:function(t,n){if(hN(t))return new e(n,this.children);var r=aN(t),i=(this.children.get(r)||new e(null)).set(sN(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(hN(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=aN(t),r=this.children.get(n);if(r){var i,a=r.remove(sN(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(hN(e))return this.value;var t=aN(e),n=this.children.get(t);return n?n.get(sN(e)):null}},{key:"setTree",value:function(t,n){if(hN(t))return n;var r,i=aN(t),a=(this.children.get(i)||new e(null)).setTree(sN(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(iN(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(fN(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,iN(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(hN(e))return null;var i=aN(e),a=this.children.get(i);return a?a.findOnPath_(sN(e),fN(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,iN(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(hN(t))return this;this.value&&r(n,this.value);var i=aN(t),a=this.children.get(i);return a?a.foreachOnPath_(sN(t),fN(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(iN(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(fN(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return ED(t,(function(e,t){n=n.set(new rN(e),t)})),n}}]),e}(),VA=function(){function e(t){d(this,e),this.writeTree_=t}return m(e,null,[{key:"empty",value:function(){return new e(new UA(null))}}]),e}();function zA(e,t,n){if(hN(t))return new VA(new UA(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=dN(i,t);return a=a.updateChild(o,n),new VA(e.writeTree_.set(i,a))}var s=new UA(n),u=e.writeTree_.setTree(t,s);return new VA(u)}function qA(e,t,n){var r=e;return ED(n,(function(e,n){r=zA(r,fN(t,e),n)})),r}function BA(e,t){if(hN(t))return VA.empty();var n=e.writeTree_.setTree(t,new UA(null));return new VA(n)}function WA(e,t){return null!=HA(e,t)}function HA(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(dN(n.path,t)):null}function GA(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(WN,(function(e,n){t.push(new SN(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new SN(e,n.value))})),t}function KA(e,t){if(hN(t))return e;var n=HA(e,t);return new VA(null!=n?new UA(n):e.writeTree_.subtree(t))}function YA(e){return e.writeTree_.isEmpty()}function QA(e,t){return $A(iN(),e.writeTree_,t)}function $A(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(vr(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=$A(fN(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(fN(e,".priority"),r)),n}function XA(e,t){return fj(t,e)}function JA(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function ZA(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));vr(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var s=e.allWrites[o];s.visible&&(o>=n&&ej(s,r.path)?i=!1:yN(r.path,s.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=nj(e.allWrites,tj,iN()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=BA(e.visibleWrites,r.path):ED(r.children,(function(t){e.visibleWrites=BA(e.visibleWrites,fN(r.path,t))}));return!0}return!1}function ej(e,t){if(e.snap)return yN(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&yN(fN(e.path,n),t))return!0;return!1}function tj(e){return e.visible}function nj(e,t,n){for(var r=VA.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,s=void 0;if(a.snap)yN(n,o)?r=zA(r,s=dN(n,o),a.snap):yN(o,n)&&(s=dN(o,n),r=zA(r,iN(),a.snap.getChild(s)));else{if(!a.children)throw yr("WriteRecord should have .snap or .children");if(yN(n,o))r=qA(r,s=dN(n,o),a.children);else if(yN(o,n))if(hN(s=dN(o,n)))r=qA(r,iN(),a.children);else{var u=Wr(a.children,aN(s));if(u){var c=u.getChild(sN(s));r=zA(r,iN(),c)}}}}}return r}function rj(e,t,n,r,i){if(r||i){var a=KA(e.visibleWrites,t);if(!i&&YA(a))return n;if(i||null!=n||WA(a,iN())){return QA(nj(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(yN(e.path,t)||yN(t,e.path))}),t),n||$N.EMPTY_NODE)}return null}var o=HA(e.visibleWrites,t);if(null!=o)return o;var s=KA(e.visibleWrites,t);return YA(s)?n:null!=n||WA(s,iN())?QA(s,n||$N.EMPTY_NODE):null}function ij(e,t,n,r){return rj(e.writeTree,e.treePath,t,n,r)}function aj(e,t){return function(e,t,n){var r=$N.EMPTY_NODE,i=HA(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(WN,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=KA(e.visibleWrites,t);return n.forEachChild(WN,(function(e,t){var n=QA(KA(a,new rN(e)),t);r=r.updateImmediateChild(e,n)})),GA(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return GA(KA(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function oj(e,t,n,r){return function(e,t,n,r,i){vr(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=fN(t,n);if(WA(e.visibleWrites,a))return null;var o=KA(e.visibleWrites,a);return YA(o)?i.getChild(n):QA(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function sj(e,t){return function(e,t){return HA(e.visibleWrites,t)}(e.writeTree,fN(e.treePath,t))}function uj(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var s,u=KA(e.visibleWrites,t),c=HA(u,iN());if(null!=c)s=c;else{if(null==n)return[];s=QA(u,n)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var l=[],f=o.getCompare(),h=a?s.getReverseIteratorFrom(r,o):s.getIteratorFrom(r,o),d=h.getNext();d&&l.length<i;)0!==f(d,r)&&l.push(d),d=h.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,a)}function cj(e,t,n){return function(e,t,n,r){var i=fN(t,n),a=HA(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?QA(KA(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function lj(e,t){return fj(fN(e.treePath,t),e.writeTree)}function fj(e,t){return{treePath:e,writeTree:t}}var hj=function(){function e(){d(this,e),this.changeMap=new Map}return m(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;vr("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),vr(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,aA(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,iA(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,rA(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw yr("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,aA(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),dj=new(function(){function e(){d(this,e)}return m(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),pj=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;d(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return m(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new OA(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return cj(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:LA(this.viewCache_),i=uj(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function vj(e,t,n,r,i){var a,o,s=new hj;if(n.type===wA.OVERWRITE){var u=n;u.source.fromUser?a=gj(e,t,u.path,u.snap,r,i,s):(vr(u.source.fromServer,"Unknown source."),o=u.source.tagged||t.serverCache.isFiltered()&&!hN(u.path),a=mj(e,t,u.path,u.snap,r,i,o,s))}else if(n.type===wA.MERGE){var c=n;c.source.fromUser?a=function(e,t,n,r,i,a,o){var s=t;return r.foreach((function(r,u){var c=fN(n,r);bj(t,aN(c))&&(s=gj(e,s,c,u,i,a,o))})),r.foreach((function(r,u){var c=fN(n,r);bj(t,aN(c))||(s=gj(e,s,c,u,i,a,o))})),s}(e,t,c.path,c.children,r,i,s):(vr(c.source.fromServer,"Unknown source."),o=c.source.tagged||t.serverCache.isFiltered(),a=wj(e,t,c.path,c.children,r,i,o,s))}else if(n.type===wA.ACK_USER_WRITE){var l=n;a=l.revert?function(e,t,n,r,i,a){var o;if(null!=sj(r,n))return t;var s,u=new pj(r,t,i),c=t.eventCache.getNode();if(hN(n)||".priority"===aN(n)){var l;if(t.serverCache.isFullyInitialized())l=ij(r,LA(t));else{var f=t.serverCache.getNode();vr(f instanceof $N,"serverChildren would be complete if leaf node"),l=aj(r,f)}s=e.filter.updateFullNode(c,l,a)}else{var h=aN(n),d=cj(r,h,t.serverCache);null==d&&t.serverCache.isCompleteForChild(h)&&(d=c.getImmediateChild(h)),(s=null!=d?e.filter.updateChild(c,h,d,sN(n),u,a):t.eventCache.getNode().hasChild(h)?e.filter.updateChild(c,h,$N.EMPTY_NODE,sN(n),u,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=ij(r,LA(t))).isLeafNode()&&(s=e.filter.updateFullNode(s,o,a))}return o=t.serverCache.isFullyInitialized()||null!=sj(r,iN()),AA(t,s,o,e.filter.filtersNodes())}(e,t,l.path,r,i,s):function(e,t,n,r,i,a,o){if(null!=sj(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(hN(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return mj(e,t,n,u.getNode().getChild(n),i,a,s,o);if(hN(n)){var c=new UA(null);return u.getNode().forEachChild(IN,(function(e,t){c=c.set(new rN(e),t)})),wj(e,t,n,c,i,a,s,o)}return t}var l=new UA(null);return r.foreach((function(e,t){var r=fN(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),wj(e,t,n,l,i,a,s,o)}(e,t,l.path,l.affectedTree,r,i,s)}else{if(n.type!==wA.LISTEN_COMPLETE)throw yr("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=jA(t,a.getNode(),a.isFullyInitialized()||hN(n),a.isFiltered());return yj(e,o,n,r,dj,i)}(e,t,n.path,r,s)}var f=s.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=MA(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(nA(MA(t)))}}(t,a,f),{viewCache:a,changes:f}}function yj(e,t,n,r,i,a){var o,s,u=t.eventCache;if(null!=sj(r,n))return t;if(hN(n))if(vr(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var c=LA(t),l=aj(r,c instanceof $N?c:$N.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),l,a)}else{var f=ij(r,LA(t));o=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var h=aN(n);if(".priority"===h){vr(1===oN(n),"Can't have a priority with additional path components");var d=u.getNode(),p=oj(r,n,d,s=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(d,p):u.getNode()}else{var v,y=sN(n);if(u.isCompleteForChild(h)){s=t.serverCache.getNode();var m=oj(r,n,u.getNode(),s);v=null!=m?u.getNode().getImmediateChild(h).updateChild(y,m):u.getNode().getImmediateChild(h)}else v=cj(r,h,t.serverCache);o=null!=v?e.filter.updateChild(u.getNode(),h,v,y,i,a):u.getNode()}}return AA(t,o,u.isFullyInitialized()||hN(n),e.filter.filtersNodes())}function mj(e,t,n,r,i,a,o,s){var u,c=t.serverCache,l=o?e.filter:e.filter.getIndexedFilter();if(hN(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var f=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),f,null)}else{var h=aN(n);if(!c.isCompleteForPath(n)&&oN(n)>1)return t;var d=sN(n),p=c.getNode().getImmediateChild(h).updateChild(d,r);u=".priority"===h?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),h,p,d,dj,null)}var v=jA(t,u,c.isFullyInitialized()||hN(n),l.filtersNodes());return yj(e,v,n,i,new pj(i,v,a),s)}function gj(e,t,n,r,i,a,o){var s,u,c=t.eventCache,l=new pj(i,t,a);if(hN(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),s=AA(t,u,!0,e.filter.filtersNodes());else{var f=aN(n);if(".priority"===f)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=AA(t,u,c.isFullyInitialized(),c.isFiltered());else{var h,d=sN(n),p=c.getNode().getImmediateChild(f);if(hN(d))h=r;else{var v=l.getCompleteChild(f);h=null!=v?".priority"===uN(d)&&v.getChild(lN(d)).isEmpty()?v:v.updateChild(d,r):$N.EMPTY_NODE}if(p.equals(h))s=t;else s=AA(t,e.filter.updateChild(c.getNode(),f,h,d,l,o),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function bj(e,t){return e.eventCache.isCompleteForChild(t)}function kj(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function wj(e,t,n,r,i,a,o,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=hN(n)?r:new UA(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=kj(0,t.serverCache.getNode().getImmediateChild(n),r);c=mj(e,c,new rN(n),u,i,a,o,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!l.hasChild(n)&&!u){var f=kj(0,t.serverCache.getNode().getImmediateChild(n),r);c=mj(e,c,new rN(n),f,i,a,o,s)}})),c}var _j,xj=function(){function e(t,n){d(this,e),this.query_=t,this.eventRegistrations_=[];var r,i=this.query_._queryParams,a=new oA(i.getIndex()),o=(r=i).loadsAllData()?new oA(r.getIndex()):r.hasLimit()?new uA(r):new sA(r);this.processor_=function(e){return{filter:e}}(o);var s=n.serverCache,u=n.eventCache,c=a.updateFullNode($N.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode($N.EMPTY_NODE,u.getNode(),null),f=new OA(c,s.isFullyInitialized(),a.filtersNodes()),h=new OA(l,u.isFullyInitialized(),o.filtersNodes());this.viewCache_=NA(h,f),this.eventGenerator_=new RA(this.query_)}return m(e,[{key:"query",get:function(){return this.query_}}]),e}();function Sj(e,t){var n=LA(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!hN(t)&&!n.getImmediateChild(aN(t)).isEmpty())?n.getChild(t):null}function Ej(e){return 0===e.eventRegistrations_.length}function Tj(e,t,n){var r=[];if(n){vr(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],o=0;o<e.eventRegistrations_.length;++o){var s=e.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(o+1));break}}else a.push(s)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function Ij(e,t,n,r){t.type===wA.MERGE&&null!==t.source.queryId&&(vr(LA(e.viewCache_),"We should always have a full cache before handling merges"),vr(MA(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,s=vj(e.processor_,o,t,n,r);return i=e.processor_,a=s.viewCache,vr(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),vr(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),vr(s.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,Cj(e,s.changes,s.viewCache.eventCache.getNode(),null)}function Cj(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),DA(e,i,"child_removed",t,r,n),DA(e,i,"child_added",t,r,n),DA(e,i,"child_moved",a,r,n),DA(e,i,"child_changed",t,r,n),DA(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var Pj,Oj=m((function e(){d(this,e),this.views=new Map}));function Rj(e){return 0===e.views.size}function Dj(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return vr(null!=a,"SyncTree gave us an op for an invalid query."),Ij(a,t,n,r)}var o,s=[],u=C(e.views.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s=s.concat(Ij(c,t,n,r))}}catch(l){u.e(l)}finally{u.f()}return s}function Nj(e,t,n,r,i){var a=t._queryIdentifier,o=e.views.get(a);if(!o){var s=ij(n,i?r:null),u=!1;s?u=!0:r instanceof $N?(s=aj(n,r),u=!1):(s=$N.EMPTY_NODE,u=!1);var c=NA(new OA(s,u,!1),new OA(r,i,!1));return new xj(t,c)}return o}function Aj(e,t,n,r,i,a){var o=Nj(e,t,r,i,a);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(WN,(function(e,t){r.push(rA(e,t))})),n.isFullyInitialized()&&r.push(nA(n.getNode())),Cj(e,r,n.getNode(),t)}(o,n)}function jj(e,t,n,r){var i=t._queryIdentifier,a=[],o=[],s=Vj(e);if("default"===i){var u,c=C(e.views.entries());try{for(c.s();!(u=c.n()).done;){var f=l(u.value,2),h=f[0],d=f[1];o=o.concat(Tj(d,n,r)),Ej(d)&&(e.views.delete(h),d.query._queryParams.loadsAllData()||a.push(d.query))}}catch(v){c.e(v)}finally{c.f()}}else{var p=e.views.get(i);p&&(o=o.concat(Tj(p,n,r)),Ej(p)&&(e.views.delete(i),p.query._queryParams.loadsAllData()||a.push(p.query)))}return s&&!Vj(e)&&a.push(new(vr(_j,"Reference.ts has not been loaded"),_j)(t._repo,t._path)),{removed:a,events:o}}function Mj(e){var t,n=[],r=C(e.views.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;i.query._queryParams.loadsAllData()||n.push(i)}}catch(a){r.e(a)}finally{r.f()}return n}function Lj(e,t){var n,r=null,i=C(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||Sj(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}function Fj(e,t){if(t._queryParams.loadsAllData())return zj(e);var n=t._queryIdentifier;return e.views.get(n)}function Uj(e,t){return null!=Fj(e,t)}function Vj(e){return null!=zj(e)}function zj(e){var t,n=C(e.views.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.query._queryParams.loadsAllData())return r}}catch(i){n.e(i)}finally{n.f()}return null}var qj=1,Bj=m((function e(t){d(this,e),this.listenProvider_=t,this.syncPointTree_=new UA(null),this.pendingWriteTree_={visibleWrites:VA.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function Wj(e,t,n,r,i){return function(e,t,n,r,i){vr(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=zA(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?Zj(e,new CA({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Hj(e,t,n,r){!function(e,t,n,r){vr(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=qA(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=UA.fromObject(n);return Zj(e,new PA({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function Gj(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=JA(e.pendingWriteTree_,t),i=ZA(e.pendingWriteTree_,t);if(i){var a=new UA(null);return null!=r.snap?a=a.set(iN(),!0):ED(r.children,(function(e){a=a.set(new rN(e),!0)})),Zj(e,new TA(r.path,a,n))}return[]}function Kj(e,t,n){return Zj(e,new CA({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Yj(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=t._path,o=e.syncPointTree_.get(a),s=[];if(o&&("default"===t._queryIdentifier||Uj(o,t))){var u=jj(o,t,n,r);Rj(o)&&(e.syncPointTree_=e.syncPointTree_.remove(a));var c=u.removed;if(s=u.events,!i){var l=-1!==c.findIndex((function(e){return e._queryParams.loadsAllData()})),f=e.syncPointTree_.findOnPath(a,(function(e,t){return Vj(t)}));if(l&&!f){var h=e.syncPointTree_.subtree(a);if(!h.isEmpty())for(var d=uM(h),p=0;p<d.length;++p){var v=d[p],y=v.query,m=nM(e,v);e.listenProvider_.startListening(cM(y),rM(e,y),m.hashFn,m.onComplete)}}if(!f&&c.length>0&&!r)if(l){var g=null;e.listenProvider_.stopListening(cM(t),g)}else c.forEach((function(t){var n=e.queryToTagMap.get(iM(t));e.listenProvider_.stopListening(cM(t),n)}))}lM(e,c)}return s}function Qj(e,t,n,r){var i=aM(e,r);if(null!=i){var a=oM(i),o=a.path,s=a.queryId,u=dN(o,t);return sM(e,o,new CA(SA(s),u,n))}return[]}function $j(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=t._path,a=null,o=!1;e.syncPointTree_.foreachOnPath(i,(function(e,t){var n=dN(e,i);a=a||Lj(t,n),o=o||Vj(t)}));var s,u=e.syncPointTree_.get(i);if(u?(o=o||Vj(u),a=a||Lj(u,iN())):(u=new Oj,e.syncPointTree_=e.syncPointTree_.set(i,u)),null!=a)s=!0;else{s=!1,a=$N.EMPTY_NODE;var c=e.syncPointTree_.subtree(i);c.foreachChild((function(e,t){var n=Lj(t,iN());n&&(a=a.updateImmediateChild(e,n))}))}var l=Uj(u,t);if(!l&&!t._queryParams.loadsAllData()){var f=iM(t);vr(!e.queryToTagMap.has(f),"View does not exist, but we have a tag");var h=fM();e.queryToTagMap.set(f,h),e.tagToQueryMap.set(h,f)}var d=XA(e.pendingWriteTree_,i),p=Aj(u,t,n,d,a,s);if(!l&&!o&&!r){var v=Fj(u,t);p=p.concat(hM(e,t,v))}return p}function Xj(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=Lj(n,dN(e,t));if(r)return r}));return rj(r,t,i,n,!0)}function Jj(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=dN(e,n);r=r||Lj(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||Lj(i,iN()):(i=new Oj,e.syncPointTree_=e.syncPointTree_.set(n,i));var a=null!=r,o=a?new OA(r,!0,!1):null;return function(e){return MA(e.viewCache_)}(Nj(i,t,XA(e.pendingWriteTree_,t._path),a?o.getNode():$N.EMPTY_NODE,a))}function Zj(e,t){return eM(t,e.syncPointTree_,null,XA(e.pendingWriteTree_,iN()))}function eM(e,t,n,r){if(hN(e.path))return tM(e,t,n,r);var i=t.get(iN());null==n&&null!=i&&(n=Lj(i,iN()));var a=[],o=aN(e.path),s=e.operationForChild(o),u=t.children.get(o);if(u&&s){var c=n?n.getImmediateChild(o):null,l=lj(r,o);a=a.concat(eM(s,u,c,l))}return i&&(a=a.concat(Dj(i,e,r,n))),a}function tM(e,t,n,r){var i=t.get(iN());null==n&&null!=i&&(n=Lj(i,iN()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,s=lj(r,t),u=e.operationForChild(t);u&&(a=a.concat(tM(u,i,o,s)))})),i&&(a=a.concat(Dj(i,e,r,n))),a}function nM(e,t){var n=t.query,r=rM(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||$N.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=aM(e,n);if(r){var i=oM(r),a=i.path,o=i.queryId,s=dN(a,t);return sM(e,a,new IA(SA(o),s))}return[]}(e,n._path,r):function(e,t){return Zj(e,new IA({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return Yj(e,n,null,i)}}}function rM(e,t){var n=iM(t);return e.queryToTagMap.get(n)}function iM(e){return e._path.toString()+"$"+e._queryIdentifier}function aM(e,t){return e.tagToQueryMap.get(t)}function oM(e){var t=e.indexOf("$");return vr(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new rN(e.substr(0,t))}}function sM(e,t,n){var r=e.syncPointTree_.get(t);return vr(r,"Missing sync point for query tag that we're tracking"),Dj(r,n,XA(e.pendingWriteTree_,t),null)}function uM(e){return e.fold((function(e,t,n){if(t&&Vj(t))return[zj(t)];var r=[];return t&&(r=Mj(t)),ED(n,(function(e,t){r=r.concat(t)})),r}))}function cM(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(vr(Pj,"Reference.ts has not been loaded"),Pj)(e._repo,e._path):e}function lM(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=iM(r),a=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(a)}}}function fM(){return qj++}function hM(e,t,n){var r=t._path,i=rM(e,t),a=nM(e,n),o=e.listenProvider_.startListening(cM(t),i,a.hashFn,a.onComplete),s=e.syncPointTree_.subtree(r);if(i)vr(!Vj(s.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=s.fold((function(e,t,n){if(!hN(e)&&t&&Vj(t))return[zj(t).query];var r=[];return t&&(r=r.concat(Mj(t).map((function(e){return e.query})))),ED(n,(function(e,t){r=r.concat(t)})),r})),c=0;c<u.length;++c){var l=u[c];e.listenProvider_.stopListening(cM(l),rM(e,l))}return o}var dM=function(){function e(t){d(this,e),this.node_=t}return m(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),pM=function(){function e(t,n){d(this,e),this.syncTree_=t,this.path_=n}return m(e,[{key:"getImmediateChild",value:function(t){var n=fN(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return Xj(this.syncTree_,this.path_)}}]),e}(),vM=function(e,t,n){return e&&"object"===typeof e?(vr(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?yM(e[".sv"],t,n):"object"===typeof e[".sv"]?mM(e[".sv"],t):void vr(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},yM=function(e,t,n){if("timestamp"===e)return n.timestamp;vr(!1,"Unexpected server value: "+e)},mM=function(e,t,n){e.hasOwnProperty("increment")||vr(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&vr(!1,"Unexpected increment value: "+r);var i=t.node();if(vr(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},gM=function(e,t,n,r){return kM(t,new pM(n,e),r)},bM=function(e,t,n){return kM(e,new dM(t),n)};function kM(e,t,n){var r,i=e.getPriority().val(),a=vM(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,s=vM(o.getValue(),t,n);return s!==o.getValue()||a!==o.getPriority().val()?new VN(s,JN(a)):e}var u=e;return r=u,a!==u.getPriority().val()&&(r=r.updatePriority(new VN(a))),u.forEachChild(WN,(function(e,i){var a=kM(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var wM=m((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};d(this,e),this.name=t,this.parent=n,this.node=r}));function _M(e,t){for(var n=t instanceof rN?t:new rN(t),r=e,i=aN(n);null!==i;){var a=Wr(r.node.children,i)||{children:{},childCount:0};r=new wM(i,r,a),i=aN(n=sN(n))}return r}function xM(e){return e.node.value}function SM(e,t){e.node.value=t,PM(e)}function EM(e){return e.node.childCount>0}function TM(e,t){ED(e.node.children,(function(n,r){t(new wM(n,e,r))}))}function IM(e,t,n,r){n&&!r&&t(e),TM(e,(function(e){IM(e,t,!0,r)})),n&&r&&t(e)}function CM(e){return new rN(null===e.parent?e.name:CM(e.parent)+"/"+e.name)}function PM(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===xM(e)&&!EM(e)}(n),i=Br(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,PM(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,PM(e))}(e.parent,e.name,e)}var OM=/[\[\].#$\/\u0000-\u001F\u007F]/,RM=/[\[\].#$\u0000-\u001F\u007F]/,DM=10485760,NM=function(e){return"string"===typeof e&&0!==e.length&&!OM.test(e)},AM=function(e){return"string"===typeof e&&0!==e.length&&!RM.test(e)},jM=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!mD(e)||e&&"object"===typeof e&&Br(e,".sv")},MM=function(e,t,n,r){r&&void 0===t||LM(ri(e,"value"),t,n)},LM=function e(t,n,r){var i=r instanceof rN?new mN(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+bN(i));if("function"===typeof n)throw new Error(t+"contains a function "+bN(i)+" with contents = "+n.toString());if(mD(n))throw new Error(t+"contains "+n.toString()+" "+bN(i));if("string"===typeof n&&n.length>DM/3&&oi(n)>DM)throw new Error(t+"contains a string greater than "+DM+" utf8 bytes "+bN(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if(ED(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!NM(n)))throw new Error(t+" contains an invalid key ("+n+") "+bN(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=oi(t),gN(e)}(i,n),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=oi(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&o)throw new Error(t+' contains ".value" child '+bN(i)+" in addition to actual children.")}},FM=function(e,t,n,r){if(!r||void 0!==t){var i=ri(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];ED(t,(function(e,t){var r=new rN(e);if(LM(i,t,fN(n,r)),".priority"===uN(r)&&!jM(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=cN(r=t[n]),a=0;a<i.length;a++)if(".priority"===i[a]&&a===i.length-1);else if(!NM(i[a]))throw new Error(e+"contains an invalid key ("+i[a]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(pN);var o=null;for(n=0;n<t.length;n++){if(r=t[n],null!==o&&yN(o,r))throw new Error(e+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}}(i,a)}},UM=function(e,t,n){if(!n||void 0!==t){if(mD(t))throw new Error(ri(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!jM(t))throw new Error(ri(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},VM=function(e,t,n,r){if((!r||void 0!==n)&&!NM(n))throw new Error(ri(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},zM=function(e,t,n,r){if((!r||void 0!==n)&&!AM(n))throw new Error(ri(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},qM=function(e,t){if(".info"===aN(t))throw new Error(e+" failed = Can't modify data under /.info/")},BM=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!NM(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),AM(e)}(n))throw new Error(ri(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},WM=m((function e(){d(this,e),this.eventLists_=[],this.recursionDepth_=0}));function HM(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||vN(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function GM(e,t,n){HM(e,n),YM(e,(function(e){return vN(e,t)}))}function KM(e,t,n){HM(e,n),YM(e,(function(e){return yN(e,t)||yN(t,e)}))}function YM(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(QM(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function QM(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();cD&&hD("event: "+n.toString()),PD(r)}}}var $M="repo_interrupt",XM=function(){function e(t,n,r,i){d(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new WM,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=mA(),this.transactionQueueTree_=new wM,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return m(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function JM(e,t,n){if(e.stats_=WD(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new vA(e.repoInfo_,(function(t,n,r,i){tL(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return nL(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{zr(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new _N(e.repoInfo_,t,(function(t,n,r,i){tL(e,t,n,r,i)}),(function(t){nL(e,t)}),(function(t){!function(e,t){ED(t,(function(t,n){rL(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return BD[n]||(BD[n]=t()),BD[n]}(e.repoInfo_,(function(){return new xA(e.stats_,e.server_)})),e.infoData_=new yA,e.infoSyncTree_=new Bj({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=Kj(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),rL(e,"connected",!1),e.serverSyncTree_=new Bj({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);KM(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function ZM(e){var t=e.infoData_.getNode(new rN(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function eL(e){return(t=(t={timestamp:ZM(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function tL(e,t,n,r,i){e.dataUpdateCount++;var a=new rN(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var s=Gr(n,(function(e){return JN(e)}));o=function(e,t,n,r){var i=aM(e,r);if(i){var a=oM(i),o=a.path,s=a.queryId,u=dN(o,t),c=UA.fromObject(n);return sM(e,o,new PA(SA(s),u,c))}return[]}(e.serverSyncTree_,a,s,i)}else{var u=JN(n);o=Qj(e.serverSyncTree_,a,u,i)}else if(r){var c=Gr(n,(function(e){return JN(e)}));o=function(e,t,n){var r=UA.fromObject(n);return Zj(e,new PA({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,c)}else{var l=JN(n);o=Kj(e.serverSyncTree_,a,l)}var f=a;o.length>0&&(f=vL(e,a)),KM(e.eventQueue_,f,o)}function nL(e,t){rL(e,"connected",t),!1===t&&function(e){lL(e,"onDisconnectEvents");var t=eL(e),n=mA();kA(e.onDisconnect_,iN(),(function(r,i){var a=gM(r,i,e.serverSyncTree_,t);gA(n,r,a)}));var r=[];kA(n,iN(),(function(t,n){r=r.concat(Kj(e.serverSyncTree_,t,n));var i=kL(e,t);vL(e,i)})),e.onDisconnect_=mA(),KM(e.eventQueue_,iN(),r)}(e)}function rL(e,t,n){var r=new rN("/.info/"+t),i=JN(n);e.infoData_.updateSnapshot(r,i);var a=Kj(e.infoSyncTree_,r,i);KM(e.eventQueue_,r,a)}function iL(e){return e.nextWriteId_++}function aL(e,t,n,r,i){lL(e,"set",{path:t.toString(),value:n,priority:r});var a=eL(e),o=JN(n,r),s=Xj(e.serverSyncTree_,t),u=bM(o,s,a),c=iL(e),l=Wj(e.serverSyncTree_,t,u,c,!0);HM(e.eventQueue_,l),e.server_.put(t.toString(),o.val(!0),(function(n,r){var a="ok"===n;a||yD("set at "+t+" failed: "+n);var o=Gj(e.serverSyncTree_,c,!a);KM(e.eventQueue_,t,o),fL(e,i,n,r)}));var f=kL(e,t);vL(e,f),KM(e.eventQueue_,f,[])}function oL(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&bA(e.onDisconnect_,t),fL(e,n,r,i)}))}function sL(e,t,n,r){var i=JN(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,a){"ok"===n&&gA(e.onDisconnect_,t,i),fL(e,r,n,a)}))}function uL(e,t,n){var r;r=".info"===aN(t._path)?Yj(e.infoSyncTree_,t,n):Yj(e.serverSyncTree_,t,n),GM(e.eventQueue_,t._path,r)}function cL(e){e.persistentConnection_&&e.persistentConnection_.interrupt($M)}function lL(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];hD.apply(void 0,[t].concat(r))}function fL(e,t,n,r){t&&PD((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var a=new Error(i);a.code=e,t(a)}}))}function hL(e,t,n){return Xj(e.serverSyncTree_,t,n)||$N.EMPTY_NODE}function dL(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||bL(e,t),xM(t)){var n=mL(e,t);vr(n.length>0,"Sending zero length transaction queue");var r=n.every((function(e){return 0===e.status}));r&&pL(e,CM(t),n)}else EM(t)&&TM(t,(function(t){dL(e,t)}))}function pL(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=hL(e,t,r),a=i,o=i.hash(),s=0;s<n.length;s++){var u=n[s];vr(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var c=dN(t,u.path);a=a.updateChild(c,u.currentOutputSnapshotRaw)}var l=a.val(!0),f=t;e.server_.put(f.toString(),l,(function(r){lL(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(Gj(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)o(s);bL(e,_M(e.transactionQueueTree_,t)),dL(e,e.transactionQueueTree_),KM(e.eventQueue_,t,i);for(var u=0;u<a.length;u++)PD(a[u])}else{if("datastale"===r)for(var c=0;c<n.length;c++)3===n[c].status?n[c].status=4:n[c].status=0;else{yD("transaction at "+f.toString()+" failed: "+r);for(var l=0;l<n.length;l++)n[l].status=4,n[l].abortReason=r}vL(e,t)}}),o)}function vL(e,t){var n=yL(e,t),r=CM(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})),o=a.map((function(e){return e.currentWriteId})),s=function(a){var s,u,c=t[a],l=dN(n,c.path),f=!1;if(vr(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)f=!0,s=c.abortReason,i=i.concat(Gj(e.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=25)f=!0,s="maxretry",i=i.concat(Gj(e.serverSyncTree_,c.currentWriteId,!0));else{var h=hL(e,c.path,o);c.currentInputSnapshot=h;var d=t[a].update(h.val());if(void 0!==d){LM("transaction failed: Data returned ",d,c.path);var p=JN(d);"object"===typeof d&&null!=d&&Br(d,".priority")||(p=p.updatePriority(h.getPriority()));var v=c.currentWriteId,y=eL(e),m=bM(p,h,y);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=m,c.currentWriteId=iL(e),o.splice(o.indexOf(v),1),i=(i=i.concat(Wj(e.serverSyncTree_,c.path,m,c.currentWriteId,c.applyLocally))).concat(Gj(e.serverSyncTree_,v,!0))}else f=!0,s="nodata",i=i.concat(Gj(e.serverSyncTree_,c.currentWriteId,!0))}KM(e.eventQueue_,n,i),i=[],f&&(t[a].status=2,u=t[a].unwatcher,setTimeout(u,Math.floor(0)),t[a].onComplete&&("nodata"===s?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(s),!1,null)}))))},u=0;u<t.length;u++)s(u);bL(e,e.transactionQueueTree_);for(var c=0;c<r.length;c++)PD(r[c]);dL(e,e.transactionQueueTree_)}(e,mL(e,n),r),r}function yL(e,t){var n,r=e.transactionQueueTree_;for(n=aN(t);null!==n&&void 0===xM(r);)r=_M(r,n),n=aN(t=sN(t));return r}function mL(e,t){var n=[];return gL(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function gL(e,t,n){var r=xM(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);TM(t,(function(t){gL(e,t,n)}))}function bL(e,t){var n=xM(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,SM(t,n.length>0?n:void 0)}TM(t,(function(t){bL(e,t)}))}function kL(e,t){var n=CM(yL(e,t)),r=_M(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){wL(e,t)})),wL(e,r),IM(r,(function(t){wL(e,t)})),n}function wL(e,t){var n=xM(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(vr(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(vr(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Gj(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?SM(t,void 0):n.length=a+1,KM(e.eventQueue_,CM(t),i);for(var s=0;s<r.length;s++)PD(r[s])}}var _L=function(e,t){var n=xL(e),r=n.namespace;"firebase.com"===n.domain&&vD(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||vD("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&yD("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new UD(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new rN(n.pathString)}},xL=function(e){var t="",n="",r="",i="",a="",o=!0,s="https",u=443;if("string"===typeof e){var c=e.indexOf("//");c>=0&&(s=e.substring(0,c-1),e=e.substring(c+2));var l=e.indexOf("/");-1===l&&(l=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(l,f)),l<f&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(a){}t+="/"+i}return t}(e.substring(l,f)));var h=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=C(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):yD("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,f)));(c=t.indexOf(":"))>=0?(o="https"===s||"wss"===s,u=parseInt(t.substring(c+1),10)):c=t.length;var d=t.slice(0,c);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),a=r}"ns"in h&&(a=h.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:o,scheme:s,pathString:i,namespace:a}},SL="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",EL=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var a=new Array(8);for(r=7;r>=0;r--)a[r]=SL.charAt(n%64),n=Math.floor(n/64);vr(0===n,"Cannot push at time == 0");var o=a.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)o+=SL.charAt(t[r]);return vr(20===o.length,"nextPushId: Length should be 20."),o}}(),TL=function(){function e(t,n,r,i){d(this,e),this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return m(e,[{key:"getPath",value:function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}},{key:"getEventType",value:function(){return this.eventType}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.getPath().toString()+":"+this.eventType+":"+zr(this.snapshot.exportVal())}}]),e}(),IL=function(){function e(t,n,r){d(this,e),this.eventRegistration=t,this.error=n,this.path=r}return m(e,[{key:"getPath",value:function(){return this.path}},{key:"getEventType",value:function(){return"cancel"}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.path.toString()+":cancel"}}]),e}(),CL=function(){function e(t,n){d(this,e),this.snapshotCallback=t,this.cancelCallback=n}return m(e,[{key:"onValue",value:function(e,t){this.snapshotCallback.call(null,e,t)}},{key:"onCancel",value:function(e){return vr(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}},{key:"hasCancelCallback",get:function(){return!!this.cancelCallback}},{key:"matches",value:function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}]),e}(),PL=function(){function e(t,n){d(this,e),this._repo=t,this._path=n}return m(e,[{key:"cancel",value:function(){var e=new Tr;return oL(this._repo,this._path,e.wrapCallback((function(){}))),e.promise}},{key:"remove",value:function(){qM("OnDisconnect.remove",this._path);var e=new Tr;return sL(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise}},{key:"set",value:function(e){qM("OnDisconnect.set",this._path),MM("OnDisconnect.set",e,this._path,!1);var t=new Tr;return sL(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise}},{key:"setWithPriority",value:function(e,t){qM("OnDisconnect.setWithPriority",this._path),MM("OnDisconnect.setWithPriority",e,this._path,!1),UM("OnDisconnect.setWithPriority",t,!1);var n=new Tr;return function(e,t,n,r,i){var a=JN(n,r);e.server_.onDisconnectPut(t.toString(),a.val(!0),(function(n,r){"ok"===n&&gA(e.onDisconnect_,t,a),fL(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise}},{key:"update",value:function(e){qM("OnDisconnect.update",this._path),FM("OnDisconnect.update",e,this._path,!1);var t=new Tr;return function(e,t,n,r){if(Hr(n))return hD("onDisconnect().update() called with empty data.  Don't do anything."),void fL(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,a){"ok"===i&&ED(n,(function(n,r){var i=JN(r);gA(e.onDisconnect_,fN(t,n),i)})),fL(0,r,i,a)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise}}]),e}(),OL=function(){function e(t,n,r,i){d(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return m(e,[{key:"key",get:function(){return hN(this._path)?null:uN(this._path)}},{key:"ref",get:function(){return new AL(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=pA(this._queryParams),t=xD(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return pA(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=si(t))instanceof e))return!1;var n=this._repo===t._repo,r=vN(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}();function RL(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function DL(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===IN){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==gD)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==bD)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===WN){if(null!=t&&!jM(t)||null!=n&&!jM(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(vr(e.getIndex()instanceof ZN||e.getIndex()===tA,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function NL(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var AL=function(e){b(n,e);var t=S(n);function n(e,r){return d(this,n),t.call(this,e,r,new cA,!1)}return m(n,[{key:"parent",get:function(){var e=lN(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(OL),jL=function(){function e(t,n,r){d(this,e),this._node=t,this.ref=n,this._index=r}return m(e,[{key:"priority",get:function(){return this._node.getPriority().val()}},{key:"key",get:function(){return this.ref.key}},{key:"size",get:function(){return this._node.numChildren()}},{key:"child",value:function(t){var n=new rN(t),r=FL(this.ref,t);return new e(this._node.getChild(n),r,WN)}},{key:"exists",value:function(){return!this._node.isEmpty()}},{key:"exportVal",value:function(){return this._node.val(!0)}},{key:"forEach",value:function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,FL(n.ref,r),WN))}))}},{key:"hasChild",value:function(e){var t=new rN(e);return!this._node.getChild(t).isEmpty()}},{key:"hasChildren",value:function(){return!this._node.isLeafNode()&&!this._node.isEmpty()}},{key:"toJSON",value:function(){return this.exportVal()}},{key:"val",value:function(){return this._node.val()}}]),e}();function ML(e,t){return(e=si(e))._checkNotDeleted("ref"),void 0!==t?FL(e._root,t):e._root}function LL(e,t){(e=si(e))._checkNotDeleted("refFromURL");var n=_L(t,e._repo.repoInfo_.nodeAdmin);BM("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||vD("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),ML(e,n.path.toString())}function FL(e,t){var n,r,i,a;return null===aN((e=si(e))._path)?(n="child",r="path",a=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),zM(n,r,i,a)):zM("child","path",t,!1),new AL(e._repo,fN(e._path,t))}function UL(e,t){e=si(e),qM("push",e._path),MM("push",t,e._path,!0);var n,r=ZM(e._repo),i=EL(r),a=FL(e,i),o=FL(e,i);return n=null!=t?zL(o,t).then((function(){return o})):Promise.resolve(o),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}function VL(e){return qM("remove",e._path),zL(e,null)}function zL(e,t){e=si(e),qM("set",e._path),MM("set",t,e._path,!1);var n=new Tr;return aL(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function qL(e,t){e=si(e),qM("setPriority",e._path),UM("setPriority",t,!1);var n=new Tr;return aL(e._repo,fN(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}function BL(e,t,n){if(qM("setWithPriority",e._path),MM("setWithPriority",t,e._path,!1),UM("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new Tr;return aL(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}function WL(e,t){FM("update",t,e._path,!1);var n=new Tr;return function(e,t,n,r){lL(e,"update",{path:t.toString(),value:n});var i=!0,a=eL(e),o={};if(ED(n,(function(n,r){i=!1,o[n]=gM(fN(t,n),JN(r),e.serverSyncTree_,a)})),i)hD("update() called with empty data.  Don't do anything."),fL(0,r,"ok",void 0);else{var s=iL(e),u=Hj(e.serverSyncTree_,t,o,s);HM(e.eventQueue_,u),e.server_.merge(t.toString(),n,(function(n,i){var a="ok"===n;a||yD("update at "+t+" failed: "+n);var o=Gj(e.serverSyncTree_,s,!a),u=o.length>0?vL(e,t):t;KM(e.eventQueue_,u,o),fL(0,r,n,i)})),ED(n,(function(n){var r=kL(e,fN(t,n));vL(e,r)})),KM(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function HL(e){e=si(e);var t=new CL((function(){})),n=new GL(t);return function(e,t,n){var r=Jj(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then((function(r){var i,a=JN(r).withIndex(t._queryParams.getIndex());if($j(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())i=Kj(e.serverSyncTree_,t._path,a);else{var o=rM(e.serverSyncTree_,t);i=Qj(e.serverSyncTree_,t._path,a,o)}return KM(e.eventQueue_,t._path,i),Yj(e.serverSyncTree_,t,n,null,!0),a}),(function(n){return lL(e,"get for query "+zr(t)+" failed: "+n),Promise.reject(new Error(n))}))}(e._repo,e,n).then((function(t){return new jL(t,new AL(e._repo,e._path),e._queryParams.getIndex())}))}var GL=function(){function e(t){d(this,e),this.callbackContext=t}return m(e,[{key:"respondsTo",value:function(e){return"value"===e}},{key:"createEvent",value:function(e,t){var n=t._queryParams.getIndex();return new TL("value",this,new jL(e.snapshotNode,new AL(t._repo,t._path),n))}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new IL(this,e,t):null}},{key:"matches",value:function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}},{key:"hasAnyCallback",value:function(){return null!==this.callbackContext}}]),e}(),KL=function(){function e(t,n){d(this,e),this.eventType=t,this.callbackContext=n}return m(e,[{key:"respondsTo",value:function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new IL(this,e,t):null}},{key:"createEvent",value:function(e,t){vr(null!=e.childName,"Child events should have a childName.");var n=FL(new AL(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new TL(e.type,this,new jL(e.snapshotNode,n,r),e.prevName)}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}}},{key:"matches",value:function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))}},{key:"hasAnyCallback",value:function(){return!!this.callbackContext}}]),e}();function YL(e,t,n,r,i){var a;if("object"===typeof r&&(a=void 0,i=r),"function"===typeof r&&(a=r),i&&i.onlyOnce){var o=n,s=function(t,n){uL(e._repo,e,c),o(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new CL(n,a||void 0),c="value"===t?new GL(u):new KL(t,u);return function(e,t,n){var r;r=".info"===aN(t._path)?$j(e.infoSyncTree_,t,n):$j(e.serverSyncTree_,t,n),GM(e.eventQueue_,t._path,r)}(e._repo,e,c),function(){return uL(e._repo,e,c)}}function QL(e,t,n,r){return YL(e,"value",t,n,r)}function $L(e,t,n,r){return YL(e,"child_added",t,n,r)}function XL(e,t,n,r){return YL(e,"child_changed",t,n,r)}function JL(e,t,n,r){return YL(e,"child_moved",t,n,r)}function ZL(e,t,n,r){return YL(e,"child_removed",t,n,r)}function eF(e,t,n){var r=null,i=n?new CL(n):null;"value"===t?r=new GL(i):t&&(r=new KL(t,i)),uL(e._repo,e,r)}var tF=m((function e(){d(this,e)})),nF=function(e){b(n,e);var t=S(n);function n(e,r){var i;return d(this,n),(i=t.call(this))._value=e,i._key=r,i}return m(n,[{key:"_apply",value:function(e){MM("endAt",this._value,e._path,!0);var t=fA(e._queryParams,this._value,this._key);if(NL(t),DL(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new OL(e._repo,e._path,t,e._orderByCalled)}}]),n}(tF);function rF(e,t){return VM("endAt","key",t,!0),new nF(e,t)}var iF=function(e){b(n,e);var t=S(n);function n(e,r){var i;return d(this,n),(i=t.call(this))._value=e,i._key=r,i}return m(n,[{key:"_apply",value:function(e){MM("endBefore",this._value,e._path,!1);var t=function(e,t,n){var r;return(r=e.index_===IN||n?fA(e,t,n):fA(e,t,gD)).endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(NL(t),DL(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new OL(e._repo,e._path,t,e._orderByCalled)}}]),n}(tF);function aF(e,t){return VM("endBefore","key",t,!0),new iF(e,t)}var oF=function(e){b(n,e);var t=S(n);function n(e,r){var i;return d(this,n),(i=t.call(this))._value=e,i._key=r,i}return m(n,[{key:"_apply",value:function(e){MM("startAt",this._value,e._path,!0);var t=lA(e._queryParams,this._value,this._key);if(NL(t),DL(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new OL(e._repo,e._path,t,e._orderByCalled)}}]),n}(tF);function sF(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return VM("startAt","key",t,!0),new oF(e,t)}var uF=function(e){b(n,e);var t=S(n);function n(e,r){var i;return d(this,n),(i=t.call(this))._value=e,i._key=r,i}return m(n,[{key:"_apply",value:function(e){MM("startAfter",this._value,e._path,!1);var t=function(e,t,n){var r;return(r=e.index_===IN||n?lA(e,t,n):lA(e,t,bD)).startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(NL(t),DL(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new OL(e._repo,e._path,t,e._orderByCalled)}}]),n}(tF);function cF(e,t){return VM("startAfter","key",t,!0),new uF(e,t)}var lF=function(e){b(n,e);var t=S(n);function n(e){var r;return d(this,n),(r=t.call(this))._limit=e,r}return m(n,[{key:"_apply",value:function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new OL(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}]),n}(tF);function fF(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new lF(e)}var hF=function(e){b(n,e);var t=S(n);function n(e){var r;return d(this,n),(r=t.call(this))._limit=e,r}return m(n,[{key:"_apply",value:function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new OL(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}]),n}(tF);function dF(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new hF(e)}var pF=function(e){b(n,e);var t=S(n);function n(e){var r;return d(this,n),(r=t.call(this))._path=e,r}return m(n,[{key:"_apply",value:function(e){RL(e,"orderByChild");var t=new rN(this._path);if(hN(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new ZN(t),r=hA(e._queryParams,n);return DL(r),new OL(e._repo,e._path,r,!0)}}]),n}(tF);function vF(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return zM("orderByChild","path",e,!1),new pF(e)}var yF=function(e){b(n,e);var t=S(n);function n(){return d(this,n),t.apply(this,arguments)}return m(n,[{key:"_apply",value:function(e){RL(e,"orderByKey");var t=hA(e._queryParams,IN);return DL(t),new OL(e._repo,e._path,t,!0)}}]),n}(tF);function mF(){return new yF}var gF=function(e){b(n,e);var t=S(n);function n(){return d(this,n),t.apply(this,arguments)}return m(n,[{key:"_apply",value:function(e){RL(e,"orderByPriority");var t=hA(e._queryParams,WN);return DL(t),new OL(e._repo,e._path,t,!0)}}]),n}(tF);function bF(){return new gF}var kF=function(e){b(n,e);var t=S(n);function n(){return d(this,n),t.apply(this,arguments)}return m(n,[{key:"_apply",value:function(e){RL(e,"orderByValue");var t=hA(e._queryParams,tA);return DL(t),new OL(e._repo,e._path,t,!0)}}]),n}(tF);function wF(){return new kF}var _F=function(e){b(n,e);var t=S(n);function n(e,r){var i;return d(this,n),(i=t.call(this))._value=e,i._key=r,i}return m(n,[{key:"_apply",value:function(e){if(MM("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new nF(this._value,this._key)._apply(new oF(this._value,this._key)._apply(e))}}]),n}(tF);function xF(e,t){return VM("equalTo","key",t,!0),new _F(e,t)}function SF(e){for(var t=si(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];t=s._apply(t)}return t}!function(e){vr(!_j,"__referenceConstructor has already been defined"),_j=e}(AL),function(e){vr(!Pj,"__referenceConstructor has already been defined"),Pj=e}(AL);var EF={},TF=!1;function IF(e,t,n,r){e.repoInfo_=new UD("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}function CF(e,t,n,r,i){var a=r||e.options.databaseURL;void 0===a&&(e.options.projectId||vD("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),hD("Using default host for project ",e.options.projectId),a="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var o,s=_L(a,i),u=s.repoInfo,c=void 0;"undefined"!==typeof process&&(c={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FIREBASE_DATABASE_EMULATOR_HOST),c?(o=!0,a="http://".concat(c,"?ns=").concat(u.namespace),u=(s=_L(a,i)).repoInfo):o=!s.repoInfo.secure;var l=i&&o?new ND(ND.OWNER):new DD(e.name,e.options,t);BM("Invalid Firebase Database URL",s),hN(s.path)||vD("Database URL must point to the root of a Firebase Database (not including a child path).");var f=function(e,t,n,r){var i=EF[t.name];i||(i={},EF[t.name]=i);var a=i[e.toURLString()];a&&vD("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new XM(e,TF,n,r),i[e.toURLString()]=a,a}(u,e,l,new RD(e.name,n));return new PF(f,e)}var PF=function(){function e(t,n){d(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return m(e,[{key:"_repo",get:function(){return this._instanceStarted||(JM(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new AL(this._repo,iN())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=EF[t];n&&n[e.key]===e||vD("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),cL(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&vD("Cannot call "+e+" on a deleted database.")}}]),e}();function OF(){JD.IS_TRANSPORT_INITIALIZED&&yD("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function RF(){OF(),YD.forceDisallow()}function DF(){OF(),XD.forceDisallow(),YD.forceAllow()}function NF(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(e=si(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&vD("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&vD('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new ND(ND.OWNER);else if(r.mockUserToken){var o="string"===typeof r.mockUserToken?r.mockUserToken:Ir(r.mockUserToken,e.app.options.projectId);a=new ND(o)}IF(i,t,n,a)}function AF(e){(e=si(e))._checkNotDeleted("goOffline"),cL(e._repo)}function jF(e){var t;(e=si(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume($M)}function MF(e,t){fD(e,t)}var LF={".sv":"timestamp"};var FF=function(){function e(t,n){d(this,e),this.committed=t,this.snapshot=n}return m(e,[{key:"toJSON",value:function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}]),e}();function UF(e,t,n){var r;if(e=si(e),qM("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,a=new Tr,o=QL(e,(function(){}));return function(e,t,n,r,i,a){lL(e,"transaction on "+t);var o={path:t,update:n,onComplete:r,status:null,order:oD(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},s=hL(e,t,void 0);o.currentInputSnapshot=s;var u=o.update(s.val());if(void 0===u)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{LM("transaction failed: Data returned ",u,o.path),o.status=0;var c,l=_M(e.transactionQueueTree_,t),f=xM(l)||[];f.push(o),SM(l,f),"object"===typeof u&&null!==u&&Br(u,".priority")?(c=Wr(u,".priority"),vr(jM(c),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):c=(Xj(e.serverSyncTree_,t)||$N.EMPTY_NODE).getPriority().val();var h=eL(e),d=JN(u,c),p=bM(d,s,h);o.currentOutputSnapshotRaw=d,o.currentOutputSnapshotResolved=p,o.currentWriteId=iL(e);var v=Wj(e.serverSyncTree_,t,p,o.currentWriteId,o.applyLocally);KM(e.eventQueue_,t,v),dL(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(function(t,n,r){var i=null;t?a.reject(t):(i=new jL(r,new AL(e._repo,e._path),WN),a.resolve(new FF(n,i)))}),o,i),a.promise}_N.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},_N.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){ZR(ra),$i(new ui("database",(function(e,t){var n=t.instanceIdentifier;return CF(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),ca($R,XR,e),ca($R,XR,"esm2017")}();var VF=new bi("@firebase/database-compat"),zF=function(e){var t="FIREBASE WARNING: "+e;VF.warn(t)},qF=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error(ri(e,t)+"must be a boolean.")},BF=function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(ri(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},WF=function(){function e(t){d(this,e),this._delegate=t}return m(e,[{key:"cancel",value:function(e){ni("OnDisconnect.cancel",0,1,arguments.length),ii("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"remove",value:function(e){ni("OnDisconnect.remove",0,1,arguments.length),ii("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"set",value:function(e,t){ni("OnDisconnect.set",1,2,arguments.length),ii("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"setWithPriority",value:function(e,t,n){ni("OnDisconnect.setWithPriority",2,3,arguments.length),ii("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r}},{key:"update",value:function(e,t){if(ni("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,zF("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ii("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i}}]),e}(),HF=function(){function e(t,n){d(this,e),this.committed=t,this.snapshot=n}return m(e,[{key:"toJSON",value:function(){return ni("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}]),e}(),GF=function(){function e(t,n){d(this,e),this._database=t,this._delegate=n}return m(e,[{key:"val",value:function(){return ni("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}},{key:"exportVal",value:function(){return ni("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}},{key:"toJSON",value:function(){return ni("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}},{key:"exists",value:function(){return ni("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}},{key:"child",value:function(t){return ni("DataSnapshot.child",0,1,arguments.length),t=String(t),zM("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))}},{key:"hasChild",value:function(e){return ni("DataSnapshot.hasChild",1,1,arguments.length),zM("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}},{key:"getPriority",value:function(){return ni("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}},{key:"forEach",value:function(t){var n=this;return ni("DataSnapshot.forEach",1,1,arguments.length),ii("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))}},{key:"hasChildren",value:function(){return ni("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}},{key:"key",get:function(){return this._delegate.key}},{key:"numChildren",value:function(){return ni("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}},{key:"getRef",value:function(){return ni("DataSnapshot.ref",0,0,arguments.length),new YF(this._database,this._delegate.ref)}},{key:"ref",get:function(){return this.getRef()}}]),e}(),KF=function(){function e(t,n){d(this,e),this.database=t,this._delegate=n}return m(e,[{key:"on",value:function(t,n,r,i){var a,o=this;ni("Query.on",2,4,arguments.length),ii("Query.on","callback",n,!1);var s=e.getCancelAndContextArgs_("Query.on",r,i),u=function(e,t){n.call(s.context,new GF(o.database,e),t)};u.userCallback=n,u.context=s.context;var c=null===(a=s.cancel)||void 0===a?void 0:a.bind(s.context);switch(t){case"value":return QL(this._delegate,u,c),n;case"child_added":return $L(this._delegate,u,c),n;case"child_removed":return ZL(this._delegate,u,c),n;case"child_changed":return XL(this._delegate,u,c),n;case"child_moved":return JL(this._delegate,u,c),n;default:throw new Error(ri("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}},{key:"off",value:function(e,t,n){if(ni("Query.off",0,3,arguments.length),BF("Query.off",e,!0),ii("Query.off","callback",t,!0),ai("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,eF(this._delegate,e,r)}else eF(this._delegate,e)}},{key:"get",value:function(){var e=this;return HL(this._delegate).then((function(t){return new GF(e.database,t)}))}},{key:"once",value:function(t,n,r,i){var a=this;ni("Query.once",1,4,arguments.length),ii("Query.once","callback",n,!0);var o=e.getCancelAndContextArgs_("Query.once",r,i),s=new Tr,u=function(e,t){var r=new GF(a.database,e);n&&n.call(o.context,r,t),s.resolve(r)};u.userCallback=n,u.context=o.context;var c=function(e){o.cancel&&o.cancel.call(o.context,e),s.reject(e)};switch(t){case"value":QL(this._delegate,u,c,{onlyOnce:!0});break;case"child_added":$L(this._delegate,u,c,{onlyOnce:!0});break;case"child_removed":ZL(this._delegate,u,c,{onlyOnce:!0});break;case"child_changed":XL(this._delegate,u,c,{onlyOnce:!0});break;case"child_moved":JL(this._delegate,u,c,{onlyOnce:!0});break;default:throw new Error(ri("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}},{key:"limitToFirst",value:function(t){return ni("Query.limitToFirst",1,1,arguments.length),new e(this.database,SF(this._delegate,fF(t)))}},{key:"limitToLast",value:function(t){return ni("Query.limitToLast",1,1,arguments.length),new e(this.database,SF(this._delegate,dF(t)))}},{key:"orderByChild",value:function(t){return ni("Query.orderByChild",1,1,arguments.length),new e(this.database,SF(this._delegate,vF(t)))}},{key:"orderByKey",value:function(){return ni("Query.orderByKey",0,0,arguments.length),new e(this.database,SF(this._delegate,mF()))}},{key:"orderByPriority",value:function(){return ni("Query.orderByPriority",0,0,arguments.length),new e(this.database,SF(this._delegate,bF()))}},{key:"orderByValue",value:function(){return ni("Query.orderByValue",0,0,arguments.length),new e(this.database,SF(this._delegate,wF()))}},{key:"startAt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return ni("Query.startAt",0,2,arguments.length),new e(this.database,SF(this._delegate,sF(t,n)))}},{key:"startAfter",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return ni("Query.startAfter",0,2,arguments.length),new e(this.database,SF(this._delegate,cF(t,n)))}},{key:"endAt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return ni("Query.endAt",0,2,arguments.length),new e(this.database,SF(this._delegate,rF(t,n)))}},{key:"endBefore",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return ni("Query.endBefore",0,2,arguments.length),new e(this.database,SF(this._delegate,aF(t,n)))}},{key:"equalTo",value:function(t,n){return ni("Query.equalTo",1,2,arguments.length),new e(this.database,SF(this._delegate,xF(t,n)))}},{key:"toString",value:function(){return ni("Query.toString",0,0,arguments.length),this._delegate.toString()}},{key:"toJSON",value:function(){return ni("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}},{key:"isEqual",value:function(t){if(ni("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)}},{key:"ref",get:function(){return new YF(this.database,new AL(this._delegate._repo,this._delegate._path))}}],[{key:"getCancelAndContextArgs_",value:function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,ii(e,"cancel",r.cancel,!0),r.context=n,ai(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error(ri(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}}]),e}(),YF=function(e){b(n,e);var t=S(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,new OL(r._repo,r._path,new cA,!1))).database=e,i._delegate=r,i}return m(n,[{key:"getKey",value:function(){return ni("Reference.key",0,0,arguments.length),this._delegate.key}},{key:"child",value:function(e){return ni("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new n(this.database,FL(this._delegate,e))}},{key:"getParent",value:function(){ni("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new n(this.database,e):null}},{key:"getRoot",value:function(){return ni("Reference.root",0,0,arguments.length),new n(this.database,this._delegate.root)}},{key:"set",value:function(e,t){ni("Reference.set",1,2,arguments.length),ii("Reference.set","onComplete",t,!0);var n=zL(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"update",value:function(e,t){if(ni("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,zF("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}qM("Reference.update",this._delegate._path),ii("Reference.update","onComplete",t,!0);var i=WL(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i}},{key:"setWithPriority",value:function(e,t,n){ni("Reference.setWithPriority",2,3,arguments.length),ii("Reference.setWithPriority","onComplete",n,!0);var r=BL(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r}},{key:"remove",value:function(e){ni("Reference.remove",0,1,arguments.length),ii("Reference.remove","onComplete",e,!0);var t=VL(this._delegate);return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"transaction",value:function(e,t,n){var r=this;ni("Reference.transaction",1,3,arguments.length),ii("Reference.transaction","transactionUpdate",e,!1),ii("Reference.transaction","onComplete",t,!0),qF("Reference.transaction","applyLocally",n,!0);var i=UF(this._delegate,e,{applyLocally:n}).then((function(e){return new HF(e.committed,new GF(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i}},{key:"setPriority",value:function(e,t){ni("Reference.setPriority",1,2,arguments.length),ii("Reference.setPriority","onComplete",t,!0);var n=qL(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"push",value:function(e,t){var r=this;ni("Reference.push",0,2,arguments.length),ii("Reference.push","onComplete",t,!0);var i=UL(this._delegate,e),a=i.then((function(e){return new n(r.database,e)}));t&&a.then((function(){return t(null)}),(function(e){return t(e)}));var o=new n(this.database,i);return o.then=a.then.bind(a),o.catch=a.catch.bind(a,void 0),o}},{key:"onDisconnect",value:function(){return qM("Reference.onDisconnect",this._delegate._path),new WF(new PL(this._delegate._repo,this._delegate._path))}},{key:"key",get:function(){return this.getKey()}},{key:"parent",get:function(){return this.getParent()}},{key:"root",get:function(){return this.getRoot()}}]),n}(KF),QF=function(){function e(t,n){var r=this;d(this,e),this._delegate=t,this.app=n,this.INTERNAL={delete:function(){return r._delegate._delete()},forceWebSockets:RF,forceLongPolling:DF}}return m(e,[{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};NF(this._delegate,e,t,n)}},{key:"ref",value:function(e){if(ni("database.ref",0,1,arguments.length),e instanceof YF){var t=LL(this._delegate,e.toString());return new YF(this,t)}var n=ML(this._delegate,e);return new YF(this,n)}},{key:"refFromURL",value:function(e){var t="database.refFromURL";ni(t,1,1,arguments.length);var n=LL(this._delegate,e);return new YF(this,n)}},{key:"goOffline",value:function(){return ni("database.goOffline",0,0,arguments.length),AF(this._delegate)}},{key:"goOnline",value:function(){return ni("database.goOnline",0,0,arguments.length),jF(this._delegate)}}]),e}();QF.ServerValue={TIMESTAMP:LF,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}};var $F=Object.freeze({__proto__:null,initStandalone:function(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,a=e.namespace,o=e.nodeAdmin,s=void 0!==o&&o;ZR(r);var u=new li("auth-internal",new di("database-standalone"));return u.setComponent(new ui("auth-internal",(function(){return i}),"PRIVATE")),{instance:new QF(CF(t,u,void 0,n,s),t),namespace:a}}}),XF=QF.ServerValue;!function(e){e.INTERNAL.registerComponent(new ui("database-compat",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new QF(i,r)}),"PUBLIC").setServiceProps({Reference:YF,Query:KF,Database:QF,DataSnapshot:GF,enableLogging:MF,INTERNAL:$F,ServerValue:XF}).setMultipleInstances(!0)),e.registerVersion("@firebase/database-compat","0.3.1")}(Na);Na.initializeApp({apiKey:"AIzaSyC-yKbQFAOJpMDUD4TmZvRbtht4S1PHUkc",authDomain:"let-s-tech.firebaseapp.com",databaseURL:"https://let-s-tech-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"let-s-tech",storageBucket:"let-s-tech.appspot.com",messagingSenderId:"433217818947",appId:"1:433217818947:web:cd0054e8dc7f78a6ab9ff6",measurementId:"G-CLJL5FRMP2"}).firestore();var JF=Na.database(),ZF=Na.auth(),eU=new Na.auth.GoogleAuthProvider,tU=new Na.auth.GithubAuthProvider,nU=Na.storage(),rU=(n(2426),"SET_USER"),iU="SET_LOADING_STATUS",aU="GET_ARTICLES",oU="UPLOAD_IMAGE",sU="GET_USER_DETAILS",uU="GET_LIKES",cU="SEARCH_USERS",lU="SAVE_PROFILE_CHANGES",fU="HANDLE_FOLLOW",hU="RETRIEVE_CONNECTIONS",dU="COMMUNITY_ARTICLES",pU="GET_CONNECTIONS",vU="GET_PROFILES",yU="DELETE_ARTICLE",mU=function(e){return{type:rU,user:e}},gU=function(e){return{type:iU,loading:e}},bU=function(e){return{type:aU,payload:e}};function kU(e){var t;return"google"===e?t=eU:"github"===e&&(t=tU),function(e){ZF.signInWithPopup(t).then((function(t){e(mU(t.user));try{Na.auth().onAuthStateChanged((function(e){if(e){var t=e.uid,n=e.displayName,r=e.email,i=e.photoURL;JF.ref("users/".concat(t)).once("value",(function(e){e.exists()?console.log("User details already exist in the database"):JF.ref("users/".concat(t)).set({userid:t,name:n,email:r,photoUrl:i,backGroundImageURL:"",bio:"Your Bio",currentRole:"Your Current Role",location:"Location",skills:"Your Skills",education:"Your Education"}).then((function(){console.log("User details added to the database!")})).catch((function(e){console.error("Error adding user details to the database: ",e)}))}))}else console.log("No user is signed in")}))}catch(pD){console.log(pD)}})).catch((function(e){return alert(e.message)}))}}function wU(e){var t;return function(n){JF.ref("articles/".concat(e)).on("value",(function(e){if(t=e.val()){for(var r=Object.keys(t),i=[],a=0;a<r.length;a++)i.push(t[r[a]]);i.reverse(),n(bU(i))}else n(bU(null))}))}}function _U(e){return function(t){var n;JF.ref("users/".concat(e)).on("value",(function(e){n=e.val(),t(function(e){return{type:sU,payload:e}}(n))}))}}function xU(e,t,n){return function(r){var i=JF.ref("likes/".concat(e));i.once("value",(function(a){var o=a.val();o&&o.userId===t?(i.remove(),JF.ref("articles/".concat(n,"/").concat(e,"/likes")).transaction((function(e){return e-1}))):(i.set({userId:t}),JF.ref("articles/".concat(n,"/").concat(e,"/likes")).transaction((function(e){return e+1}))),r(function(e){return{type:"HANDLE_LIKES",payload:e}}(e))}))}}function SU(e,t,n,r){return function(i){JF.ref("articles/".concat(n,"/").concat(e,"/comments")).transaction((function(e){return e||(e=[]),e.push({userId:t,comment:r}),e})).then((function(){i({type:"HANDLE_COMMENTS",payload:e})})).catch((function(e){console.error("Error adding comment:",e)}))}}function EU(e,t){return function(n){JF.ref("articles/".concat(t,"/").concat(e,"/likes")).on("value",(function(e){var t;n((t=e.val(),{type:uU,payload:t}))}))}}function TU(e){return function(t){JF.ref("users").once("value",(function(n){var r=[];n.forEach((function(t){var n=t.val();n.name.toLowerCase().includes(e.toLowerCase())&&r.push(n)})),t(function(e){return{type:cU,payload:e}}(r))}))}}function IU(e,t,n,r,i,a,o,s){return function(u){var c={};t&&(c.name=t),n&&(c.bio=n),r&&(c.email=r),i&&(c.education=i),a&&(c.skills=a),o&&(c.location=o),s&&(c.currentRole=s),console.log("userId:",e),JF.ref("users/".concat(e)).update(c).then((function(){u({type:lU,payload:t})})).catch((function(e){console.log(e)}))}}function CU(e,t){return function(n){var r=JF.ref("users/".concat(e,"/connections")),i=JF.ref("users/".concat(t,"/followers"));r.once("value",(function(a){var o=a.val();o?o.includes(t)?r.set(o.filter((function(e){return e!==t}))):r.set([].concat(h(o),[t])):r.set([t]),i.once("value",(function(r){var a=r.val();a?a.includes(e)?i.set(a.filter((function(t){return t!==e}))):i.set([].concat(h(a),[e])):i.set([e]),n(function(e){return{type:fU,payload:e}}(t))}))}))}}function PU(e){return function(t){JF.ref("users/".concat(e,"/connections")).on("value",(function(e){var n;t((n=e.val(),{type:hU,payload:n}))}))}}function OU(e){var t;return function(n){JF.ref("users/".concat(e,"/connections")).once("value").then((function(r){t=r.val();var i=[];t&&t.forEach((function(e){var t=JF.ref("articles/".concat(e));i.push(t.once("value").then((function(e){var t=e.val();if(t){for(var n=Object.keys(t),r=[],i=0;i<n.length;i++)r.push(t[n[i]]);return r}})))}));var a=JF.ref("articles/".concat(e));i.push(a.once("value").then((function(e){var t=e.val();if(t){for(var n=Object.keys(t),r=[],i=0;i<n.length;i++)r.push(t[n[i]]);return r}}))),Promise.all(i).then((function(e){(e=e.flat()).sort((function(e,t){var n=new Date(e.actor.date);return new Date(t.actor.date)-n})),n(function(e){return{type:dU,payload:e}}(e))}))}))}}function RU(e){return function(t){JF.ref("users/".concat(e,"/connections")).on("value",(function(e){var n=e.val();if(n){var r=n.map((function(e){return new Promise((function(t,n){JF.ref("users/".concat(e)).on("value",(function(e){var r=e.val();r?t(r):n()}))}))}));Promise.all(r).then((function(e){console.log("users:",e),t(function(e){return{type:pU,payload:e}}(e))}))}}))}}function DU(e){return function(t){JF.ref("users").on("value",(function(n){var r=n.val();if(r){for(var i=Object.keys(r),a=[],o=0;o<i.length;o++)i[o]!==e&&a.push(r[i[o]]);t(function(e){return{type:vU,payload:e}}(a))}}))}}function NU(e,t){return function(n){JF.ref("articles/".concat(t,"/").concat(e)).remove(),n({type:yU,payload:e})}}var AU,jU,MU,LU,FU,UU,VU,zU,qU,BU,WU,HU,GU,KU,YU,QU,$U,XU,JU,ZU,eV,tV,nV,rV,iV,aV,oV,sV,uV,cV,lV,fV,hV,dV,pV,vV,yV,mV,gV,bV,kV,wV,_V,xV,SV,EV,TV,IV,CV,PV,OV,RV,DV,NV,AV,jV,MV,LV,FV,UV,VV,zV,qV,BV,WV,HV=n(184),GV=Cn.div(AU||(AU=Ye(["\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI Adjusted', 'Segoe UI', 'Liberation Sans',\n    sans-serif;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 9999;\n  height: 70%;\n  background-color: white;\n  animation: fadeIn 0.3s;\n  width: 70%;\n  margin: 0 auto;\n  padding: 20px;\n  margin-top: 50px;\n  overflow-x: scroll;\n  margin-bottom: 50px;\n"]))),KV=Cn.h1(jU||(jU=Ye(["\n  color: #1c1e21;\n  background-color: rgba(0, 0, 0, 0);\n  font-size: 52.152px;\n  line-height: 63.15px;\n  vertical-align: baseline;\n  letter-spacing: normal;\n  word-spacing: 0px;\n  font-weight: 400;\n  font-style: normal;\n  font-variant: normal;\n  text-transform: none;\n  text-decoration: rgb(28, 30, 33);\n  text-align: center;\n  text-indent: 0px;\n  margin: 20px 0;\n"]))),YV=Cn.div(MU||(MU=Ye(["\n  background-color: #6667ab;\n  width: 100%;\n  padding: 20px 0;\n"]))),QV=Cn.div(LU||(LU=Ye(["\n  width: 100%;\n  max-width: 752px;\n  background-color: white;\n  max-height: 90%;\n  overflow: initial;\n  border-radius: 5px;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  top: 32px;\n  margin: 0 auto;\n  padding: 20px;\n  font-size: 18px;\n  line-height: 2;\n  color: rgba(0, 0, 0, 0.6);\n  p {\n    text-justify: inter-word;\n  }\n"]))),$V=Cn.div(FU||(FU=Ye(["\n  width: 100%;\n  max-width: 752px;\n  background-color: white;\n  max-height: 90%;\n  overflow: initial;\n  border-radius: 5px;\n  margin: 0 auto;\n  padding: 20px;\n  font-size: 18px;\n  line-height: 2;\n  color: rgba(0, 0, 0, 0.6);\n  button {\n    width: 100%;\n    background-color: #6667ab;\n    color: white;\n    padding: 10px;\n    border-radius: 5px;\n    border: none;\n    font-size: 18px;\n    font-weight: 600;\n    cursor: pointer;\n  }\n"]))),XV=function(e){var t=function(t){e.handleClick(t)};return(0,HV.jsx)(HV.Fragment,{children:"open"===e.showModel&&(0,HV.jsxs)(GV,{onClick:function(e){return t(e)},children:[(0,HV.jsx)(YV,{children:(0,HV.jsxs)(KV,{children:[(0,HV.jsx)("span",{children:"Idea"}),(0,HV.jsx)("span",{class:"lastName",style:{color:"white",fontWeight:"bold"},children:"Lab"})," ","Community Guidelines"]})}),(0,HV.jsxs)(QV,{children:[(0,HV.jsxs)("p",{children:["By outlining what we think a safe, welcoming, and productive community looks like at"," ",(0,HV.jsx)("span",{style:{fontWeight:"bold",fontColor:"#6667AB"},children:"Idea Lab"}),", we hope to help you understand how best to interact and collaborate on our platform in line with our Terms of Service and Acceptable Use Policies. We encourage our community members to communicate expectations clearly, moderate their projects where possible, and report any content that may violate our policies."]}),(0,HV.jsxs)("p",{children:["The primary purpose of the"," ",(0,HV.jsx)("span",{style:{fontWeight:"bold",fontColor:"#6667AB"},children:"Idea Lab"})," community is to collaborate on software projects. We are committed to maintaining a community where users are free to express themselves and challenge one another's ideas. we encourage our community members to look to these guidelines to inform how they interact on our platform."," "]}),(0,HV.jsx)(KV,{style:{fontSize:"30px"},children:"What do our Community Guidelines cover?"}),(0,HV.jsxs)("ul",{children:[(0,HV.jsxs)("li",{children:[(0,HV.jsx)("h3",{children:"Be Welcoming and Open-minded"}),(0,HV.jsxs)("p",{children:["New users join our community each day. Some are well-established developers, while others are just beginning. Be open to other ideas and experience levels. Make room for opinions other than your own and be welcoming to new collaborators and those just getting started."," "]})]}),(0,HV.jsxs)("li",{children:[(0,HV.jsx)("h3",{children:"Be Respectful"}),(0,HV.jsxs)("p",{children:["Working in a collaborative environment means disagreements may happen. But remember to criticize ideas, not people. Share thoughtful, constructive criticism and be courteous to those you interact with. If you\u2019re unable to engage respectfully, consider taking a step back or using some of our moderation tools to deescalate a tense situation."," "]})]}),(0,HV.jsxs)("li",{children:[(0,HV.jsx)("h3",{children:"Connect with people you know"}),(0,HV.jsxs)("p",{children:["Before accepting an invitation ,take a moment to make sure you recognize the owner. If anyone joins the class or group by mistake they can leave the class or group at anytime."," "]})]}),(0,HV.jsxs)("li",{children:[(0,HV.jsx)("h3",{children:"Send useful and relevant information"}),(0,HV.jsxs)("p",{children:["While every community is different each message you send should be valuable for your participants in your community."," "]})]}),(0,HV.jsxs)("li",{children:[(0,HV.jsx)("h3",{children:"Uses outside the educational space"}),(0,HV.jsxs)("p",{children:["communication should be used to support learning and features are intended for educational uses only. Accounts with inappropriate content may be deactivated, closed, or reported to the appropriate law enforcement agencies."," "]})]}),(0,HV.jsxs)("li",{children:[(0,HV.jsx)("h3",{children:"Pretending to be someone else"}),(0,HV.jsxs)("p",{children:["use real name and select appropriate role. Misinterpreting yourself or impersonating other people is not allowed."," "]})]}),(0,HV.jsxs)("li",{children:[(0,HV.jsx)("h3",{children:"Adding or inviting people without permission"}),(0,HV.jsxs)("p",{children:["It's important to get permission from participants before adding them to classes. If we find these type of accounts they are deleted."," "]})]}),(0,HV.jsxs)("li",{children:[(0,HV.jsx)("h3",{children:"Harassment and bulling"}),(0,HV.jsxs)("p",{children:["Information or messages meant to harass ,bully or speak maliciously about other people are unacceptable. Here these type of accounts are blocked and reported."," "]})]}),(0,HV.jsxs)("li",{children:[(0,HV.jsx)("h3",{children:"Spamming participants"}),(0,HV.jsx)("p",{children:"Remind prohibits sending multiple messages a day without regard for your participants or messages with irrelevant content are detected to be spam and account is deleted."})]})]}),(0,HV.jsx)($V,{children:(0,HV.jsx)("button",{onClick:function(e){return t(e)},children:"Close"})})]})]})})},JV=Cn.div(UU||(UU=Ye(["\n  padding: 0px;\n"]))),ZV=Cn.nav(VU||(VU=Ye(["\n  max-width: 1128px;\n  margin: auto;\n  padding: 12px 0 16px;\n  display: flex;\n  align-items: center;\n  position: relative;\n  justify-content: space-between;\n  flex-wrap: nowrap;\n  & > a {\n    width: 135px;\n    height: 34px;\n    @media (max-width: 768px) {\n      padding: 0 5px;\n    }\n  }\n"]))),ez=(Cn.a(zU||(zU=Ye(["\n  font-size: 16px;\n  padding: 10px 12px;\n  text-decoration: none;\n  border-radius: 4px;\n  color: rgba(0, 0, 0, 0.6);\n  margin-right: 12px;\n  &:hover {\n    background-color: rgba(0, 0, 0, 0.08);\n    color: rgba(0, 0, 0, 0.9);\n    text-decoration: none;\n  }\n"]))),Cn.a(qU||(qU=Ye(["\n  color: #6667ab;\n  transition-duration: 167ms;\n  font-size: 16px;\n  font-weight: 200;\n  line-height: 40px;\n  padding: 10px 24px;\n  text-align: center;\n  cursor: pointer;\n  background-color: rgba(0, 0, 0, 0);\n  &:hover {\n    background-color: rgba(112, 181, 249, 0.15);\n    color: #6667ab;\n    text-decoration: none;\n  }\n"])))),tz=Cn.section(BU||(BU=Ye(["\n  display: flex;\n  align-content: start;\n  min-height: 700px;\n  padding-bottom: 138px;\n  padding-top: 40px;\n  padding: 60px 0;\n  position: relative;\n  flex-wrap: wrap;\n  width: 100%;\n  max-width: 1128px;\n  align-items: center;\n  margin: auto;\n  @media (max-width: 768px) {\n    margin: auto;\n    min-height: 0px;\n  }\n"]))),nz=Cn.div(WU||(WU=Ye(["\n  background-image: url('/images/collaborative.jpg');\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center;\n  width: 100%;\n  position: absolute;\n  z-index: -1;\n  backdrop-filter: blur(2px);\n"]))),rz=Cn.div(HU||(HU=Ye(["\n  width: 100%;\n  h1 {\n    padding-bottom: 0;\n    width: 60%;\n    font-size: 56px;\n    color: #6667ab;\n    font-weight: 700;\n    line-height: 100px;\n    @media (max-width: 768px) {\n      text-align: center;\n      font-size: 20px;\n      width: 100%;\n      line-height: 2;\n    }\n  }\n"]))),iz=Cn.div(GU||(GU=Ye(["\n  margin-top: -200px;\n  width: 100%;\n  margin-left: 700px;\n  font-size: 16px;\n  padding: 10px 12px;\n  text-decoration: none;\n  border-radius: 4px;\n  color: rgba(0, 0, 0, 0.6);\n  @media (max-width: 768px) {\n    margin-top: 20px;\n  }\n"]))),az=Cn.button(KU||(KU=Ye(["\n  display: flex;\n  justify-content: center;\n  background-color: #fff;\n  margin-bottom: 7px;\n  align-items: center;\n  height: 56px;\n  width: 50%;\n  border-radius: 28px;\n  box-shadow: inset 0 0 0 1px rgb(0 0 0 / 60%),\n    inset 0 0 0 2px rgb(0 0 0 / 0%) inset 0 0 0 1px rgb(0 0 0 / 0);\n  vertical-align: middle;\n  z-index: 0;\n  transition-duration: 167ms;\n  font-size: 20px;\n  color: rgba(0, 0, 0, 0.6);\n  &:hover {\n    background-color: rgba(207, 207, 207, 0.25);\n    color: rgba(0, 0, 0, 0.75);\n  }\n"]))),oz=ur((function(e){return{user:e.userState.user}}),(function(e){return{signIn:function(t){return e(kU(t))}}}))((function(e){Se();var t=l((0,r.useState)("close"),2),n=t[0],i=t[1],a=function(){var t=Xe(Qe().mark((function t(n){return Qe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.signIn(n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),o=function(e){if(e.preventDefault(),e.target===e.currentTarget)switch(n){case"open":default:i("close");break;case"close":i("open")}};return(0,HV.jsxs)(JV,{children:[e.user&&(0,HV.jsx)(je,{to:"/home"}),(0,HV.jsxs)(ZV,{children:[(0,HV.jsx)("a",{href:"/",style:{textDecoration:"none"},children:(0,HV.jsxs)("h1",{children:[(0,HV.jsx)("span",{class:"firstName",children:"Idea"}),(0,HV.jsx)("span",{class:"lastName",children:"Lab"})]})}),(0,HV.jsx)("div",{children:(0,HV.jsx)(ez,{onClick:o,children:"Community Guidelines"})})]}),(0,HV.jsx)(nz,{children:(0,HV.jsx)(tz,{children:(0,HV.jsxs)(rz,{children:[(0,HV.jsxs)("h1",{children:["Welcome to the world of ",(0,HV.jsx)("br",{})," ",(0,HV.jsx)("span",{style:{fontSize:"130px"},children:"Ideas"})," and"," ",(0,HV.jsx)("span",{style:{fontSize:"130px"},children:"Inspiration"})]}),(0,HV.jsxs)(iz,{children:[(0,HV.jsxs)(az,{onClick:function(){return a("google")},children:[(0,HV.jsx)("img",{src:"/images/google.svg",alt:"",style:{marginRight:"5px"}}),"Sign in with Google"]}),(0,HV.jsxs)(az,{onClick:function(){return a("github")},children:[(0,HV.jsx)("img",{src:"/images/github-icon.png",alt:"",width:"20px",style:{marginRight:"5px"}}),"Sign in with Github"]}),(0,HV.jsxs)(az,{onClick:function(){return a("twitter")},children:[(0,HV.jsx)("img",{src:"/images/twitter-icon.png",alt:"",width:"20px",style:{marginRight:"5px"}}),"Sign in with Twitter"]})]})]})})}),(0,HV.jsx)(XV,{showModel:n,handleClick:o})]})})),sz=Cn.div(YU||(YU=Ye(["\n  background-color: white;\n  background: linear-gradient(135deg, white 79%, rgb(102, 103, 177) 21%);\n  border-bottom: 1px solid rgba(0, 0, 0, 0.08);\n  left: 0;\n  padding: 0 24px;\n  position: fixed;\n  top: 0;\n  width: 100vw;\n  z-index: 100;\n  height: 100px;\n"]))),uz=Cn.div(QU||(QU=Ye(["\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  margin: 0 auto;\n  min-height: 100%;\n  max-width: 1128px;\n  position: relative;\n"]))),cz=Cn.div($U||($U=Ye(["\n  opacity: 1;\n  flex-grow: 1;\n  position: relative;\n  display: flex;\n  align-items: center;\n  background-color: #ffffff;\n  border-radius: 30px;\n  box-shadow: 0 1px 6px rgba(32, 33, 36, 0.28);\n  height: 40px;\n  width: 280px;\n  margin: 0 16px;\n  flex-direction: row-reverse;\n\n  & > div {\n    flex-grow: 1;\n    input {\n      max-width: 280px;\n      outline: none;\n      border: none;\n      box-shadow: none;\n      background-color: transparent;\n      color: rgba(0, 0, 0, 0.9);\n      width: 100%;\n      padding: 8px;\n      border-radius: 30px;\n      line-height: 1.75;\n      font-weight: 400;\n      font-size: 14px;\n      height: 24px;\n      border-color: transparent;\n      vertical-align: text-top;\n      padding-left: 20px;\n    }\n  }\n"]))),lz=Cn.form(XU||(XU=Ye(["\n  display: flex;\n  align-items: center;\n  position: relative;\n"]))),fz=Cn.div(JU||(JU=Ye(["\n  width: 20px;\n  height: 40px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgb(102, 103, 171);\n  color: #fff;\n  border-radius: 30px;\n  cursor: pointer;\n"]))),hz=Cn.nav(ZU||(ZU=Ye(["\n  margin-left: auto;\n  display: block;\n  @media (max-width: 500px) {\n    position: fixed;\n    left: 0;\n    bottom: 0;\n    background: white;\n    width: 100%;\n  }\n"]))),dz=Cn.ul(eV||(eV=Ye(["\n  display: flex;\n  flex-wrap: nowrap;\n  list-style-type: none;\n  .active {\n    span:after {\n      content: '';\n      transform: scaleX(1);\n      border-bottom: 2px solid var(--white, #fff);\n      bottom: 0;\n      left: 0;\n      position: absolute;\n      transition: transform 0.2s ease-in-out;\n      width: 100%;\n      border-color: rgba(0, 0, 0, 0.9);\n    }\n  }\n"]))),pz=Cn.div(tV||(tV=Ye(["\n  position: absolute;\n  top: 120%;\n  left: 0;\n  width: 280px;\n  background-color: white;\n  box-shadow: 0 0 8px rgba(0, 0, 0, 0.1);\n  z-index: 10;\n"]))),vz=Cn.div(nV||(nV=Ye(["\n  max-height: 300px;\n  overflow-y: auto;\n"]))),yz=Cn.div(rV||(rV=Ye(["\n  display: flex;\n  padding: 10px;\n  cursor: pointer;\n  width: 100%;\n  &:hover {\n    background-color: #f5f5f5;\n  }\n\n  section {\n    text-decoration: none;\n    color: rgba(0, 0, 0, 0.9);\n    display: flex;\n    align-items: center;\n    p {\n      font-family: Helvetica, sans-serif;\n      margin-left: 10px;\n      font-size: 14px;\n    }\n  }\n  img {\n    width: 40px;\n    height: 40px;\n    border-radius: 50%;\n    margin-right: 10px;\n  }\n  h2 {\n    font-size: 14px;\n    font-weight: 400;\n    margin: 0 auto;\n  }\n"]))),mz=Cn.li(iV||(iV=Ye(["\n  display: flex;\n  align-items: center;\n  margin-left: 10px;\n  a {\n    align-items: center;\n    background: transparent;\n    display: flex;\n    flex-direction: column;\n    font-size: 12px;\n    font-weight: 400;\n    justify-content: center;\n    line-height: 1.5;\n    min-height: 52px;\n    min-width: 80px;\n    position: relative;\n    text-decoration: none;\n    span {\n      font-family: Helvetica, sans-serif;\n      color: rgba(0, 0, 0, 0.6);\n      display: flex;\n      align-items: center;\n    }\n    @media (max-width: 768px) {\n      min-width: 70px;\n    }\n  }\n  &:hover:nth-child(1),\n  &:hover:nth-child(2),\n  &:hover:nth-child(3),\n  &:hover:nth-child(4),\n  &:hover:nth-child(5),\n  &:hover:nth-child(6) {\n    a {\n      span {\n        color: rgb(102, 103, 171);\n      }\n    }\n  }\n"]))),gz=Cn.div(aV||(aV=Ye(["\n  position: absolute;\n  top: 45px;\n  background: white;\n  border-radius: 0 0 5px 5px;\n  width: 100px;\n  height: 40px;\n  font-size: 16px;\n  transition-duration: 167ms;\n  text-align: center;\n  display: none;\n"]))),bz=Cn(mz)(oV||(oV=Ye(["\n  a > svg {\n    width: 24px;\n    border-radius: 50%;\n  }\n  a > img {\n    width: 30px;\n    height: 30px;\n    border-radius: 50%;\n  }\n  span {\n    display: flex;\n    align-items: center;\n  }\n  &:hover {\n    "," {\n      align-items: center;\n      display: flex;\n      justify-content: center;\n    }\n  }\n"])),gz),kz=(Cn(bz)(sV||(sV=Ye(["\n  border-left: 1px solid rgba(0, 0, 0, 0.08);\n"]))),Cn.div(uV||(uV=Ye(["\n  height: 100px;\n  width: 100%;\n  display: flex;\n  position: absolute;\n  top: 0;\n  right: 0;\n  //move the line to the right\n  transform: translateX(105%);\n  //set the z-index to -1 so that it is behind the other elements\n  z-index: -1;\n  //set the containder to overflow hidden so that the line does not go outside the container\n  overflow: hidden;\n"])))),wz=Cn.div(cV||(cV=Ye(["\n  width: 2px;\n  height: 100%;\n  background-color: rgb(102, 103, 171);\n  margin: 0 20px;\n  padding: 0 5px;\n"]))),_z=ur((function(e){return{user:e.userState.user,userDetails:e.userDetailsState.userDetails,search:e.searchState.users}}),(function(e){return{signOut:function(){return e((function(e){ZF.signOut().then((function(){e(mU(null))})).catch((function(e){return alert(e.message)}))}))},getUserDetails:function(t){return e(_U(t))},searchUsers:function(t){return e(TU(t))}}}))((function(e){var t=l(r.useState(""),2),n=t[0],i=t[1],a=l(r.useState([]),2),o=a[0],s=a[1];(0,r.useEffect)((function(){e.user&&e.getUserDetails(e.user.uid)}),[e.user]);var u=function(){n&&e.searchUsers(n)};return(0,r.useEffect)((function(){s(e.search)}),[e.search]),(0,r.useEffect)((function(){n||s([])}),[n]),(0,HV.jsxs)(sz,{children:[!e.user&&(0,HV.jsx)(je,{to:"/"}),(0,HV.jsxs)(uz,{children:[(0,HV.jsx)("a",{href:"/",style:{textDecoration:"none",marginBottom:"7px"},children:(0,HV.jsxs)("h1",{children:[(0,HV.jsx)("span",{class:"firstName",children:"Idea"}),(0,HV.jsx)("span",{class:"lastName",children:"Lab"})]})}),(0,HV.jsx)(hz,{children:(0,HV.jsxs)(dz,{children:[(0,HV.jsxs)(mz,{style:{position:"relative",right:"70px"},children:[(0,HV.jsx)(mz,{children:(0,HV.jsx)("a",{href:"",children:(0,HV.jsxs)(He,{to:"/home",children:[(0,HV.jsx)("img",{src:"/images/icons8-home-page.svg",alt:"",style:{width:"30px"}}),(0,HV.jsx)("span",{children:"My Hub"})]})})}),(0,HV.jsx)(mz,{children:(0,HV.jsx)("a",{href:"",children:(0,HV.jsxs)(He,{to:"/my-network",children:[(0,HV.jsx)("img",{src:"/images/icons8-business-network(1).svg",alt:"",style:{width:"30px"}}),(0,HV.jsx)("span",{children:"Lab Community"})]})})}),(0,HV.jsx)(mz,{children:(0,HV.jsx)("a",{href:"",children:(0,HV.jsxs)(He,{to:"/tech-today",children:[(0,HV.jsx)("img",{src:"/images/icons8-newspaper(1).svg",alt:"",style:{width:"30px"}}),(0,HV.jsx)("span",{children:"Tech Today"})]})})}),(0,HV.jsx)(mz,{children:(0,HV.jsx)("a",{href:"",children:(0,HV.jsxs)(He,{to:"/mind-share",children:[(0,HV.jsx)("img",{src:"/images/icons8-message-exchange.svg",alt:"",style:{width:"30px"}}),(0,HV.jsx)("span",{children:"Mind Share"})]})})}),(0,HV.jsx)(mz,{children:(0,HV.jsx)("a",{href:"",children:(0,HV.jsxs)(He,{to:"/notifications",children:[(0,HV.jsx)("img",{src:"/images/icons8-notification.svg",alt:"",style:{width:"30px"}}),(0,HV.jsx)("span",{children:"Notifications"})]})})})]}),(0,HV.jsx)(lz,{children:(0,HV.jsxs)(cz,{children:[(0,HV.jsx)(fz,{children:(0,HV.jsx)("img",{src:"/images/search-icon.svg",alt:"",onClick:u})}),(0,HV.jsx)("div",{children:(0,HV.jsx)("input",{type:"text",placeholder:"Search...",value:n,onChange:function(e){!function(e){var t=e.target.value;i(t),""===t.trim()&&s([])}(e),u()}})}),e.search&&n&&(0,HV.jsx)(pz,{children:(0,HV.jsx)(vz,{children:o.map((function(t){return(0,HV.jsx)(yz,{children:(0,HV.jsx)(He,{to:{pathname:"/profile/".concat(t.userid),state:{ownerId:e.user.uid}},style:{textDecoration:"none"},children:(0,HV.jsxs)("section",{children:[(0,HV.jsx)("img",{src:t.photoUrl,alt:"",referrerPolicy:"no-referrer"}),(0,HV.jsxs)("div",{children:[(0,HV.jsx)("p",{href:"",children:t.name}),(0,HV.jsx)("p",{href:"",style:{fontSize:"12px"},children:t.email})]})]})},t.userid)},t.userid)}))})}),0===o.length&&n&&(0,HV.jsx)(pz,{children:(0,HV.jsx)(vz,{children:(0,HV.jsx)(yz,{children:(0,HV.jsx)("h2",{children:"No Users There"})})})})]})}),(0,HV.jsxs)(bz,{style:{position:"relative",left:"50px"},children:[(0,HV.jsx)("a",{children:(0,HV.jsxs)(He,{to:"/profile",children:[e.user?(0,HV.jsx)("img",{src:e.userDetails.photoUrl,alt:"",referrerPolicy:"no-referrer"}):(0,HV.jsx)("img",{src:"/images/user.svg",alt:""}),(0,HV.jsxs)("span",{children:["Me",(0,HV.jsx)("img",{src:"/images/down-icon.svg",alt:""})]})]})}),(0,HV.jsx)(gz,{onClick:function(){return e.signOut()},children:(0,HV.jsx)("a",{href:"",children:"Sign Out"})})]})]})}),(0,HV.jsxs)(kz,{children:[(0,HV.jsx)(wz,{}),(0,HV.jsx)(wz,{})]})]})]})})),xz=n(6710),Sz=Cn.div(lV||(lV=Ye(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 9999;\n  color: black;\n  background-color: rgba(0, 0, 0, 0.8);\n  animation: fadeIn 0.3s;\n"]))),Ez=Cn.div(fV||(fV=Ye(["\n  width: 100%;\n  max-width: 552px;\n  background-color: white;\n  max-height: 90%;\n  overflow: initial;\n  border-radius: 5px;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  top: 32px;\n  margin: 0 auto;\n"]))),Tz=Cn.div(hV||(hV=Ye(["\n  padding: 16px 20px;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.15);\n  font-size: 16px;\n  line-height: 1.5;\n  color: rgba(0, 0, 0, 0.6);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  button {\n    height: 40px;\n    width: 40px;\n    min-width: auto;\n    color: rgba(0, 0, 0, 0.15);\n    svg,\n    img {\n      pointer-events: none;\n    }\n  }\n"]))),Iz=Cn.div(dV||(dV=Ye(["\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n  overflow-y: auto;\n  vertical-align: baseline;\n  background: transparent;\n  padding: 8px 12px;\n"]))),Cz=Cn.div(pV||(pV=Ye(["\n  display: flex;\n  align-items: center;\n  padding: 12px 24px;\n  svg,\n  img {\n    width: 48px;\n    border-radius: 50%;\n    margin-right: 5px;\n  }\n  span {\n    font-weight: 600;\n    font-size: 16px;\n    line-height: 1.5;\n    margin-left: 5px;\n  }\n"]))),Pz=Cn.div(vV||(vV=Ye(["\n  display: flex;\n  justify-content: space-between;\n  padding: 12px 24px 12px 16px;\n"]))),Oz=Cn.div(yV||(yV=Ye(["\n  display: flex;\n  align-items: center;\n  height: 40px;\n  min-width: auto;\n  color: rgba(0, 0, 0, 0.5);\n"]))),Rz=Cn.div(mV||(mV=Ye(["\n  align-items: center;\n  display: flex;\n  padding-right: 8px;\n  svg {\n    margin-right: 5px;\n  }\n  "," {\n    width: 40px;\n  }\n"])),Oz),Dz=Cn.div(gV||(gV=Ye(["\n  margin-left: 8px;\n  border-left: 1px solid rgba(0, 0, 0, 0.15);\n  padding-left: 8px;\n  "," {\n    svg {\n      margin-right: 5px;\n    }\n  }\n"])),Oz),Nz=Cn.button(bV||(bV=Ye(["\n  min-width: 60px;\n  border-radius: 20px;\n  padding-left: 16px;\n  padding-right: 16px;\n  background: ",";\n  color: ",";\n  &:hover {\n    background: ",";\n  }\n"])),(function(e){return e.disabled?"rgba(0,0,0,0.8)":"#0a66c2"}),(function(e){return e.disabled?"rgba(1,1,1,0.2)":"white"}),(function(e){return e.disabled?"rgba(0,0,0,0.08)":"#004182"})),Az=Cn.div(kV||(kV=Ye(["\n  padding: 12px 24px;\n  textarea {\n    width: 100%;\n    min-height: 100px;\n    resize: none;\n  }\n  input {\n    width: 100%;\n    height: 35px;\n    font-size: 16px;\n    margin-bottom: 20px;\n  }\n"]))),jz=Cn.div(wV||(wV=Ye(["\n  text-align: center;\n  img {\n    width: 100%;\n  }\n"]))),Mz=ur((function(e){return{user:e.userState.user}}),(function(e){return{postArticle:function(t){return e(function(e){return function(t){t(gU(!0));var n=e.user.uid,r=JF.ref("articles/".concat(n)).push().key,i=JF.ref("articles/".concat(n,"/").concat(r)),a=e.timestamp;console.log(a);var o=new Date(1e3*a.seconds+a.nanoseconds/1e6).toLocaleDateString("en-US");e.image&&""===e.video?nU.ref("images/".concat(e.image.name)).put(e.image).on("state_changed",(function(e){}),(function(e){console.log(e)}),(function(){nU.ref("images").child(e.image.name).getDownloadURL().then((function(a){i.set({pid:r,actor:{description:e.user.email,title:e.user.displayName,date:o,time:(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),image:e.user.photoURL},userId:n,video:e.video,sharedImg:a,likes:0,comments:0,test:"image",description:e.description}),t(gU(!1))}))})):e.video&&""===e.image?(console.log(e.video),i.set({pid:r,actor:{description:e.user.email,title:e.user.displayName,date:o,time:(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),image:e.user.photoURL},userId:n,video:e.video,sharedImg:"",likes:0,comments:0,test:"video",description:e.description}),t(gU(!1))):""===e.video&&""===e.image&&(i.set({pid:r,actor:{description:e.user.email,title:e.user.displayName,date:o,time:(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),image:e.user.photoURL},userId:n,video:e.video,sharedImg:"",likes:0,comments:0,test:"text",description:e.description}),t(gU(!1)))}}(t))}}}))((function(e){var t=l((0,r.useState)(""),2),n=t[0],i=t[1],a=l((0,r.useState)(""),2),o=a[0],s=a[1],u=l((0,r.useState)(""),2),c=u[0],f=u[1],h=l((0,r.useState)(""),2),d=h[0],p=h[1],v=function(e){s(""),f(""),p(e)},y=function(t){i(""),s(""),f(""),p(""),e.handleClick(t)};return(0,HV.jsx)(HV.Fragment,{children:"open"===e.showModel&&(0,HV.jsx)(Sz,{children:(0,HV.jsxs)(Ez,{children:[(0,HV.jsxs)(Tz,{children:[(0,HV.jsx)("h2",{children:"Create a post"}),(0,HV.jsx)("button",{onClick:function(e){return y(e)},children:(0,HV.jsx)("img",{src:"/images/closed-icon.svg",alt:"",class:"svg-icon"})})]}),(0,HV.jsxs)(Iz,{children:[(0,HV.jsxs)(Cz,{children:[e.user&&e.user.photoURL?(0,HV.jsx)("img",{src:e.user.photoURL,alt:""}):(0,HV.jsx)("img",{src:"/images/user.svg",alt:""}),(0,HV.jsx)("span",{children:e.user.displayName})]}),(0,HV.jsxs)(Az,{children:[(0,HV.jsx)("textarea",{value:n,onChange:function(e){return i(e.target.value)},placeholder:"What do you want to talk about?",autoFocus:!0}),"image"===d?(0,HV.jsxs)(jz,{children:[(0,HV.jsx)("input",{type:"file",accept:"image/gif, image/jpeg, image/png",name:"image",id:"file",style:{display:"none"},onChange:function(e){var t=e.target.files[0];""!==t&&void 0!==t?s(t):alert("Not an image, the file is a ".concat(typeof t))}}),(0,HV.jsx)("p",{children:(0,HV.jsx)("label",{htmlFor:"file",children:"Select an image to share"})}),o&&(0,HV.jsx)("img",{src:URL.createObjectURL(o),alt:""})]}):"media"===d&&(0,HV.jsx)(HV.Fragment,{children:(0,HV.jsx)("input",{type:"text",placeholder:"Please input a video link",value:c,onChange:function(e){return f(e.target.value)}})}),c&&(0,HV.jsx)(xz.Z,{width:"100%",url:c})]})]}),(0,HV.jsxs)(Pz,{children:[(0,HV.jsxs)(Rz,{children:[(0,HV.jsx)(Oz,{onClick:function(){return v("image")},children:(0,HV.jsx)("img",{src:"/images/camera.svg",alt:""})}),(0,HV.jsx)(Oz,{onClick:function(){return v("media")},children:(0,HV.jsx)("img",{src:"/images/video-icon.svg",alt:""})})]}),(0,HV.jsx)(Dz,{children:(0,HV.jsxs)(Oz,{children:[(0,HV.jsx)("img",{src:"/images/comment-icon.svg",class:"svg-icon",alt:""}),"Anyone"]})}),(0,HV.jsx)(Nz,{disabled:!n,onClick:function(t){return function(t){if(t.preventDefault(),t.target===t.currentTarget){var r={image:o,video:c,user:e.user,description:n,timestamp:Na.firestore.Timestamp.now()};e.postArticle(r),y(t)}}(t)},children:"Post"})]})]})})})})),Lz=Cn.div(_V||(_V=Ye(["\n  grid-area: leftside;\n  margin-top: 10px;\n  width: 100%;\n"]))),Fz=Cn.div(xV||(xV=Ye(["\n  min-height: 450px;\n  max-height: 100%;\n  display: flex;\n  flex-direction: column;\n  flex-wrap: wrap;\n  overflow: hidden;\n  margin-bottom: 8px;\n  background-color: #fff;\n  background-image: url('images/space-paper-airplane-with-blue-line.png');\n  background-repeat: no-repeat;\n  background-size: 40px;\n  background-position: bottom right;\n  border-radius: 10px;\n  transition: box-shadow 83ms;\n  position: sticky;\n  top: 110px;\n  box-shadow: 0 0 0 1px rgb(0 0 0 / 15%), 0 0 0 rgb(0 0 0 / 20%);\n  div {\n    height: 45%;\n    img {\n      object-fit: contain;\n      height: 100%;\n      cursor: pointer;\n    }\n    text-align: center;\n    margin-bottom: 0px;\n  }\n"]))),Uz=Cn.section(SV||(SV=Ye(["\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell,\n    'Open Sans', 'Helvetica Neue', sans-serif;\n  padding: 0 16px;\n  border: none;\n  text-align: left;\n  h2 {\n    font-size: 24px;\n    font-weight: 500;\n    color: black;\n    line-height: 1.5;\n    margin-bottom: 5px;\n  }\n  h3 {\n    font-size: 15px;\n    font-weight: 350;\n    color: black;\n    line-height: 1.5;\n    margin-bottom: 10px;\n  }\n"]))),Vz=Cn.section(EV||(EV=Ye(["\n  border: none;\n  margin-bottom: 10px;\n  div {\n    display: flex;\n    justify-content: space-between;\n    margin: 0 10px;\n    height: auto;\n    padding: 10px;\n    padding-top: 0px;\n    border-radius: 10px;\n    border: 2px solid black;\n    p {\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      padding: 20px;\n    }\n    article {\n      display: flex;\n      flex-direction: column;\n      padding: 15px;\n      p {\n        padding: 0;\n        display: flex;\n        flex-direction: row;\n        align-items: center;\n        font-weight: 600;\n        margin-bottom: 5px;\n        img {\n          width: 30px;\n          height: 30px;\n          margin-right: 5px;\n        }\n      }\n      span {\n        font-size: 18px;\n        color: rgba(102, 103, 171);\n        margin-top: 2px;\n      }\n    }\n  }\n  @media only screen and (max-width: 750px) {\n    div {\n      padding: 0;\n      margin: 0;\n      padding: 5px;\n      article {\n        margin-top: 20px;\n      }\n    }\n    p {\n      align-items: center;\n    }\n  }\n"]))),zz=ur((function(e){return{user:e.userState.user,userDetails:e.userDetailsState.userDetails}}),(function(e){return{getUserDetails:function(t){return e(_U(t))}}}))((function(e){var t=l((0,r.useState)("close"),2),n=t[0],i=t[1];(0,r.useEffect)((function(){e.user&&e.getUserDetails(e.user.uid)}),[]);var a=function(e){if(e.preventDefault(),e.target===e.currentTarget)switch(n){case"open":default:i("close");break;case"close":i("open")}};return(0,HV.jsxs)(Lz,{children:[(0,HV.jsxs)(Fz,{children:[(0,HV.jsx)("div",{children:(0,HV.jsx)("img",{src:"/images/idea-got-it.svg",alt:"add",width:"200px"})}),(0,HV.jsxs)(Uz,{children:[(0,HV.jsxs)("h2",{children:[(0,HV.jsx)("span",{style:{color:"rgb(102,103,171)"},children:"Hey!"}),(0,HV.jsx)("br",{}),"Found anything new?"]}),(0,HV.jsx)("h3",{children:"Let's share it with your tech community! "})]}),(0,HV.jsx)(Vz,{children:(0,HV.jsxs)("div",{children:[(0,HV.jsx)("p",{children:(0,HV.jsx)("img",{src:"/images/icons8-add(1).svg",alt:"add",width:"50px",onClick:a})}),(0,HV.jsxs)("article",{children:[(0,HV.jsxs)("p",{children:[(0,HV.jsx)("img",{src:"/images/camera.svg",alt:""}),(0,HV.jsx)("span",{children:"Photo"})]}),(0,HV.jsxs)("p",{children:[(0,HV.jsx)("img",{src:"/images/video-icon.svg",alt:""}),(0,HV.jsx)("span",{children:"Video"})]}),(0,HV.jsxs)("p",{children:[(0,HV.jsx)("img",{src:"/images/icons8-macbook-idea.svg",alt:""}),(0,HV.jsx)("span",{children:"Idea"})]})]})]})})]}),(0,HV.jsx)(Mz,{showModel:n,handleClick:a})]})}));function qz(e){var t,n=(new Date).getHours();return t=n>=5&&n<12?"Good Morning":n>=12&&n<18?"Good Afternoon":"Good Evening",(0,HV.jsxs)("div",{children:[(0,HV.jsxs)("h1",{children:["Hey! ",t,","]}),(0,HV.jsx)("h2",{children:e.displayWord})]})}var Bz,Wz,Hz,Gz,Kz,Yz,Qz,$z,Xz,Jz,Zz,eq,tq,nq=Cn.div(TV||(TV=Ye(["\n  display: flex;\n  flex-direction: column;\n  background-color: #ffffff;\n  margin: 10px;\n  border-radius: 8px;\n"]))),rq=Cn.div(IV||(IV=Ye(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 8px;\n"]))),iq=Cn.img(CV||(CV=Ye(["\n  width: 35px;\n  height: 35px;\n  border-radius: 50%;\n  margin-right: 8px;\n  object-fit: cover;\n"]))),aq=Cn.span(PV||(PV=Ye(["\n  font-weight: 400;\n  font-size: 14px;\n  margin-right: 8px;\n  font-family: Arial, Helvetica, sans-serif;\n"]))),oq=Cn.p(OV||(OV=Ye(["\n  margin-left: 50px;\n  margin-bottom: 8px;\n  font-size: 15px;\n  color: black;\n  text-align: left;\n"]))),sq=Cn.div(RV||(RV=Ye(["\n  grid-area: main;\n"]))),uq=Cn.div(DV||(DV=Ye(["\n  text-align: center;\n  overflow: hidden;\n  margin-bottom: 8px;\n  background-color: #fff;\n  position: relative;\n"]))),cq=Cn.p(NV||(NV=Ye(["\n  font-size: 14px;\n  margin-bottom: 5px;\n  color: rgba(0, 0, 0, 0.6);\n"]))),lq=(Cn(uq)(AV||(AV=Ye(["\n  display: flex;\n  flex-direction: column;\n  color: #958b7b;\n  margin: 0 0 8px;\n  background: white;\n  div {\n    button {\n      outline: none;\n      color: rgba(0, 0, 0, 0.6);\n      font-size: 14px;\n      line-height: 1.5;\n      min-height: 48px;\n      background: transparent;\n      border: none;\n      display: flex;\n      align-items: center;\n      font-weight: 600;\n    }\n    &:first-child {\n      display: flex;\n      align-items: center;\n      padding: 8px 16px 0px 16px;\n      img {\n        width: 48px;\n        border-radius: 50%;\n        margin-right: 8px;\n      }\n      button {\n        margin: 4px 0;\n        flex-grow: 1;\n        border-radius: 35px;\n        padding-left: 16px;\n        border: 1px solid rgba(0, 0, 0, 0.15);\n        background-color: white;\n        text-align: left;\n      }\n    }\n    &:nth-child(2) {\n      display: flex;\n      flex-wrap: wrap;\n      justify-content: space-around;\n      padding-bottom: 4px;\n      button {\n        img {\n          margin: 0 4px 0 -2px;\n        }\n        span {\n          color: rgb(102, 103, 171);\n        }\n      }\n    }\n  }\n"]))),Cn.div(jV||(jV=Ye(["\n  margin: 0 0 8px;\n  background: linear-gradient(135deg, #f8cfd1, rgb(102, 103, 177));\n  text-align: left;\n  padding: 0 0 8px;\n  height: 150px;\n  border-radius: 15px;\n  h1 {\n    font-family: Helvetica, Arial, sans-serif;\n    font-style: italic;\n    color: rgb(85, 85, 85);\n    font-size: 35px;\n    font-weight: 400;\n    padding: 40px 24px 24px 40px;\n    margin-bottom: 4px;\n    text-align: left;\n  }\n  h2 {\n    color: rgb(102, 103, 171);\n    font-family: 'Andale Mono', monospace;\n    font-size: 27px;\n    font-weight: 400;\n    padding: 12px 12px 12px 16px;\n    margin-bottom: 4px;\n    text-align: left;\n    margin-left: 25px;\n  }\n"])))),fq=Cn(uq)(MV||(MV=Ye(["\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell,\n    'Open Sans', 'Helvetica Neue', sans-serif;\n  padding: 0;\n  margin: 0 0 8px;\n  overflow: visible;\n"]))),hq=Cn.div(LV||(LV=Ye(["\n  position: absolute;\n  top: 25px;\n  right: -20px;\n  background: white;\n  border-radius: 5px;\n  display: none;\n  height: 20px;\n  padding: 10px;\n  font-size: 14px;\n  border: 1px solid rgba(0, 0, 0, 0.15);\n"]))),dq=Cn.div(FV||(FV=Ye(["\n  padding-right: 40px;\n  flex-wrap: nowrap;\n  padding: 12px 16px 0;\n  margin-bottom: 8px;\n  align-items: center;\n  display: flex;\n  a {\n    margin-right: 12px;\n    flex-grow: 1;\n    overflow: hidden;\n    display: flex;\n    text-decoration: none;\n    img {\n      width: 48px;\n      height: 48px;\n    }\n    & > div {\n      display: flex;\n      flex-direction: column;\n      flex-grow: 1;\n      flex-basis: 0;\n      margin-left: 8px;\n      overflow: hidden;\n      span {\n        text-align: left;\n        &:first-child {\n          font-size: 14px;\n          font-weight: 700;\n          color: rgba(0, 0, 0, 1);\n        }\n        &:nth-child(n + 1) {\n          font-size: 12px;\n          color: rgba(0, 0, 0, 0.6);\n        }\n      }\n    }\n  }\n  button {\n    position: absolute;\n    right: 12px;\n    top: 0;\n    background: transparent;\n    border: none;\n    outline: none;\n    cursor: pointer;\n    &:hover {\n      "," {\n        display: block;\n      }\n    }\n  }\n"])),hq),pq=Cn.div(UV||(UV=Ye(["\n  padding: 0 16px;\n  overflow: hidden;\n  color: rgba(0, 0, 0, 0.9);\n  font-size: 14px;\n  text-align: left;\n  margin: 10px;\n  margin-top: 20px;\n  margin-bottom: 20px;\n"]))),vq=Cn.div(VV||(VV=Ye(["\n  margin-top: 8px;\n  width: 100%;\n  display: block;\n  position: relative;\n  background-color: #f9fafb;\n  img {\n    object-fit: contain;\n    width: 100%;\n    height: 100%;\n  }\n"]))),yq=Cn.ul(zV||(zV=Ye(["\n  line-height: 1.3;\n  display: flex;\n  align-items: flex-start;\n  overflow: auto;\n  margin: 0 16px;\n  padding: 8px 0;\n  border-bottom: 1px solid #e9e5df;\n  list-style: none;\n  li {\n    margin-right: 5px;\n    font-size: 12px;\n    button {\n      display: flex;\n    }\n  }\n"]))),mq=(Cn.div(qV||(qV=Ye(["\n  align-items: center;\n  display: flex;\n  justify-content: flex-start;\n  margin: 0;\n  min-height: 40px;\n  padding: 4px 8px;\n  button {\n    display: inline-flex;\n    align-items: center;\n    padding: 8px;\n    color: #0a66c2;\n    background: transparent;\n    border: none;\n    @media (min-width: 768px) {\n      span {\n        margin-left: 8px;\n      }\n    }\n  }\n"]))),Cn.div(BV||(BV=Ye(["\n  text-align: center;\n  & > img {\n    width: 30px;\n  }\n"])))),gq=Cn.div(WV||(WV=Ye(["\n  border-radius: 20px;\n  padding: 5px;\n  padding-top: 10px;\n  margin: 8px 0;\n  display: flex;\n  align-items: center;\n  border: 1px solid #e6ecf0;\n  background-color: #f9fafb;\n  margin-left: 20px;\n  margin-right: 20px;\n  textarea {\n    resize: none;\n    width: 100%;\n    outline: none;\n    border: none;\n    background-color: transparent;\n    font-size: 16px;\n    margin-left: 5px;\n  }\n"]))),bq=ur((function(e){return{user:e.userState.user,articles:e.articleState.articles,userDetails:e.userDetailsState.userDetails,likes:e.likesState.likes,communityArticles:e.communityArticlesState.communityArticles,connections:e.connectionsState.connections}}),(function(e){return{getArticles:function(t){return e(wU(t))},getUserDetails:function(t){return e(_U(t))},handleLike:function(t,n,r){return e(xU(t,n,r))},handleComment:function(t,n,r,i){return e(SU(t,n,r,i))},getLikes:function(t,n){return e(EU(t,n))},getCommunityArticles:function(t){return e(OU(t))},getConnections:function(t){return e(RU(t))}}}))((function(e){var t=l((0,r.useState)("close"),2),n=t[0],i=t[1],a=l((0,r.useState)(""),2),o=a[0],s=a[1],u=l((0,r.useState)(""),2),c=u[0],f=u[1],d=(r.useRef(null),l((0,r.useState)(""),2)),p=d[0],v=d[1],y=l((0,r.useState)([]),2),m=(y[0],y[1]);(0,r.useEffect)((function(){e.user&&e.getUserDetails(e.user.uid)}),[e.user]),(0,r.useEffect)((function(){e.user&&e.getConnections(e.user.uid)}),[e.user]),(0,r.useEffect)((function(){e.connections&&e.connections.map(function(){var t=Xe(Qe().mark((function t(n){return Qe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getArticles(n);case 2:console.log(e.articles),m((function(t){return[].concat(h(t),[e.articles])}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}),[e.user]),(0,r.useEffect)((function(){var t=0,n=setInterval((function(){if(e.userDetails){var r=e.userDetails.name;t!==r.length?(s(r.substring(0,t+1)),t++):clearInterval(n)}}),200);return function(){return clearInterval(n)}}),[e.userDetails.name]),(0,r.useEffect)((function(){e.user&&e.getCommunityArticles(e.user.uid)}),[e.user,e.likes]);var g=function(){var t=Xe(Qe().mark((function t(n,r,i){return Qe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.handleLike(n,r,i);case 2:e.getLikes(n,i);case 3:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),b=function(e){v(e.target.value)};return(0,HV.jsx)(HV.Fragment,{children:(0,HV.jsxs)(sq,{children:[(0,HV.jsx)(lq,{children:(0,HV.jsx)(qz,{displayWord:o})}),e.connections&&console.log(e.connections),e.communityArticles&&0===e.communityArticles.length?(0,HV.jsx)("p",{children:"There are no articles"}):(0,HV.jsxs)(mq,{children:[e.loading&&(0,HV.jsx)("img",{src:"/images/spinner.svg",alt:""}),e.communityArticles&&e.communityArticles.length>0&&e.communityArticles.map((function(t,n){return t?(0,HV.jsxs)(fq,{children:[(0,HV.jsxs)(dq,{children:[(0,HV.jsxs)("a",{children:[(0,HV.jsx)("img",{src:t.actor.image,alt:"",style:{width:"48px",height:"48px",borderRadius:"50%",marginRight:"8px",objectFit:"cover"}}),(0,HV.jsxs)("div",{children:[(0,HV.jsx)("span",{style:{color:"rgb(102,103,171)",fontWeight:"bold"},children:t.actor.title}),t.actor&&(0,HV.jsx)("span",{children:t.actor.description}),t.actor&&(0,HV.jsx)("span",{children:t.actor.date})]})]}),(0,HV.jsxs)("button",{children:[(0,HV.jsx)("img",{src:"/images/icons8-more.svg",alt:"",width:"20px"}),(0,HV.jsx)(hq,{children:(0,HV.jsx)("a",{children:"Report"})})]})]}),(0,HV.jsx)(pq,{children:t.description}),(0,HV.jsx)(vq,{children:(0,HV.jsx)("a",{children:!t.sharedImg&&t.video?(0,HV.jsx)(xz.Z,{width:"100%",url:t.video}):t.sharedImg&&(0,HV.jsx)("img",{src:t.sharedImg,alt:""})})}),(0,HV.jsxs)(yq,{children:[(0,HV.jsx)("li",{children:(0,HV.jsxs)("button",{style:{border:"none",backgroundColor:"white",cursor:"pointer"},onClick:function(){g(t.pid,e.user.uid,t.userId)},children:[(0,HV.jsx)("img",{src:"/images/icons8-good-quality(2).svg",alt:"",class:"svg-icon count-like"}),(0,HV.jsx)("span",{class:"count",children:t.likes})]})}),(0,HV.jsx)("li",{children:(0,HV.jsxs)("button",{onClick:function(){var e;e=t.pid,f((function(t){return wi(wi({},t),{},fr({},e,!t[e]))}))},style:{border:"none",backgroundColor:"white",cursor:"pointer"},children:[(0,HV.jsx)("img",{src:"/images/icons8-speech-bubble.svg",alt:"",class:"svg-icon count-comment",style:{marginRight:"5px"}}),(0,HV.jsx)("span",{class:"count",children:t.comments?t.comments.length:0})]})})]}),c[t.pid]&&(0,HV.jsxs)(gq,{children:[(0,HV.jsx)("textarea",{value:p,type:"text",placeholder:"Add a comment",onChange:b}),(0,HV.jsx)("button",{onClick:function(){!function(t,n,r,i){e.handleComment(t,n,r,i),v(""),e.getCommunityArticles(e.user.uid)}(t.pid,e.user.uid,t.userId,p)},style:{border:"none",backgroundColor:"white",cursor:"pointer"},disabled:!p.trim(),children:(0,HV.jsx)("img",{src:"/images/icons8-send-comment.svg",alt:"",class:"svg-icon"})})]}),(0,HV.jsx)(nq,{children:c[t.pid]&&t.comments&&t.comments.map((function(t,n){return(0,HV.jsxs)(cq,{children:[(0,HV.jsxs)(rq,{children:[(0,HV.jsx)(iq,{src:e.userDetails.photoUrl,alt:""}),(0,HV.jsx)(aq,{children:e.userDetails.name})]}),(0,HV.jsx)(oq,{children:t.comment})]},n)}))})]},n):null}))]}),(0,HV.jsx)(Mz,{showModel:n,handleClick:function(e){if(e.preventDefault(),e.target===e.currentTarget)switch(n){case"open":default:i("close");break;case"close":i("open")}}})]})})})),kq=(Cn.div(Bz||(Bz=Ye(["\n  grid-area: rightside;\n"]))),Cn.div(Wz||(Wz=Ye(["\n  text-align: center;\n  overflow: hidden;\n  margin-bottom: 8px;\n  background-color: #fff;\n  border-radius: 5px;\n  position: relative;\n  border: none;\n  box-shadow: 0 0 0 1px rgb(0 0 0 / 15%), 0 0 0 rgb(0 0 0 / 20%);\n  padding: 12px;\n"])))),wq=(Cn.div(Hz||(Hz=Ye(["\n  display: inline-flex;\n  align-items: center;\n  justify-content: space-between;\n  font-size: 16px;\n  width: 100%;\n  color: rgba(0, 0, 0, 0.6);\n"]))),Cn.ul(Gz||(Gz=Ye(["\n  margin-top: 16px;\n  li {\n    display: flex;\n    align-items: center;\n    margin: 12px 0;\n    position: relative;\n    font-size: 14px;\n    & > div {\n      display: flex;\n      flex-direction: column;\n    }\n    button {\n      background-color: transparent;\n      color: rgba(0, 0, 0, 0.6);\n      box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.6);\n      padding: 16px;\n      align-items: center;\n      border-radius: 15px;\n      box-sizing: border-box;\n      font-weight: 600;\n      display: inline-flex;\n      justify-content: center;\n      max-height: 32px;\n      max-width: 480px;\n      text-align: center;\n      outline: none;\n    }\n  }\n"]))),Cn.div(Kz||(Kz=Ye(["\n  background-image: url('https://static-exp1.licdn.com/sc/h/1b4vl1r54ijmrmcyxzoidwmxs');\n  background-size: contain;\n  background-position: center;\n  background-repeat: no-repeat;\n  width: 48px;\n  height: 48px;\n  margin-right: 8px;\n"]))),Cn.a(Yz||(Yz=Ye(["\n  color: #0a66c2;\n  display: flex;\n  align-items: center;\n  font-size: 14px;\n"]))),Cn(kq)(Qz||(Qz=Ye(["\n  img {\n    width: 100%;\n    height: 100%;\n  }\n"]))),Cn.div($z||($z=Ye(["\n  padding-top: 75px;\n  max-width: 100%;\n  background: white;\n"])))),_q=Cn.div(Xz||(Xz=Ye(["\n  display: grid;\n  grid-template-areas: 'leftside main rightside';\n  grid-template-columns: minmax(0, 5fr) minmax(0, 12fr) minmax(300px, 7fr);\n  column-gap: 25px;\n  row-gap: 25px;\n  /* grid-template-row: auto; */\n  margin: 25px 0;\n  @media (max-width: 768px) {\n    display: flex;\n    flex-direction: column;\n    padding: 0 5px;\n  }\n"]))),xq=ur((function(e){return{user:e.userState.user}}))((function(e){return(0,r.useEffect)((function(){document.title="Home | Idea Lab"}),[]),(0,HV.jsxs)(wq,{children:[!e.user&&(0,HV.jsx)(je,{to:"/"}),(0,HV.jsxs)(_q,{children:[(0,HV.jsx)(zz,{}),(0,HV.jsx)(bq,{})]})]})})),Sq=Cn.div(Jz||(Jz=Ye(["\n  margin-top: 100px;\n  padding: 0 20px;\n  width: 100%;\n  height: 100%;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell,\n    'Open Sans', 'Helvetica Neue', sans-serif;\n  background-color: #ffffff;\n  h1 {\n    font-size: 20px;\n    font-weight: 600;\n    margin: 20px;\n    padding-top: 20px;\n  }\n"]))),Eq=Cn.div(Zz||(Zz=Ye(["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  div {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    margin: 20px;\n    border: 1px solid rgba(0, 0, 0, 0.15);\n    padding: 10px;\n    width: 200px;\n    img {\n      width: 100px;\n      height: 100px;\n      border-radius: 50%;\n    }\n    h3 {\n      font-size: 16px;\n      padding: 10px;\n      font-weight: 550;\n      margin: 10px 0;\n    }\n    p {\n      font-size: 14px;\n      font-weight: 400;\n      margin: 10px 0;\n    }\n    button {\n      background-color: transparent;\n      color: rgb(102, 103, 171);\n      box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.6);\n      padding: 16px;\n      align-items: center;\n      border-radius: 15px;\n      box-sizing: border-box;\n      font-weight: 600;\n      display: inline-flex;\n      justify-content: center;\n      max-height: 32px;\n      max-width: 480px;\n      text-align: center;\n      outline: none;\n    }\n  }\n"]))),Tq=ur((function(e){return{user:e.userState.user,userDetails:e.userDetailsState.userDetails,connections:e.networkState.connections}}),(function(e){return{getUserDetails:function(t){return e(_U(t))},getConnections:function(t){return e(RU(t))}}}))((function(e){return(0,r.useEffect)((function(){e.user&&e.getUserDetails(e.user.uid)}),[e.user]),(0,r.useEffect)((function(){e.user&&e.getConnections(e.user.uid)}),[e.user,e.userDetails]),(0,HV.jsx)(HV.Fragment,{children:e.connections&&0===e.connections.length?(0,HV.jsxs)(Sq,{style:{backgroundColor:"white"},children:[(0,HV.jsxs)("h1",{style:{color:"rgb(85, 85, 85)"},children:["My ",(0,HV.jsx)("span",{style:{color:"rgb(102,103,171)"},children:"Network"})]}),(0,HV.jsx)("h2",{style:{color:"rgb(85, 85, 85)",textAlign:"center"},children:"You have no connections"})]}):(0,HV.jsxs)(Sq,{style:{backgroundColor:"white"},children:[(0,HV.jsxs)("h1",{style:{color:"rgb(85, 85, 85)"},children:["My ",(0,HV.jsx)("span",{style:{color:"rgb(102,103,171)"},children:"Network"})]}),(0,HV.jsx)(Eq,{children:e.connections&&e.connections.map((function(e){return(0,HV.jsxs)("div",{children:[""===e.photoUrl?(0,HV.jsx)("img",{src:"/images/default-profile-icon.jpg",alt:"user"}):(0,HV.jsx)("img",{src:e.photoUrl,alt:"profile"}),(0,HV.jsx)("h3",{children:e.name}),(0,HV.jsx)(He,{to:"/profile/".concat(e.userid),style:{textDecoration:"none"},children:(0,HV.jsx)("button",{children:"View profile"})},e.userid)]})}))})]})})})),Iq=Cn.div(eq||(eq=Ye(["\n  margin-top: 100px;\n  padding: 0 20px;\n  width: 100%;\n  margin: 0 auto;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell,\n    'Open Sans', 'Helvetica Neue', sans-serif;\n  background-color: #ffffff;\n  h1 {\n    font-size: 20px;\n    font-weight: 600;\n    margin: 20px;\n    padding-top: 20px;\n  }\n"]))),Cq=Cn.div(tq||(tq=Ye(["\n  display: flex;\n  align-items: center;\n  padding: 0.5rem 0;\n  justify-content: space-between;\n  img {\n    width: 50px;\n    height: 50px;\n    border-radius: 50%;\n    margin-right: 1rem;\n  }\n  h3 {\n    font-size: 1rem;\n    font-weight: 400;\n    color: rgb(85, 85, 85);\n    margin-right: 1rem;\n  }\n  button {\n    padding: 0.5rem 1rem;\n    border: none;\n    border-radius: 5px;\n    background-color: rgb(102, 103, 171);\n    color: white;\n    font-size: 0.8rem;\n    font-weight: 400;\n    cursor: pointer;\n    margin-right: 3rem;\n  }\n"]))),Pq=ur((function(e){return{user:e.userState.user,userDetails:e.userState.userDetails,profiles:e.explorePeopleState.profiles}}),(function(e){return{getUserDetails:function(t){return e(_U(t))},getProfiles:function(t){return e(DU(t))}}}))((function(e){return(0,r.useEffect)((function(){e.user&&e.getProfiles(e.user.uid)}),[e.user]),(0,HV.jsxs)(Iq,{children:[(0,HV.jsxs)("h1",{style:{color:"rgb(85, 85, 85)"},children:["Explore ",(0,HV.jsx)("span",{style:{color:"rgb(102,103,171)"},children:"People"})]}),e.profiles&&e.profiles.map((function(e){return(0,HV.jsxs)(Cq,{children:[(0,HV.jsxs)("div",{style:{display:"flex",marginLeft:"1rem"},children:[""===e.photoUrl?(0,HV.jsx)("img",{src:"/images/default-profile-icon.jpg",alt:"user"}):(0,HV.jsx)("img",{src:e.photoUrl,alt:"profile"}),(0,HV.jsx)("h3",{style:{marginTop:"10px"},children:e.name})]}),(0,HV.jsx)(He,{to:"/profile/".concat(e.userid),style:{textDecoration:"none"},children:(0,HV.jsx)("button",{children:"View profile"})},e.userid)]})}))]})}));function Oq(e,t){return function(){return e.apply(t,arguments)}}var Rq,Dq=Object.prototype.toString,Nq=Object.getPrototypeOf,Aq=(Rq=Object.create(null),function(e){var t=Dq.call(e);return Rq[t]||(Rq[t]=t.slice(8,-1).toLowerCase())}),jq=function(e){return e=e.toLowerCase(),function(t){return Aq(t)===e}},Mq=function(e){return function(t){return typeof t===e}},Lq=Array.isArray,Fq=Mq("undefined");var Uq=jq("ArrayBuffer");var Vq=Mq("string"),zq=Mq("function"),qq=Mq("number"),Bq=function(e){return null!==e&&"object"===typeof e},Wq=function(e){if("object"!==Aq(e))return!1;var t=Nq(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Hq=jq("Date"),Gq=jq("File"),Kq=jq("Blob"),Yq=jq("FileList"),Qq=jq("URLSearchParams");function $q(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.allOwnKeys,o=void 0!==a&&a;if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Lq(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{var s,u=o?Object.getOwnPropertyNames(e):Object.keys(e),c=u.length;for(n=0;n<c;n++)s=u[n],t.call(null,e[s],s,e)}}function Xq(e,t){t=t.toLowerCase();for(var n,r=Object.keys(e),i=r.length;i-- >0;)if(t===(n=r[i]).toLowerCase())return n;return null}var Jq="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Zq=function(e){return!Fq(e)&&e!==Jq};var eB,tB=(eB="undefined"!==typeof Uint8Array&&Nq(Uint8Array),function(e){return eB&&e instanceof eB}),nB=jq("HTMLFormElement"),rB=function(e){var t=Object.prototype.hasOwnProperty;return function(e,n){return t.call(e,n)}}(),iB=jq("RegExp"),aB=function(e,t){var n=Object.getOwnPropertyDescriptors(e),r={};$q(n,(function(n,i){!1!==t(n,i,e)&&(r[i]=n)})),Object.defineProperties(e,r)},oB="abcdefghijklmnopqrstuvwxyz",sB="0123456789",uB={DIGIT:sB,ALPHA:oB,ALPHA_DIGIT:oB+oB.toUpperCase()+sB};var cB={isArray:Lq,isArrayBuffer:Uq,isBuffer:function(e){return null!==e&&!Fq(e)&&null!==e.constructor&&!Fq(e.constructor)&&zq(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"===typeof FormData&&e instanceof FormData||Dq.call(e)===t||zq(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Uq(e.buffer)},isString:Vq,isNumber:qq,isBoolean:function(e){return!0===e||!1===e},isObject:Bq,isPlainObject:Wq,isUndefined:Fq,isDate:Hq,isFile:Gq,isBlob:Kq,isRegExp:iB,isFunction:zq,isStream:function(e){return Bq(e)&&zq(e.pipe)},isURLSearchParams:Qq,isTypedArray:tB,isFileList:Yq,forEach:$q,merge:function e(){for(var t=Zq(this)&&this||{},n=t.caseless,r={},i=function(t,i){var a=n&&Xq(r,i)||i;Wq(r[a])&&Wq(t)?r[a]=e(r[a],t):Wq(t)?r[a]=e({},t):Lq(t)?r[a]=t.slice():r[a]=t},a=0,o=arguments.length;a<o;a++)arguments[a]&&$q(arguments[a],i);return r},extend:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.allOwnKeys;return $q(t,(function(t,r){n&&zq(t)?e[r]=Oq(t,n):e[r]=t}),{allOwnKeys:i}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n,r){var i,a,o,s={};if(t=t||{},null==e)return t;do{for(a=(i=Object.getOwnPropertyNames(e)).length;a-- >0;)o=i[a],r&&!r(o,e,t)||s[o]||(t[o]=e[o],s[o]=!0);e=!1!==n&&Nq(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Aq,kindOfTest:jq,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;if(Lq(e))return e;var t=e.length;if(!qq(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},forEachEntry:function(e,t){for(var n,r=(e&&e[Symbol.iterator]).call(e);(n=r.next())&&!n.done;){var i=n.value;t.call(e,i[0],i[1])}},matchAll:function(e,t){for(var n,r=[];null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:nB,hasOwnProperty:rB,hasOwnProp:rB,reduceDescriptors:aB,freezeMethods:function(e){aB(e,(function(t,n){if(zq(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;var r=e[n];zq(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=function(){throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:function(e,t){var n={},r=function(e){e.forEach((function(e){n[e]=!0}))};return Lq(e)?r(e):r(String(e).split(t)),n},toCamelCase:function(e){return e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))},noop:function(){},toFiniteNumber:function(e,t){return e=+e,Number.isFinite(e)?e:t},findKey:Xq,global:Jq,isContextDefined:Zq,ALPHABET:uB,generateString:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:uB.ALPHA_DIGIT,n="",r=t.length;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&zq(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:function(e){var t=new Array(10);return function e(n,r){if(Bq(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[r]=n;var i=Lq(n)?[]:{};return $q(n,(function(t,n){var a=e(t,r+1);!Fq(a)&&(i[n]=a)})),t[r]=void 0,i}}return n}(e,0)}};function lB(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}cB.inherits(lB,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:cB.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var fB=lB.prototype,hB={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(e){hB[e]={value:e}})),Object.defineProperties(lB,hB),Object.defineProperty(fB,"isAxiosError",{value:!0}),lB.from=function(e,t,n,r,i,a){var o=Object.create(fB);return cB.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(function(e){return"isAxiosError"!==e})),lB.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};var dB=lB;function pB(e){return cB.isPlainObject(e)||cB.isArray(e)}function vB(e){return cB.endsWith(e,"[]")?e.slice(0,-2):e}function yB(e,t,n){return e?e.concat(t).map((function(e,t){return e=vB(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}var mB=cB.toFlatObject(cB,{},null,(function(e){return/^is[A-Z]/.test(e)}));var gB=function(e,t,n){if(!cB.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;var r=(n=cB.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!cB.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,a=n.dots,o=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&cB.isSpecCompliantForm(t);if(!cB.isFunction(i))throw new TypeError("visitor must be a function");function u(e){if(null===e)return"";if(cB.isDate(e))return e.toISOString();if(!s&&cB.isBlob(e))throw new dB("Blob is not supported. Use a Buffer instead.");return cB.isArrayBuffer(e)||cB.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){var s=e;if(e&&!i&&"object"===typeof e)if(cB.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(cB.isArray(e)&&function(e){return cB.isArray(e)&&!e.some(pB)}(e)||(cB.isFileList(e)||cB.endsWith(n,"[]"))&&(s=cB.toArray(e)))return n=vB(n),s.forEach((function(e,r){!cB.isUndefined(e)&&null!==e&&t.append(!0===o?yB([n],r,a):null===o?n:n+"[]",u(e))})),!1;return!!pB(e)||(t.append(yB(i,n,a),u(e)),!1)}var l=[],f=Object.assign(mB,{defaultVisitor:c,convertValue:u,isVisitable:pB});if(!cB.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!cB.isUndefined(n)){if(-1!==l.indexOf(n))throw Error("Circular reference detected in "+r.join("."));l.push(n),cB.forEach(n,(function(n,a){!0===(!(cB.isUndefined(n)||null===n)&&i.call(t,n,cB.isString(a)?a.trim():a,r,f))&&e(n,r?r.concat(a):[a])})),l.pop()}}(e),t};function bB(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function kB(e,t){this._pairs=[],e&&gB(e,this,t)}var wB=kB.prototype;wB.append=function(e,t){this._pairs.push([e,t])},wB.toString=function(e){var t=e?function(t){return e.call(this,t,bB)}:bB;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var _B=kB;function xB(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function SB(e,t,n){if(!t)return e;var r,i=n&&n.encode||xB,a=n&&n.serialize;if(r=a?a(t,n):cB.isURLSearchParams(t)?t.toString():new _B(t,n).toString(i)){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}var EB=function(){function e(){d(this,e),this.handlers=[]}return m(e,[{key:"use",value:function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(e){cB.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}]),e}(),TB=EB,IB={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},CB={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:_B,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},isStandardBrowserEnv:function(){var e;return("undefined"===typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&("undefined"!==typeof window&&"undefined"!==typeof document)}(),isStandardBrowserWebWorkerEnv:"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,protocols:["http","https","file","blob","url","data"]};var PB=function(e){function t(e,n,r,i){var a=e[i++],o=Number.isFinite(+a),s=i>=e.length;return a=!a&&cB.isArray(r)?r.length:a,s?(cB.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!o):(r[a]&&cB.isObject(r[a])||(r[a]=[]),t(e,n,r[a],i)&&cB.isArray(r[a])&&(r[a]=function(e){var t,n,r={},i=Object.keys(e),a=i.length;for(t=0;t<a;t++)r[n=i[t]]=e[n];return r}(r[a])),!o)}if(cB.isFormData(e)&&cB.isFunction(e.entries)){var n={};return cB.forEachEntry(e,(function(e,r){t(function(e){return cB.matchAll(/\w+|\[(\w*)]/g,e).map((function(e){return"[]"===e[0]?"":e[1]||e[0]}))}(e),r,n,0)})),n}return null},OB={"Content-Type":void 0};var RB={transitional:IB,adapter:["xhr","http"],transformRequest:[function(e,t){var n,r=t.getContentType()||"",i=r.indexOf("application/json")>-1,a=cB.isObject(e);if(a&&cB.isHTMLForm(e)&&(e=new FormData(e)),cB.isFormData(e))return i&&i?JSON.stringify(PB(e)):e;if(cB.isArrayBuffer(e)||cB.isBuffer(e)||cB.isStream(e)||cB.isFile(e)||cB.isBlob(e))return e;if(cB.isArrayBufferView(e))return e.buffer;if(cB.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return gB(e,new CB.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return CB.isNode&&cB.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((n=cB.isFileList(e))||r.indexOf("multipart/form-data")>-1){var o=this.env&&this.env.FormData;return gB(n?{"files[]":e}:e,o&&new o,this.formSerializer)}}return a||i?(t.setContentType("application/json",!1),function(e,t,n){if(cB.isString(e))try{return(t||JSON.parse)(e),cB.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||RB.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&cB.isString(e)&&(n&&!this.responseType||r)){var i=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(i){if("SyntaxError"===a.name)throw dB.from(a,dB.ERR_BAD_RESPONSE,this,null,this.response);throw a}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:CB.classes.FormData,Blob:CB.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};cB.forEach(["delete","get","head"],(function(e){RB.headers[e]={}})),cB.forEach(["post","put","patch"],(function(e){RB.headers[e]=cB.merge(OB)}));var DB=RB,NB=cB.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),AB=Symbol("internals");function jB(e){return e&&String(e).trim().toLowerCase()}function MB(e){return!1===e||null==e?e:cB.isArray(e)?e.map(MB):String(e)}function LB(e,t,n,r,i){return cB.isFunction(r)?r.call(this,t,n):(i&&(t=n),cB.isString(t)?cB.isString(r)?-1!==t.indexOf(r):cB.isRegExp(r)?r.test(t):void 0:void 0)}var FB=function(e,t){function n(e){d(this,n),e&&this.set(e)}return m(n,[{key:"set",value:function(e,t,n){var r=this;function i(e,t,n){var i=jB(t);if(!i)throw new Error("header name must be a non-empty string");var a=cB.findKey(r,i);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=MB(e))}var a=function(e,t){return cB.forEach(e,(function(e,n){return i(e,n,t)}))};return cB.isPlainObject(e)||e instanceof this.constructor?a(e,t):cB.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z]+$/.test(e.trim())?a(function(e){var t,n,r,i={};return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),t=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!t||i[t]&&NB[t]||("set-cookie"===t?i[t]?i[t].push(n):i[t]=[n]:i[t]=i[t]?i[t]+", "+n:n)})),i}(e),t):null!=e&&i(t,e,n),this}},{key:"get",value:function(e,t){if(e=jB(e)){var n=cB.findKey(this,e);if(n){var r=this[n];if(!t)return r;if(!0===t)return function(e){for(var t,n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;t=r.exec(e);)n[t[1]]=t[2];return n}(r);if(cB.isFunction(t))return t.call(this,r,n);if(cB.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(e,t){if(e=jB(e)){var n=cB.findKey(this,e);return!(!n||void 0===this[n]||t&&!LB(0,this[n],n,t))}return!1}},{key:"delete",value:function(e,t){var n=this,r=!1;function i(e){if(e=jB(e)){var i=cB.findKey(n,e);!i||t&&!LB(0,n[i],i,t)||(delete n[i],r=!0)}}return cB.isArray(e)?e.forEach(i):i(e),r}},{key:"clear",value:function(e){for(var t=Object.keys(this),n=t.length,r=!1;n--;){var i=t[n];e&&!LB(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}},{key:"normalize",value:function(e){var t=this,n={};return cB.forEach(this,(function(r,i){var a=cB.findKey(n,i);if(a)return t[a]=MB(r),void delete t[i];var o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))}(i):String(i).trim();o!==i&&delete t[i],t[o]=MB(r),n[o]=!0})),this}},{key:"concat",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.constructor).concat.apply(e,[this].concat(n))}},{key:"toJSON",value:function(e){var t=Object.create(null);return cB.forEach(this,(function(n,r){null!=n&&!1!==n&&(t[r]=e&&cB.isArray(n)?n.join(", "):n)})),t}},{key:Symbol.iterator,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map((function(e){var t=l(e,2);return t[0]+": "+t[1]})).join("\n")}},{key:Symbol.toStringTag,get:function(){return"AxiosHeaders"}}],[{key:"from",value:function(e){return e instanceof this?e:new this(e)}},{key:"concat",value:function(e){for(var t=new this(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((function(e){return t.set(e)})),t}},{key:"accessor",value:function(e){var t=(this[AB]=this[AB]={accessors:{}}).accessors,n=this.prototype;function r(e){var r=jB(e);t[r]||(!function(e,t){var n=cB.toCamelCase(" "+t);["get","set","has"].forEach((function(r){Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return cB.isArray(e)?e.forEach(r):r(e),this}}]),n}();FB.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),cB.freezeMethods(FB.prototype),cB.freezeMethods(FB);var UB=FB;function VB(e,t){var n=this||DB,r=t||n,i=UB.from(r.headers),a=r.data;return cB.forEach(e,(function(e){a=e.call(n,a,i.normalize(),t?t.status:void 0)})),i.normalize(),a}function zB(e){return!(!e||!e.__CANCEL__)}function qB(e,t,n){dB.call(this,null==e?"canceled":e,dB.ERR_CANCELED,t,n),this.name="CanceledError"}cB.inherits(qB,dB,{__CANCEL__:!0});var BB=qB;var WB=CB.isStandardBrowserEnv?{write:function(e,t,n,r,i,a){var o=[];o.push(e+"="+encodeURIComponent(t)),cB.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),cB.isString(r)&&o.push("path="+r),cB.isString(i)&&o.push("domain="+i),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function HB(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var GB=CB.isStandardBrowserEnv?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=cB.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0};var KB=function(e,t){e=e||10;var n,r=new Array(e),i=new Array(e),a=0,o=0;return t=void 0!==t?t:1e3,function(s){var u=Date.now(),c=i[o];n||(n=u),r[a]=s,i[a]=u;for(var l=o,f=0;l!==a;)f+=r[l++],l%=e;if((a=(a+1)%e)===o&&(o=(o+1)%e),!(u-n<t)){var h=c&&u-c;return h?Math.round(1e3*f/h):void 0}}};function YB(e,t){var n=0,r=KB(50,250);return function(i){var a=i.loaded,o=i.lengthComputable?i.total:void 0,s=a-n,u=r(s);n=a;var c={loaded:a,total:o,progress:o?a/o:void 0,bytes:s,rate:u||void 0,estimated:u&&o&&a<=o?(o-a)/u:void 0,event:i};c[t?"download":"upload"]=!0,e(c)}}var QB="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){var r,i=e.data,a=UB.from(e.headers).normalize(),o=e.responseType;function s(){e.cancelToken&&e.cancelToken.unsubscribe(r),e.signal&&e.signal.removeEventListener("abort",r)}cB.isFormData(i)&&(CB.isStandardBrowserEnv||CB.isStandardBrowserWebWorkerEnv)&&a.setContentType(!1);var u=new XMLHttpRequest;if(e.auth){var c=e.auth.username||"",l=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.set("Authorization","Basic "+btoa(c+":"+l))}var f=HB(e.baseURL,e.url);function h(){if(u){var r=UB.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders());!function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new dB("Request failed with status code "+n.status,[dB.ERR_BAD_REQUEST,dB.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),s()}),(function(e){n(e),s()}),{data:o&&"text"!==o&&"json"!==o?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:r,config:e,request:u}),u=null}}if(u.open(e.method.toUpperCase(),SB(f,e.params,e.paramsSerializer),!0),u.timeout=e.timeout,"onloadend"in u?u.onloadend=h:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(h)},u.onabort=function(){u&&(n(new dB("Request aborted",dB.ECONNABORTED,e,u)),u=null)},u.onerror=function(){n(new dB("Network Error",dB.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||IB;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new dB(t,r.clarifyTimeoutError?dB.ETIMEDOUT:dB.ECONNABORTED,e,u)),u=null},CB.isStandardBrowserEnv){var d=(e.withCredentials||GB(f))&&e.xsrfCookieName&&WB.read(e.xsrfCookieName);d&&a.set(e.xsrfHeaderName,d)}void 0===i&&a.setContentType(null),"setRequestHeader"in u&&cB.forEach(a.toJSON(),(function(e,t){u.setRequestHeader(t,e)})),cB.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),o&&"json"!==o&&(u.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&u.addEventListener("progress",YB(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",YB(e.onUploadProgress)),(e.cancelToken||e.signal)&&(r=function(t){u&&(n(!t||t.type?new BB(null,e,u):t),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(r),e.signal&&(e.signal.aborted?r():e.signal.addEventListener("abort",r)));var p=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(f);p&&-1===CB.protocols.indexOf(p)?n(new dB("Unsupported protocol "+p+":",dB.ERR_BAD_REQUEST,e)):u.send(i||null)}))},$B={http:null,xhr:QB};cB.forEach($B,(function(e,t){if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));var XB=function(e){for(var t,n,r=(e=cB.isArray(e)?e:[e]).length,i=0;i<r&&(t=e[i],!(n=cB.isString(t)?$B[t.toLowerCase()]:t));i++);if(!n){if(!1===n)throw new dB("Adapter ".concat(t," is not supported by the environment"),"ERR_NOT_SUPPORT");throw new Error(cB.hasOwnProp($B,t)?"Adapter '".concat(t,"' is not available in the build"):"Unknown adapter '".concat(t,"'"))}if(!cB.isFunction(n))throw new TypeError("adapter is not a function");return n};function JB(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new BB(null,e)}function ZB(e){return JB(e),e.headers=UB.from(e.headers),e.data=VB.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),XB(e.adapter||DB.adapter)(e).then((function(t){return JB(e),t.data=VB.call(e,e.transformResponse,t),t.headers=UB.from(t.headers),t}),(function(t){return zB(t)||(JB(e),t&&t.response&&(t.response.data=VB.call(e,e.transformResponse,t.response),t.response.headers=UB.from(t.response.headers))),Promise.reject(t)}))}var eW=function(e){return e instanceof UB?e.toJSON():e};function tW(e,t){t=t||{};var n={};function r(e,t,n){return cB.isPlainObject(e)&&cB.isPlainObject(t)?cB.merge.call({caseless:n},e,t):cB.isPlainObject(t)?cB.merge({},t):cB.isArray(t)?t.slice():t}function i(e,t,n){return cB.isUndefined(t)?cB.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function a(e,t){if(!cB.isUndefined(t))return r(void 0,t)}function o(e,t){return cB.isUndefined(t)?cB.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,i,a){return a in t?r(n,i):a in e?r(void 0,n):void 0}var u={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:function(e,t){return i(eW(e),eW(t),!0)}};return cB.forEach(Object.keys(e).concat(Object.keys(t)),(function(r){var a=u[r]||i,o=a(e[r],t[r],r);cB.isUndefined(o)&&a!==s||(n[r]=o)})),n}var nW="1.3.4",rW={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){rW[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var iW={};rW.transitional=function(e,t,n){function r(e,t){return"[Axios v1.3.4] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,a){if(!1===e)throw new dB(r(i," has been removed"+(t?" in "+t:"")),dB.ERR_DEPRECATED);return t&&!iW[i]&&(iW[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}};var aW={assertOptions:function(e,t,n){if("object"!==typeof e)throw new dB("options must be an object",dB.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),i=r.length;i-- >0;){var a=r[i],o=t[a];if(o){var s=e[a],u=void 0===s||o(s,a,e);if(!0!==u)throw new dB("option "+a+" must be "+u,dB.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new dB("Unknown option "+a,dB.ERR_BAD_OPTION)}},validators:rW},oW=aW.validators,sW=function(){function e(t){d(this,e),this.defaults=t,this.interceptors={request:new TB,response:new TB}}return m(e,[{key:"request",value:function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{};var n,r=t=tW(this.defaults,t),i=r.transitional,a=r.paramsSerializer,o=r.headers;void 0!==i&&aW.assertOptions(i,{silentJSONParsing:oW.transitional(oW.boolean),forcedJSONParsing:oW.transitional(oW.boolean),clarifyTimeoutError:oW.transitional(oW.boolean)},!1),void 0!==a&&aW.assertOptions(a,{encode:oW.function,serialize:oW.function},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase(),(n=o&&cB.merge(o.common,o[t.method]))&&cB.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete o[e]})),t.headers=UB.concat(n,o);var s=[],u=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(u=u&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));var c,l=[];this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));var f,h=0;if(!u){var d=[ZB.bind(this),void 0];for(d.unshift.apply(d,s),d.push.apply(d,l),f=d.length,c=Promise.resolve(t);h<f;)c=c.then(d[h++],d[h++]);return c}f=s.length;var p=t;for(h=0;h<f;){var v=s[h++],y=s[h++];try{p=v(p)}catch(pD){y.call(this,pD);break}}try{c=ZB.call(this,p)}catch(pD){return Promise.reject(pD)}for(h=0,f=l.length;h<f;)c=c.then(l[h++],l[h++]);return c}},{key:"getUri",value:function(e){return SB(HB((e=tW(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}]),e}();cB.forEach(["delete","get","head","options"],(function(e){sW.prototype[e]=function(t,n){return this.request(tW(n||{},{method:e,url:t,data:(n||{}).data}))}})),cB.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(tW(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}sW.prototype[e]=t(),sW.prototype[e+"Form"]=t(!0)}));var uW=sW,cW=function(){function e(t){if(d(this,e),"function"!==typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var r=this;this.promise.then((function(e){if(r._listeners){for(var t=r._listeners.length;t-- >0;)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},t((function(e,t,i){r.reason||(r.reason=new BB(e,t,i),n(r.reason))}))}return m(e,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}},{key:"unsubscribe",value:function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}}}],[{key:"source",value:function(){var t;return{token:new e((function(e){t=e})),cancel:t}}}]),e}();var lW={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(lW).forEach((function(e){var t=l(e,2),n=t[0],r=t[1];lW[r]=n}));var fW=lW;var hW=function e(t){var n=new uW(t),r=Oq(uW.prototype.request,n);return cB.extend(r,uW.prototype,n,{allOwnKeys:!0}),cB.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(tW(t,n))},r}(DB);hW.Axios=uW,hW.CanceledError=BB,hW.CancelToken=cW,hW.isCancel=zB,hW.VERSION=nW,hW.toFormData=gB,hW.AxiosError=dB,hW.Cancel=hW.CanceledError,hW.all=function(e){return Promise.all(e)},hW.spread=function(e){return function(t){return e.apply(null,t)}},hW.isAxiosError=function(e){return cB.isObject(e)&&!0===e.isAxiosError},hW.mergeConfig=tW,hW.AxiosHeaders=UB,hW.formToJSON=function(e){return PB(cB.isHTMLForm(e)?new FormData(e):e)},hW.HttpStatusCode=fW,hW.default=hW;var dW,pW,vW,yW,mW,gW,bW,kW,wW,_W,xW,SW,EW,TW,IW,CW,PW,OW,RW,DW,NW,AW,jW,MW,LW,FW,UW,VW,zW=hW,qW=Cn.div(dW||(dW=Ye(["\n  background-color: #ffffff;\n  padding: 0 0 0 0;\n  margin-top: 100px;\n  font-family: 'Roboto', sans-serif;\n  font-size: 16px;\n  line-height: 1.5;\n  color: rgb(102, 103, 171);\n  font-weight: 400;\n  text-align: left;\n  box-sizing: border-box;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell,\n    'Open Sans', 'Helvetica Neue', sans-serif;\n  h1 {\n    font-size: 20px;\n    font-weight: 600;\n    margin: 20px;\n    padding-top: 50px;\n  }\n  .organizrow {\n    osition: relative;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-between;\n    padding: 60px 0 20px;\n    margin: 70px 0 10px;\n  }\n  .organizrow .organizcols {\n    position: relative;\n    cursor: pointer;\n    height: 180px;\n    width: 30%;\n    margin: -10% 1.2% 12%;\n    /*margin: -6% 1.2% 12%;*/\n  }\n  .organizrow .organizcols .orcol {\n    height: 195px;\n    transition: 0.5s;\n  }\n\n  .organizrow .organizcols .orcol.orcol1 {\n    position: relative;\n    background: #f6f6f6;\n    display: flex;\n    /*justify-content: center;*/\n    align-items: center;\n    z-index: 1;\n    transform: translateY(100px);\n    padding: 20px;\n    text-align: left;\n    border-bottom: 1px solid #aecfdc;\n  }\n\n  .organizrow .organizcols:hover .orcol.orcol1 {\n    background: rgb(102, 103, 171);\n    border-color: #ecf6fa;\n    transform: translateY(0);\n  }\n\n  .organizrow .organizcols:hover {\n    z-index: 3;\n  }\n\n  .organizrow .organizcols .orcol.orcol1 .content {\n    opacity: 1;\n    transition: 0.5s;\n  }\n\n  .organizrow .organizcols:hover .orcol.orcol1 .content {\n    opacity: 1;\n  }\n\n  .organizrow .organizcols .orcol.orcol1 .content img {\n    max-width: 100%;\n    margin-bottom: 18px;\n  }\n\n  .organizrow .organizcols .orcol.orcol1.makeinindia .content img {\n    height: 36px;\n    max-width: 100%;\n    margin: 18px 0 19px;\n  }\n\n  .organizrow .organizcols .orcol.orcol1 .content h2 {\n    margin: 10px 0;\n    padding: 0;\n    text-align: left;\n    font-size: 22px;\n    line-height: 1.1;\n    font-weight: 700;\n    color: rgb(102, 103, 171);\n    letter-spacing: -0.025em;\n  }\n\n  .organizrow .organizcols .orcol.orcol1 .content p {\n    font-size: 18px;\n    line-height: 1.4;\n    font-weight: 400;\n    color: rgb(102, 103, 171);\n  }\n\n  .organizrow .organizcols .orcol.orcol2 {\n    position: relative;\n    background: #f6f6f6;\n    display: flex;\n    justify-content: center;\n    align-items: flex-start;\n    padding: 20px;\n    box-sizing: border-box;\n    /*box-shadow: 0 10px 25px rgb(0 0 0 / 16%);*/\n    transform: translateY(-120px);\n    height: auto;\n  }\n\n  .organizrow .organizcols:hover .orcol.orcol2 {\n    transform: translateY(0);\n    background: #fff;\n    box-shadow: 0 5px 28px rgb(0 0 0 / 12%);\n  }\n\n  .organizrow .organizcols:before {\n    content: '';\n    position: absolute;\n    width: 100%;\n    height: 220px;\n    left: 0;\n    right: 0;\n    top: 8px;\n    bottom: 0;\n    background: rgb(0 0 0 / 15%);\n    filter: blur(19px);\n    opacity: 0;\n  }\n\n  .organizrow .organizcols:hover:before {\n    opacity: 1;\n    transition: 0.5s;\n    height: 100%;\n  }\n\n  .organizrow .organizcols .orcol.orcol2 .content p {\n    font-size: 15px;\n    line-height: 1.2;\n    padding: 5px 0;\n    font-weight: 400;\n    list-style: square;\n    margin: 0 0 5px;\n  }\n"]))),BW=function(){var e=l((0,r.useState)([]),2),t=e[0],n=e[1],i=l(r.useState(!0),2),a=i[0],o=i[1];return(0,r.useEffect)((function(){var e=function(){var e=Xe(Qe().mark((function e(){var t;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zW("https://newsapi.org/v2/top-headlines?country=us&category=technology&apiKey=70697cf9e48f4099a26835ff0a84a9e7");case 2:t=e.sent,n(t.data.articles),o(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),a?(0,HV.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:"white",width:"100%"},children:(0,HV.jsx)("img",{src:"./images/circle-loading-lines.gif",alt:"loading",width:100})}):(0,HV.jsxs)(qW,{children:[(0,HV.jsxs)("h1",{style:{color:"rgb(85, 85, 85)"},children:["Tech ",(0,HV.jsx)("span",{style:{color:"rgb(102,103,171)"},children:"Today"})]}),(0,HV.jsx)("div",{className:"organizrow",children:t.map((function(e){return(0,HV.jsxs)("div",{className:"organizcols locomo-top-hide",children:[(0,HV.jsx)("div",{className:"orcol orcol1",children:(0,HV.jsx)("div",{className:"content",children:(0,HV.jsx)("a",{href:e.url,target:"_blank",rel:"noreferrer",children:e.urlToImage?(0,HV.jsx)("img",{src:e.urlToImage,alt:e.title}):(0,HV.jsx)("img",{src:"./images/newss.bmp",alt:e.title})})})}),(0,HV.jsx)("div",{className:"orcol orcol2",children:(0,HV.jsxs)("div",{className:"content",children:[(0,HV.jsx)("h2",{children:e.title}),(0,HV.jsx)("p",{children:e.description})]})})]},e.url)}))})]})};var WW,HW,GW,KW,YW,QW,$W,XW,JW,ZW,eH,tH,nH,rH,iH,aH,oH,sH,uH,cH,lH,fH,hH,dH=Cn.div(pW||(pW=Ye(["\n  margin-top: 110px;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n"]))),pH=Cn.form(vW||(vW=Ye(["\n  width: 50%;\n  height: 50%;\n  display: flex;\n  flex-direction: column;\n  background-color: #ffffff;\n  border-radius: 10px;\n  box-shadow: 0 0 10px 0 rgba(0, 0, 0, 0.2);\n  margin: 40px;\n  padding: 50px;\n  div {\n    width: 100%;\n    display: flex;\n    justify-content: space-between;\n    label {\n      margin-right: 10px;\n      margin-top: 10px;\n    }\n    input {\n      width: 75%;\n      height: 40px;\n      border: 1px solid #cccccc;\n      border-radius: 5px;\n      padding: 0 10px;\n      margin-bottom: 20px;\n      margin-left: 20px;\n    }\n  }\n  button {\n    width: 100%;\n    height: 40px;\n    border: 1px solid #cccccc;\n    border-radius: 5px;\n    padding: 0 10px;\n    margin-bottom: 20px;\n    background-color: #ffffff;\n    cursor: pointer;\n  }\n"]))),vH=Cn.div(yW||(yW=Ye(["\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell,\n    'Open Sans', 'Helvetica Neue', sans-serif;\n  margin-top: 100px;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),yH=Cn.div(mW||(mW=Ye(["\n  width: 80%;\n  margin: 0 auto;\n  height: 350px;\n  position: relative;\n  img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n"]))),mH=Cn.div(gW||(gW=Ye(["\n  background-color: #ffffff;\n  width: 50%;\n  height: 250px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  position: absolute;\n  top: 200px;\n  left: 15%;\n"]))),gH=Cn.div(bW||(bW=Ye(["\n  width: 200px;\n  height: 100%;\n  position: relative;\n  img {\n    width: 200px;\n    height: 250px;\n    object-fit: cover;\n  }\n"]))),bH=Cn.div(kW||(kW=Ye(["\n  position: absolute;\n  width: 30px;\n  height: 30px;\n  bottom: -5px;\n  right: -10px;\n  cursor: pointer;\n  img {\n    cursor: pointer;\n  }\n"]))),kH=Cn.div(wW||(wW=Ye(["\n  position: absolute;\n  width: 30px;\n  height: 30px;\n  bottom: -5px;\n  right: -10px;\n  cursor: pointer;\n  img {\n    cursor: pointer;\n  }\n"]))),wH=Cn.div(_W||(_W=Ye(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: left;\n  margin-left: 20px;\n  padding-top: 15px;\n  h2 {\n    font-size: 24px;\n    font-weight: 500;\n    color: black;\n    line-height: 1.5;\n    margin-bottom: 5px;\n  }\n  h3 {\n    font-size: 15px;\n    font-weight: 350;\n    color: black;\n    line-height: 1.5;\n    margin-bottom: 5px;\n  }\n  p {\n    width: 100%;\n    font-size: 15px;\n    height: 100%;\n    margin-bottom: 5px;\n  }\n"]))),_H=Cn.div(xW||(xW=Ye(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  div {\n    display: flex;\n    flex-direction: column;\n    align-items: left;\n    height: 100%;\n  }\n"]))),xH=Cn.div(SW||(SW=Ye(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  margin-bottom: 10px;\n  flex-direction: row;\n  align-items: center;\n  button {\n    width: 100%;\n    height: 100%;\n    background-color: #0a66c2;\n    color: white;\n    border-radius: 20px;\n    border: none;\n    font-size: 13px;\n    font-weight: 500;\n    padding: 10px 20px;\n    cursor: pointer;\n    &:hover {\n      background-color: #004182;\n    }\n  }\n  div {\n    font-size: 15px;\n    font-weight: 350;\n    color: black;\n    margin-right: 10px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    p {\n      font-size: 20px;\n      font-weight: 500;\n      color: black;\n    }\n  }\n"]))),SH=Cn.div(EW||(EW=Ye(["\n  text-align: center;\n  overflow: hidden;\n  margin-bottom: 8px;\n  background-color: #fff;\n  position: relative;\n  border: none;\n"]))),EH=Cn.div(TW||(TW=Ye(["\n  text-align: center;\n  width: 750px;\n  & > img {\n    width: 30px;\n  }\n"]))),TH=Cn(SH)(IW||(IW=Ye(["\n  padding: 0;\n  margin: 0 auto;\n  min-width: 700px;\n  overflow: visible;\n"]))),IH=Cn.div(CW||(CW=Ye(["\n  position: absolute;\n  top: 25px;\n  right: -20px;\n  background: white;\n  border-radius: 5px;\n  display: none;\n  height: 20px;\n  padding: 10px;\n  font-size: 14px;\n  border: 1px solid rgba(0, 0, 0, 0.15);\n"]))),CH=Cn.div(PW||(PW=Ye(["\n  padding-right: 40px;\n  flex-wrap: nowrap;\n  padding: 12px 16px 0;\n  margin-bottom: 8px;\n  align-items: center;\n  display: flex;\n  a {\n    margin-right: 12px;\n    flex-grow: 1;\n    overflow: hidden;\n    display: flex;\n    text-decoration: none;\n    img {\n      width: 48px;\n      height: 48px;\n    }\n    & > div {\n      display: flex;\n      flex-direction: column;\n      flex-grow: 1;\n      flex-basis: 0;\n      margin-left: 8px;\n      overflow: hidden;\n      span {\n        text-align: left;\n        &:first-child {\n          font-size: 14px;\n          font-weight: 700;\n          color: rgba(0, 0, 0, 1);\n        }\n        &:nth-child(n + 1) {\n          font-size: 12px;\n          color: rgba(0, 0, 0, 0.6);\n        }\n      }\n    }\n  }\n  button {\n    position: absolute;\n    right: 12px;\n    top: 0;\n    background: transparent;\n    border: none;\n    outline: none;\n    cursor: pointer;\n    &:hover {\n      "," {\n        display: block;\n      }\n    }\n  }\n"])),IH),PH=Cn.div(OW||(OW=Ye(["\n  padding: 0 16px;\n  overflow: hidden;\n  color: rgba(0, 0, 0, 0.9);\n  font-size: 14px;\n  text-align: left;\n  margin: 10px;\n  margin-top: 20px;\n  margin-bottom: 20px;\n"]))),OH=Cn.div(RW||(RW=Ye(["\n  margin-top: 8px;\n  width: 100%;\n  display: block;\n  position: relative;\n  background-color: #f9fafb;\n  img {\n    object-fit: contain;\n    width: 100%;\n    height: 100%;\n  }\n"]))),RH=Cn.ul(DW||(DW=Ye(["\n  line-height: 1.3;\n  display: flex;\n  align-items: flex-start;\n  overflow: auto;\n  margin: 0 16px;\n  padding: 8px 0;\n  border-bottom: 1px solid #e9e5df;\n  list-style: none;\n  li {\n    margin-right: 5px;\n    font-size: 12px;\n    button {\n      display: flex;\n    }\n  }\n"]))),DH=(Cn.div(NW||(NW=Ye(["\n  align-items: center;\n  display: flex;\n  justify-content: flex-start;\n  margin: 0;\n  min-height: 40px;\n  padding: 4px 8px;\n  button {\n    display: inline-flex;\n    align-items: center;\n    padding: 8px;\n    color: #0a66c2;\n    background: transparent;\n    border: none;\n    @media (min-width: 768px) {\n      span {\n        margin-left: 8px;\n      }\n    }\n  }\n"]))),Cn.div(AW||(AW=Ye(["\n  border-radius: 20px;\n  padding: 0 16px;\n  margin: 8px 0;\n  display: flex;\n  align-items: center;\n  border: 1px solid #e6ecf0;\n  background-color: #f9fafb;\n  textarea {\n    resize: none;\n    width: 100%;\n    outline: none;\n    border: none;\n    background-color: transparent;\n    font-size: 16px;\n    margin-left: 5px;\n  }\n"])))),NH=Cn.div(jW||(jW=Ye(["\n  display: flex;\n  flex-direction: column;\n  background-color: #ffffff;\n  margin: 10px;\n  border-radius: 8px;\n"]))),AH=Cn.div(MW||(MW=Ye(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 8px;\n"]))),jH=Cn.img(LW||(LW=Ye(["\n  width: 35px;\n  height: 35px;\n  border-radius: 50%;\n  margin-right: 8px;\n  object-fit: cover;\n"]))),MH=Cn.span(FW||(FW=Ye(["\n  font-weight: 400;\n  font-size: 14px;\n  margin-right: 8px;\n  font-family: Arial, Helvetica, sans-serif;\n"]))),LH=Cn.p(UW||(UW=Ye(["\n  margin-left: 50px;\n  margin-bottom: 8px;\n  font-size: 15px;\n  color: black;\n  text-align: left;\n"]))),FH=Cn.p(VW||(VW=Ye(["\n  font-size: 14px;\n  margin-bottom: 5px;\n  color: rgba(0, 0, 0, 0.6);\n"]))),UH=ur((function(e){return{user:e.userState.user,userDetails:e.userDetailsState.userDetails,articles:e.articleState.articles}}),(function(e){return{getArticles:function(t){return e(wU(t))},getUserDetails:function(t){return e(_U(t))},saveProfileChanges:function(t,n,r,i,a,o,s,u){return e(IU(t,n,r,i,a,o,s,u))},uploadImage:function(t,n,r){return e(function(e,t,n){return function(r){nU.ref().child("images/".concat(e,"/").concat(t.name)).put(t).then((function(t){t.ref.getDownloadURL().then((function(t){"profile"===n?JF.ref("users/".concat(e)).update({photoUrl:t}):JF.ref("users/".concat(e)).update({backGroundImageURL:t})}))}))}}(t,n,r))},handleLike:function(t,n,r){return e(xU(t,n,r))},handleComment:function(t,n,r,i){return e(SU(t,n,r,i))},deleteArticle:function(t,n){return e(NU(t,n))}}}))((function(e){var t=l((0,r.useState)(""),2),n=t[0],i=t[1],a=r.useRef({}),o=l((0,r.useState)(e.userDetails.name),2),s=o[0],u=o[1],c=l((0,r.useState)(e.userDetails.bio),2),f=c[0],h=c[1],d=l((0,r.useState)(e.userDetails.email),2),p=d[0],v=d[1],y=l((0,r.useState)(e.userDetails.education),2),m=y[0],g=y[1],b=l((0,r.useState)(e.userDetails.skills),2),k=b[0],w=b[1],_=l((0,r.useState)(e.userDetails.location),2),x=_[0],S=_[1],E=l((0,r.useState)(e.userDetails.currentRole),2),T=E[0],I=E[1],C=l((0,r.useState)(null),2),P=C[0],O=C[1],R=l((0,r.useState)(null),2),D=R[0],N=R[1],A=l((0,r.useState)(!1),2),j=A[0],M=A[1],L=l((0,r.useState)(""),2),F=L[0],U=L[1];(0,r.useEffect)((function(){var t={};e.articles&&e.articles.length>0&&(e.articles.forEach((function(e){e&&(t[e.pid]=!1)})),a.current=t)}),[]),(0,r.useEffect)((function(){u(e.userDetails.name),h(e.userDetails.bio),v(e.userDetails.email),g(e.userDetails.education),w(e.userDetails.skills),S(e.userDetails.location),I(e.userDetails.currentRole)}),[e.userDetails]),(0,r.useEffect)((function(){e.user&&e.getArticles(e.user.uid)}),[e.user]),(0,r.useEffect)((function(){P&&(e.uploadImage(e.user.uid,P,"background"),O(null))}),[P]),(0,r.useEffect)((function(){D&&(e.uploadImage(e.user.uid,D,"profile"),N(null))}),[D]),(0,r.useEffect)((function(){e.user&&e.getUserDetails(e.user.uid)}),[e.user]);var V=function(e){i(e.target.value)},z=(0,HV.jsx)(dH,{children:(0,HV.jsxs)(pH,{children:[(0,HV.jsx)("h2",{style:{display:"block",margin:"0 auto",marginBottom:"20px"},children:"Edit Profile"}),(0,HV.jsxs)("div",{children:[(0,HV.jsx)("label",{children:"Name"}),(0,HV.jsx)("input",{type:"text",value:s,onChange:function(e){u(e.target.value)},placeholder:"Name"})]}),(0,HV.jsxs)("div",{children:[(0,HV.jsx)("label",{children:"Bio"}),(0,HV.jsx)("input",{type:"text",value:f,onChange:function(e){h(e.target.value)},placeholder:"Bio"})]}),(0,HV.jsxs)("div",{children:[(0,HV.jsx)("label",{children:"Email"}),(0,HV.jsx)("input",{type:"text",value:p,onChange:function(e){v(e.target.value)},placeholder:"Email"})]}),(0,HV.jsxs)("div",{children:[(0,HV.jsx)("label",{children:"Education"}),(0,HV.jsx)("input",{type:"text",value:m,onChange:function(e){g(e.target.value)},placeholder:"Education"})]}),(0,HV.jsxs)("div",{children:[(0,HV.jsx)("label",{children:"Skills"}),(0,HV.jsx)("input",{type:"text",value:k,onChange:function(e){w(e.target.value)},placeholder:"Skills"})]}),(0,HV.jsxs)("div",{children:[(0,HV.jsx)("label",{children:"Location"}),(0,HV.jsx)("input",{type:"text",value:x,onChange:function(e){S(e.target.value)},placeholder:"Location"})]}),(0,HV.jsxs)("div",{children:[(0,HV.jsx)("label",{children:"Current Role"}),(0,HV.jsx)("input",{type:"text",value:T,onChange:function(e){I(e.target.value)},placeholder:"Current Role"})]}),(0,HV.jsx)("button",{onClick:function(){return M(!1)},children:"Cancel"}),(0,HV.jsx)("button",{onClick:function(){e.saveProfileChanges(e.userDetails.userid,s,f,p,m,k,x,T),M(!1)},children:"Save"})]})});return(0,HV.jsx)(HV.Fragment,{children:j?z:(0,HV.jsxs)(vH,{children:[(0,HV.jsxs)(yH,{children:[""===e.userDetails.backGroundImageURL?(0,HV.jsx)("img",{src:"/images/cover.png",alt:"cover"}):(0,HV.jsx)("img",{src:e.userDetails.backGroundImageURL,alt:"cover"}),(0,HV.jsxs)(kH,{children:[(0,HV.jsx)("label",{htmlFor:"cover-pic-input",children:(0,HV.jsx)("img",{src:"/images/icons8-add(2).svg",alt:"upload",style:{pointer:"cursor"}})}),(0,HV.jsx)("input",{type:"file",id:"cover-pic-input",accept:".jpg,.jpeg,.png",onChange:function(e){var t=e.target.files[0];O(t)},style:{display:"none"}})]})]}),(0,HV.jsxs)(mH,{children:[(0,HV.jsxs)(gH,{children:[""===e.userDetails.photoUrl?(0,HV.jsx)("img",{src:"/images/default-profile-icon.jpg",alt:"user"}):(0,HV.jsx)("img",{src:e.userDetails.photoUrl,alt:"user"}),(0,HV.jsxs)(bH,{children:[(0,HV.jsx)("label",{htmlFor:"profile-pic-input",children:(0,HV.jsx)("img",{src:"/images/icons8-add(2).svg",alt:"upload",style:{pointer:"cursor",width:"30px",height:"30px"}})}),(0,HV.jsx)("input",{type:"file",id:"profile-pic-input",accept:".jpg,.jpeg,.png",onChange:function(e){var t=e.target.files[0];N(t)},style:{display:"none"}})]})]}),(0,HV.jsxs)(wH,{children:[(0,HV.jsx)("h2",{style:{color:"rgb(102,103,171)"},children:e.userDetails.name}),(0,HV.jsx)("p",{children:""===e.userDetails.bio?"No Bio.Must be 25 Characters":e.userDetails.bio}),(0,HV.jsx)("p",{children:(0,HV.jsxs)("span",{children:[e.userDetails.location," | ",e.userDetails.currentRole]})}),(0,HV.jsxs)(_H,{children:[(0,HV.jsxs)("div",{children:[(0,HV.jsx)("h3",{children:"Email:"}),(0,HV.jsx)("h3",{children:"Education:"}),(0,HV.jsx)("h3",{children:"Skills:"})]}),(0,HV.jsxs)("div",{style:{marginLeft:"20px"},children:[(0,HV.jsx)("h3",{children:e.userDetails.email}),(0,HV.jsx)("h3",{children:e.userDetails.education}),(0,HV.jsx)("h3",{children:e.userDetails.skills})]})]}),(0,HV.jsxs)(xH,{children:[(0,HV.jsxs)("div",{children:[(0,HV.jsx)("p",{children:e.userDetails.connections?e.userDetails.connections.length:0}),(0,HV.jsx)("p",{style:{fontSize:"13px"},children:"Following"})]}),(0,HV.jsxs)("div",{children:[(0,HV.jsx)("p",{children:e.userDetails.followers?e.userDetails.followers.length:0}),(0,HV.jsx)("p",{style:{fontSize:"13px"},children:"Followers"})]}),(0,HV.jsx)("div",{children:(0,HV.jsx)("button",{style:{marginLeft:"20px"},onClick:function(){return M(!0)},children:"Edit Profile"})})]})]})]}),e.articles&&e.articles.length<0?(0,HV.jsxs)("h2",{style:{margin:"10px",fontWeight:"normal",fontSize:"20px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:["Lets share something"," "]}):(0,HV.jsxs)(EH,{children:[(0,HV.jsx)("h2",{style:{margin:"10px",fontWeight:"normal",fontSize:"20px"},children:"Recent Articles"}),e.articles&&e.articles.length>0&&e.articles.map((function(t,r){return t?(0,HV.jsxs)(TH,{children:[(0,HV.jsxs)(CH,{children:[(0,HV.jsxs)("a",{children:[(0,HV.jsx)("img",{src:e.userDetails.photoUrl,alt:"",style:{width:"48px",height:"48px",borderRadius:"50%",marginRight:"8px",objectFit:"cover"}}),(0,HV.jsxs)("div",{children:[(0,HV.jsx)("span",{style:{color:"rgb(102,103,171)",fontWeight:"bold"},children:e.userDetails.name}),t.actor&&(0,HV.jsx)("span",{children:t.actor.description}),t.actor&&(0,HV.jsx)("span",{children:t.actor.date})]})]}),(0,HV.jsxs)("button",{children:[(0,HV.jsx)("img",{src:"/images/icons8-more.svg",alt:"",width:"20px"}),(0,HV.jsx)(IH,{children:(0,HV.jsx)("a",{onClick:function(){return n=t.pid,r=t.userId,void e.deleteArticle(n,r);var n,r},children:"Delete"})})]})]}),(0,HV.jsx)(PH,{children:t.description}),(0,HV.jsx)(OH,{children:(0,HV.jsx)("a",{children:!t.sharedImg&&t.video?(0,HV.jsx)(xz.Z,{width:"100%",url:t.video}):t.sharedImg&&(0,HV.jsx)("img",{src:t.sharedImg,alt:""})})}),(0,HV.jsxs)(RH,{children:[(0,HV.jsx)("li",{children:(0,HV.jsxs)("button",{style:{border:"none",backgroundColor:"white",cursor:"pointer"},onClick:function(){var n,r,i;n=t.pid,r=e.user.uid,i=t.userId,e.handleLike(n,r,i)},children:[(0,HV.jsx)("img",{src:"/images/icons8-good-quality(2).svg",alt:"",class:"svg-icon count-like"}),(0,HV.jsx)("span",{class:"count",children:t.likes})]})}),(0,HV.jsx)("li",{children:(0,HV.jsxs)("button",{onClick:function(){var e;e=t.pid,U((function(t){return wi(wi({},t),{},fr({},e,!t[e]))}))},style:{border:"none",backgroundColor:"white",cursor:"pointer"},children:[(0,HV.jsx)("img",{src:"/images/icons8-speech-bubble.svg",alt:"",class:"svg-icon count-comment",style:{marginRight:"5px"}}),(0,HV.jsx)("span",{class:"count",children:t.comments?t.comments.length:0})]})})]}),F[t.pid]&&(0,HV.jsxs)(DH,{children:[(0,HV.jsx)("textarea",{value:n,type:"text",placeholder:"Add a comment",onChange:V}),(0,HV.jsx)("button",{onClick:function(){!function(t,n,r,a){e.handleComment(t,n,r,a),i("")}(t.pid,e.user.uid,t.userId,n)},style:{border:"none",backgroundColor:"white",cursor:"pointer"},disabled:!n.trim(),children:(0,HV.jsx)("img",{src:"/images/icons8-send-comment.svg",alt:"",class:"svg-icon"})})]}),(0,HV.jsx)(NH,{children:F[t.pid]&&t.comments&&t.comments.map((function(t,n){return(0,HV.jsxs)(FH,{children:[(0,HV.jsxs)(AH,{children:[(0,HV.jsx)(jH,{src:e.userDetails.photoUrl,alt:""}),(0,HV.jsx)(MH,{children:e.userDetails.name})]}),(0,HV.jsx)(LH,{children:t.comment})]},n)}))})]},r):null}))]})]})})}));var VH,zH,qH,BH=Cn.div(WW||(WW=Ye(["\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell,\n    'Open Sans', 'Helvetica Neue', sans-serif;\n  margin-top: 100px;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),WH=Cn.div(HW||(HW=Ye(["\n  width: 80%;\n  margin: 0 auto;\n  height: 350px;\n  position: relative;\n  img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n"]))),HH=Cn.div(GW||(GW=Ye(["\n  background-color: #ffffff;\n  width: 50%;\n  height: 250px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  position: absolute;\n  top: 200px;\n  left: 15%;\n"]))),GH=Cn.div(KW||(KW=Ye(["\n  width: 200px;\n  height: 100%;\n  img {\n    width: 200px;\n    height: 250px;\n    object-fit: cover;\n  }\n"]))),KH=Cn.div(YW||(YW=Ye(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: left;\n  margin-left: 20px;\n  padding-top: 15px;\n  h2 {\n    font-size: 24px;\n    font-weight: 500;\n    color: black;\n    line-height: 1.5;\n    margin-bottom: 5px;\n  }\n  h3 {\n    font-size: 15px;\n    font-weight: 350;\n    color: black;\n    line-height: 1.5;\n    margin-bottom: 5px;\n  }\n  p {\n    width: 100%;\n    font-size: 15px;\n    height: 100%;\n    margin-bottom: 5px;\n  }\n"]))),YH=Cn.div(QW||(QW=Ye(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  div {\n    display: flex;\n    flex-direction: column;\n    align-items: left;\n    height: 100%;\n  }\n"]))),QH=Cn.div($W||($W=Ye(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  margin-bottom: 10px;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  button {\n    width: 100px;\n    height: 30px;\n    border-radius: 20px;\n    border: none;\n    background-color: #0a66c2;\n    color: white;\n    font-weight: 500;\n    font-size: 15px;\n    cursor: pointer;\n  }\n  button:disabled {\n    visibility: hidden;\n  }\n\n  div {\n    font-size: 15px;\n    font-weight: 350;\n    color: black;\n    margin-right: 10px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    p {\n      font-size: 20px;\n      font-weight: 500;\n      color: black;\n    }\n  }\n"]))),$H=Cn.div(XW||(XW=Ye(["\n  text-align: center;\n  overflow: hidden;\n  margin-bottom: 8px;\n  background-color: #fff;\n  position: relative;\n  border: none;\n"]))),XH=Cn.div(JW||(JW=Ye(["\n  text-align: center;\n  width: 750px;\n  & > img {\n    width: 30px;\n  }\n"]))),JH=Cn($H)(ZW||(ZW=Ye(["\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell,\n    'Open Sans', 'Helvetica Neue', sans-serif;\n  padding: 0;\n  margin: 0 auto;\n  min-width: 700px;\n  overflow: visible;\n"]))),ZH=Cn.div(eH||(eH=Ye(["\n  position: absolute;\n  top: 25px;\n  right: -20px;\n  background: white;\n  border-radius: 5px;\n  display: none;\n  height: 20px;\n  padding: 10px;\n  font-size: 14px;\n  border: 1px solid rgba(0, 0, 0, 0.15);\n"]))),eG=Cn.div(tH||(tH=Ye(["\n  padding-right: 40px;\n  flex-wrap: nowrap;\n  padding: 12px 16px 0;\n  margin-bottom: 8px;\n  align-items: center;\n  display: flex;\n  a {\n    margin-right: 12px;\n    flex-grow: 1;\n    overflow: hidden;\n    display: flex;\n    text-decoration: none;\n    img {\n      width: 48px;\n      height: 48px;\n    }\n    & > div {\n      display: flex;\n      flex-direction: column;\n      flex-grow: 1;\n      flex-basis: 0;\n      margin-left: 8px;\n      overflow: hidden;\n      span {\n        text-align: left;\n        &:first-child {\n          font-size: 14px;\n          font-weight: 700;\n          color: rgba(0, 0, 0, 1);\n        }\n        &:nth-child(n + 1) {\n          font-size: 12px;\n          color: rgba(0, 0, 0, 0.6);\n        }\n      }\n    }\n  }\n  button {\n    position: absolute;\n    right: 12px;\n    top: 0;\n    background: transparent;\n    border: none;\n    outline: none;\n    cursor: pointer;\n    &:hover {\n      "," {\n        display: block;\n      }\n    }\n  }\n"])),ZH),tG=Cn.div(nH||(nH=Ye(["\n  padding: 0 16px;\n  overflow: hidden;\n  color: rgba(0, 0, 0, 0.9);\n  font-size: 14px;\n  text-align: left;\n  margin: 10px;\n  margin-top: 20px;\n  margin-bottom: 20px;\n"]))),nG=Cn.div(rH||(rH=Ye(["\n  margin-top: 8px;\n  width: 100%;\n  display: block;\n  position: relative;\n  background-color: #f9fafb;\n  img {\n    object-fit: contain;\n    width: 100%;\n    height: 100%;\n  }\n"]))),rG=Cn.ul(iH||(iH=Ye(["\n  line-height: 1.3;\n  display: flex;\n  align-items: flex-start;\n  overflow: auto;\n  margin: 0 16px;\n  padding: 8px 0;\n  border-bottom: 1px solid #e9e5df;\n  list-style: none;\n  li {\n    margin-right: 5px;\n    font-size: 12px;\n    button {\n      display: flex;\n    }\n  }\n"]))),iG=(Cn.div(aH||(aH=Ye(["\n  align-items: center;\n  display: flex;\n  justify-content: flex-start;\n  margin: 0;\n  min-height: 40px;\n  padding: 4px 8px;\n  button {\n    display: inline-flex;\n    align-items: center;\n    padding: 8px;\n    color: #0a66c2;\n    background: transparent;\n    border: none;\n    @media (min-width: 768px) {\n      span {\n        margin-left: 8px;\n      }\n    }\n  }\n"]))),Cn.div(oH||(oH=Ye(["\n  border-radius: 20px;\n  padding: 0 16px;\n  margin: 8px 0;\n  display: flex;\n  align-items: center;\n  border: 1px solid #e6ecf0;\n  background-color: #f9fafb;\n  textarea {\n    resize: none;\n    width: 100%;\n    outline: none;\n    border: none;\n    background-color: transparent;\n    font-size: 16px;\n    margin-left: 5px;\n  }\n"])))),aG=Cn.div(sH||(sH=Ye(["\n  display: flex;\n  flex-direction: column;\n  background-color: #ffffff;\n  margin: 10px;\n  border-radius: 8px;\n"]))),oG=Cn.div(uH||(uH=Ye(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 8px;\n"]))),sG=Cn.img(cH||(cH=Ye(["\n  width: 35px;\n  height: 35px;\n  border-radius: 50%;\n  margin-right: 8px;\n  object-fit: cover;\n"]))),uG=Cn.span(lH||(lH=Ye(["\n  font-weight: 400;\n  font-size: 14px;\n  margin-right: 8px;\n  font-family: Arial, Helvetica, sans-serif;\n"]))),cG=Cn.p(fH||(fH=Ye(["\n  margin-left: 50px;\n  margin-bottom: 8px;\n  font-size: 15px;\n  color: black;\n  text-align: left;\n"]))),lG=Cn.p(hH||(hH=Ye(["\n  font-size: 14px;\n  margin-bottom: 5px;\n  color: rgba(0, 0, 0, 0.6);\n"]))),fG=ur((function(e){return{user:e.userState.user,userDetails:e.userDetailsState.userDetails,articles:e.articleState.articles,handleFollow:e.followState.handleFollow,connections:e.connectionsState.connections}}),(function(e){return{getUserDetails:function(t){return e(_U(t))},getArticles:function(t){return e(wU(t))},handleFollow:function(t,n){return e(CU(t,n))},retrieveConnections:function(t){return e(PU(t))},handleLike:function(t,n,r){return e(xU(t,n,r))},handleComment:function(t,n,r,i){return e(SU(t,n,r,i))}}}))((function(e){var t=l((0,r.useState)(""),2),n=t[0],i=t[1],a=r.useRef({}),o=l((0,r.useState)(""),2),s=o[0],u=o[1],c=function(){var e=r.useContext(ke).matches,t=e[e.length-1];return t?t.params:{}}().id;(0,r.useEffect)((function(){c&&e.getUserDetails(c)}),[c!==e.userDetails.userid]),(0,r.useEffect)((function(){e.user&&e.retrieveConnections(e.user.uid)}),[e.user]),(0,r.useEffect)((function(){var t={};e.articles&&e.articles.length>0&&(e.articles.forEach((function(e){e&&(t[e.pid]=!1)})),a.current=t)}),[]),(0,r.useEffect)((function(){e.getArticles(c)}),[c]),(0,r.useEffect)((function(){document.title="".concat(e.userDetails.name," | Idea Lab")}),[e.userDetails]);var f=function(e){i(e.target.value)};return(0,HV.jsx)(HV.Fragment,{children:(0,HV.jsxs)(BH,{children:[(0,HV.jsx)(WH,{children:""===e.userDetails.backGroundImageURL?(0,HV.jsx)("img",{src:"/images/cover.png",alt:"cover"}):(0,HV.jsx)("img",{src:e.userDetails.backGroundImageURL,alt:"cover"})}),(0,HV.jsxs)(HH,{children:[(0,HV.jsx)(GH,{children:""===e.userDetails.photoUrl?(0,HV.jsx)("img",{src:"/images/default-profile-icon.jpg",alt:"user"}):(0,HV.jsx)("img",{src:e.userDetails.photoUrl,alt:"user"})}),(0,HV.jsxs)(KH,{children:[(0,HV.jsx)("h2",{style:{color:"rgb(102,103,171)"},children:e.userDetails.name}),(0,HV.jsx)("p",{children:""===e.userDetails.bio?"No Bio.Must be 25 Characters":e.userDetails.bio}),(0,HV.jsxs)("p",{children:[(0,HV.jsxs)("span",{children:[" ",e.userDetails.location," | "]}),(0,HV.jsx)("span",{children:e.userDetails.currentRole})]}),(0,HV.jsxs)(YH,{children:[(0,HV.jsxs)("div",{children:[(0,HV.jsx)("h3",{children:"Email:"}),(0,HV.jsx)("h3",{children:"Education:"}),(0,HV.jsx)("h3",{children:"Skills:"})]}),(0,HV.jsxs)("div",{style:{marginLeft:"20px"},children:[(0,HV.jsx)("h3",{children:e.userDetails.email}),(0,HV.jsx)("h3",{children:e.userDetails.education}),(0,HV.jsx)("h3",{children:e.userDetails.skills})]})]}),(0,HV.jsxs)(QH,{children:[e.user&&(0,HV.jsx)("button",{disabled:e.user.uid===c,onClick:function(){return t=e.user.uid,n=e.userDetails.userid,void e.handleFollow(t,n);var t,n},children:e.connections&&e.connections.includes(e.userDetails.userid)?"Unfollow":"Follow"}),(0,HV.jsxs)("div",{children:[(0,HV.jsx)("p",{children:e.userDetails.followers?e.userDetails.followers.length:0}),(0,HV.jsx)("p",{style:{fontSize:"13px"},children:"Followers"})]})]})]})]}),e.articles&&e.articles.length<0?(0,HV.jsx)("h2",{style:{margin:"10px",fontWeight:"normal",fontSize:"20px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:"Let's share something"}):(0,HV.jsxs)(XH,{children:[(0,HV.jsx)("h2",{style:{margin:"10px",fontWeight:"normal",fontSize:"20px"},children:"Recent Articles"}),e.articles&&e.articles.length>0&&e.articles.map((function(t,r){return t?(0,HV.jsxs)(JH,{children:[(0,HV.jsxs)(eG,{children:[(0,HV.jsxs)("a",{children:[(0,HV.jsx)("img",{src:e.userDetails.photoUrl,alt:"",style:{width:"48px",height:"48px",borderRadius:"50%",marginRight:"8px",objectFit:"cover"}}),(0,HV.jsxs)("div",{children:[(0,HV.jsx)("span",{style:{color:"rgb(102,103,171)",fontWeight:"bold"},children:e.userDetails.name}),t.actor&&(0,HV.jsx)("span",{children:t.actor.description}),t.actor&&(0,HV.jsx)("span",{children:t.actor.date})]})]}),(0,HV.jsxs)("button",{children:[(0,HV.jsx)("img",{src:"/images/icons8-more.svg",alt:"",width:"20px"}),(0,HV.jsx)(ZH,{children:(0,HV.jsx)("a",{children:"Report"})})]})]}),(0,HV.jsx)(tG,{children:t.description}),(0,HV.jsx)(nG,{children:(0,HV.jsx)("a",{children:!t.sharedImg&&t.video?(0,HV.jsx)(xz.Z,{width:"100%",url:t.video}):t.sharedImg&&(0,HV.jsx)("img",{src:t.sharedImg,alt:""})})}),(0,HV.jsxs)(rG,{children:[(0,HV.jsx)("li",{children:(0,HV.jsxs)("button",{style:{border:"none",backgroundColor:"white",cursor:"pointer"},onClick:function(){var n,r,i;n=t.pid,r=e.user.uid,i=t.userId,e.handleLike(n,r,i)},children:[(0,HV.jsx)("img",{src:"/images/icons8-good-quality(2).svg",alt:"",class:"svg-icon count-like"}),(0,HV.jsx)("span",{class:"count",children:t.likes})]})}),(0,HV.jsx)("li",{children:(0,HV.jsxs)("button",{onClick:function(){var e;e=t.pid,u((function(t){return wi(wi({},t),{},fr({},e,!t[e]))}))},style:{border:"none",backgroundColor:"white",cursor:"pointer"},children:[(0,HV.jsx)("img",{src:"/images/icons8-speech-bubble.svg",alt:"",class:"svg-icon count-comment",style:{marginRight:"5px"}}),(0,HV.jsx)("span",{class:"count",children:t.comments?t.comments.length:0})]})})]}),s[t.pid]&&(0,HV.jsxs)(iG,{children:[(0,HV.jsx)("textarea",{value:n,type:"text",placeholder:"Add a comment",onChange:f}),(0,HV.jsx)("button",{onClick:function(){!function(t,n,r,a){e.handleComment(t,n,r,a),i("")}(t.pid,e.user.uid,t.userId,n)},style:{border:"none",backgroundColor:"white",cursor:"pointer"},disabled:!n.trim(),children:(0,HV.jsx)("img",{src:"/images/icons8-send-comment.svg",alt:"",class:"svg-icon"})})]}),(0,HV.jsx)(aG,{children:s[t.pid]&&t.comments&&t.comments.map((function(t,n){return(0,HV.jsxs)(lG,{children:[(0,HV.jsxs)(oG,{children:[(0,HV.jsx)(sG,{src:e.userDetails.photoUrl,alt:""}),(0,HV.jsx)(uG,{children:e.userDetails.name})]}),(0,HV.jsx)(cG,{children:t.comment})]},n)}))})]},r):null}))]})]})})})),hG=Cn.div(VH||(VH=Ye(["\n  width: 100%;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell,\n    'Open Sans', 'Helvetica Neue', sans-serif;\n  background-color: #ffffff;\n"]))),dG=function(){return(0,HV.jsxs)(hG,{children:[(0,HV.jsx)(_z,{}),(0,HV.jsx)(Tq,{}),(0,HV.jsx)(Pq,{})]})},pG=Cn.div(zH||(zH=Ye(["\n  background-color: #ffffff;\n  padding: 0 0 0 0;\n  margin: 0 auto;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100vh;\n  img {\n    width: 350px;\n  }\n  h1 {\n    font-size: 30px;\n    font-weight: 600;\n    margin: 20px;\n    padding-top: 20px;\n  }\n"]))),vG=function(){return(0,HV.jsxs)(pG,{children:[(0,HV.jsx)("img",{src:"/images/bubble-gum-message-sent.gif",alt:"message"}),(0,HV.jsxs)("h1",{style:{color:"rgb(85, 85, 85)"},children:["Mind ",(0,HV.jsx)("span",{style:{color:"rgb(102,103,171)"},children:"Share"})]})]})},yG=Cn.div(qH||(qH=Ye(["\n  background-color: #ffffff;\n  padding: 0 0 0 0;\n  margin: 0 auto;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100vh;\n  img {\n    width: 350px;\n  }\n  h1 {\n    font-size: 30px;\n    font-weight: 600;\n    margin: 20px;\n    padding-top: 20px;\n  }\n"]))),mG=function(){return(0,HV.jsxs)(yG,{children:[(0,HV.jsx)("img",{src:"/images/notifications.svg",alt:"notifications"}),(0,HV.jsxs)("h1",{style:{color:"rgb(85, 85, 85)"},children:["Get ",(0,HV.jsx)("span",{style:{color:"rgb(102,103,171)"},children:"Notified"})]})]})};var gG=ur((function(e){return{}}),(function(e){return{getUserAuth:function(){return e((function(e){ZF.onAuthStateChanged(function(){var t=Xe(Qe().mark((function t(n){return Qe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n&&e(mU(n));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}))}}}))((function(e){return(0,r.useEffect)((function(){e.getUserAuth()}),[]),(0,HV.jsx)("div",{className:"App",children:(0,HV.jsx)(We,{children:(0,HV.jsxs)(Fe,{children:[(0,HV.jsx)(Me,{path:"/",element:(0,HV.jsx)(oz,{})}),(0,HV.jsx)(Me,{path:"/home",element:[(0,HV.jsx)(_z,{}),(0,HV.jsx)(xq,{})]}),(0,HV.jsx)(Me,{path:"/profile",element:[(0,HV.jsx)(_z,{}),(0,HV.jsx)(UH,{})]}),(0,HV.jsx)(Me,{path:"/my-network",element:(0,HV.jsx)(dG,{})}),(0,HV.jsx)(Me,{path:"/tech-today",element:[(0,HV.jsx)(_z,{}),(0,HV.jsx)(BW,{})]}),(0,HV.jsx)(Me,{path:"/profile/:id",element:[(0,HV.jsx)(_z,{}),(0,HV.jsx)(fG,{})]}),(0,HV.jsx)(Me,{path:"/mind-share",element:[(0,HV.jsx)(_z,{}),(0,HV.jsx)(vG,{})]}),(0,HV.jsx)(Me,{path:"/notifications",element:[(0,HV.jsx)(_z,{}),(0,HV.jsx)(mG,{})]})]})})})})),bG=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};function kG(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var wG="function"===typeof Symbol&&Symbol.observable||"@@observable",_G=function(){return Math.random().toString(36).substring(7).split("").join(".")},xG={INIT:"@@redux/INIT"+_G(),REPLACE:"@@redux/REPLACE"+_G(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+_G()}};function SG(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function EG(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(kG(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(kG(1));return n(EG)(e,t)}if("function"!==typeof e)throw new Error(kG(2));var i=e,a=t,o=[],s=o,u=!1;function c(){s===o&&(s=o.slice())}function l(){if(u)throw new Error(kG(3));return a}function f(e){if("function"!==typeof e)throw new Error(kG(4));if(u)throw new Error(kG(5));var t=!0;return c(),s.push(e),function(){if(t){if(u)throw new Error(kG(6));t=!1,c();var n=s.indexOf(e);s.splice(n,1),o=null}}}function h(e){if(!SG(e))throw new Error(kG(7));if("undefined"===typeof e.type)throw new Error(kG(8));if(u)throw new Error(kG(9));try{u=!0,a=i(a,e)}finally{u=!1}for(var t=o=s,n=0;n<t.length;n++){(0,t[n])()}return e}function d(e){if("function"!==typeof e)throw new Error(kG(10));i=e,h({type:xG.REPLACE})}function p(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(kG(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[wG]=function(){return this},e}return h({type:xG.INIT}),(r={dispatch:h,subscribe:f,getState:l,replaceReducer:d})[wG]=p,r}function TG(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function IG(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var CG=IG();CG.withExtraArgument=IG;var PG=CG,OG={user:null},RG={articles:[],loading:!1},DG=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:RG,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case aU:return wi(wi({},e),{},{articles:t.payload,loading:!1});case iU:return wi(wi({},e),{},{loading:t.loading});case yU:return wi(wi({},e),{},{articles:e.articles.filter((function(e){return e.articleId!==t.payload}))});default:return e}},NG={userDetails:{},loading:!1},AG=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NG,t=arguments.length>1?arguments[1]:void 0;return t.type===sU?wi(wi({},e),{},{userDetails:t.payload,loading:!1}):e},jG={loading:!1,image:null},MG=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jG,t=arguments.length>1?arguments[1]:void 0;return t.type===oU?wi(wi({},e),{},{image:t.payload,loading:!1}):e},LG={likes:null,loading:!1},FG=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:LG,t=arguments.length>1?arguments[1]:void 0;return t.type===uU?wi(wi({},e),{},{likes:t.payload,loading:!1}):e},UG={users:[]},VG=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:UG,t=arguments.length>1?arguments[1]:void 0;return t.type===cU?wi(wi({},e),{},{users:t.payload}):e},zG={user:{},loading:!1},qG=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zG,t=arguments.length>1?arguments[1]:void 0;return t.type===lU?wi(wi({},e),{},{user:t.payload,loading:!1}):e},BG={followers:[]},WG=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:BG,t=arguments.length>1?arguments[1]:void 0;return t.type===fU?wi(wi({},e),{},{followers:t.payload}):e},HG={connections:[]},GG=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:HG,t=arguments.length>1?arguments[1]:void 0;return t.type===hU?wi(wi({},e),{},{connections:t.payload}):e},KG={communityArticles:[],loading:!1},YG=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:KG,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case dU:return wi(wi({},e),{},{communityArticles:t.payload});case iU:return wi(wi({},e),{},{loading:t.loading});default:return e}},QG={connections:[]},$G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:QG,t=arguments.length>1?arguments[1]:void 0;return t.type===pU?wi(wi({},e),{},{connections:t.payload}):e},XG={profiles:[]},JG=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:XG,t=arguments.length>1?arguments[1]:void 0;return t.type===vU?wi(wi({},e),{},{profiles:t.payload}):e},ZG=function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:xG.INIT}))throw new Error(kG(12));if("undefined"===typeof n(void 0,{type:xG.PROBE_UNKNOWN_ACTION()}))throw new Error(kG(13))}))}(n)}catch(s){a=s}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},s=0;s<o.length;s++){var u=o[s],c=n[u],l=e[u],f=c(l,t);if("undefined"===typeof f){t&&t.type;throw new Error(kG(14))}i[u]=f,r=r||f!==l}return(r=r||o.length!==Object.keys(e).length)?i:e}}({userState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:OG,t=arguments.length>1?arguments[1]:void 0;return t.type===rU?wi(wi({},e),{},{user:t.user}):e},articleState:DG,userDetailsState:AG,uploadImageState:MG,likesState:FG,searchState:VG,saveProfileChangesState:qG,followState:WG,connectionsState:GG,communityArticlesState:YG,networkState:$G,explorePeopleState:JG}),eK=EG(ZG,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(kG(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=TG.apply(void 0,a)(n.dispatch),wi(wi({},n),{},{dispatch:r})}}}(PG));a.createRoot(document.getElementById("root")).render((0,HV.jsx)(r.StrictMode,{children:(0,HV.jsx)(cr,{store:eK,children:(0,HV.jsx)(gG,{})})})),bG()}()}();
//# sourceMappingURL=main.eb370e91.js.map